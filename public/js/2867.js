(self.webpackChunkternobo = self.webpackChunkternobo || []).push([[2867, 3832, 2294, 7608, 3849, 9336], { 9655: (t, e, i) => { "use strict"; function s(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function n(t, e, i) { return e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = i, t } function o(t, e) { var i = Object.keys(t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(t); e && (s = s.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), i.push.apply(i, s) } return i } function a(t) { for (var e = 1; e < arguments.length; e++) { var i = null != arguments[e] ? arguments[e] : {}; e % 2 ? o(Object(i), !0).forEach((function (e) { n(t, e, i[e]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(i)) : o(Object(i)).forEach((function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(i, e)) })) } return t } i.d(e, { Z: () => g }); var r = function (t, e) { return t.matches ? t.matches(e) : t.msMatchesSelector ? t.msMatchesSelector(e) : t.webkitMatchesSelector ? t.webkitMatchesSelector(e) : null }, l = function (t, e) { return t.closest ? t.closest(e) : function (t, e) { for (var i = t; i && 1 === i.nodeType;) { if (r(i, e)) return i; i = i.parentNode } return null }(t, e) }, c = function (t) { return Boolean(t && "function" == typeof t.then) }, d = function t() { var e = this, i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, o = i.search, a = i.autoSelect, r = void 0 !== a && a, d = i.setValue, u = void 0 === d ? function () { } : d, h = i.setAttribute, p = void 0 === h ? function () { } : h, m = i.onUpdate, v = void 0 === m ? function () { } : m, f = i.onSubmit, g = void 0 === f ? function () { } : f, _ = i.onShow, w = void 0 === _ ? function () { } : _, b = i.onHide, C = void 0 === b ? function () { } : b, x = i.onLoading, y = void 0 === x ? function () { } : x, k = i.onLoaded, R = void 0 === k ? function () { } : k; s(this, t), n(this, "value", ""), n(this, "searchCounter", 0), n(this, "results", []), n(this, "selectedIndex", -1), n(this, "handleInput", (function (t) { var i = t.target.value; e.updateResults(i), e.value = i })), n(this, "handleKeyDown", (function (t) { var i = t.key; switch (i) { case "Up": case "Down": case "ArrowUp": case "ArrowDown": var s = "ArrowUp" === i || "Up" === i ? e.selectedIndex - 1 : e.selectedIndex + 1; t.preventDefault(), e.handleArrows(s); break; case "Tab": e.selectResult(); break; case "Enter": var n = e.results[e.selectedIndex]; e.selectResult(), e.onSubmit(n); break; case "Esc": case "Escape": e.hideResults(), e.setValue(); break; default: return } })), n(this, "handleFocus", (function (t) { var i = t.target.value; e.updateResults(i), e.value = i })), n(this, "handleBlur", (function () { e.hideResults() })), n(this, "handleResultMouseDown", (function (t) { t.preventDefault() })), n(this, "handleResultClick", (function (t) { var i = t.target, s = l(i, "[data-result-index]"); if (s) { e.selectedIndex = parseInt(s.dataset.resultIndex, 10); var n = e.results[e.selectedIndex]; e.selectResult(), e.onSubmit(n) } })), n(this, "handleArrows", (function (t) { var i = e.results.length; e.selectedIndex = (t % i + i) % i, e.onUpdate(e.results, e.selectedIndex) })), n(this, "selectResult", (function () { var t = e.results[e.selectedIndex]; t && e.setValue(t), e.hideResults() })), n(this, "updateResults", (function (t) { var i = ++e.searchCounter; e.onLoading(), e.search(t).then((function (t) { i === e.searchCounter && (e.results = t, e.onLoaded(), 0 !== e.results.length ? (e.selectedIndex = e.autoSelect ? 0 : -1, e.onUpdate(e.results, e.selectedIndex), e.showResults()) : e.hideResults()) })) })), n(this, "showResults", (function () { e.setAttribute("aria-expanded", !0), e.onShow() })), n(this, "hideResults", (function () { e.selectedIndex = -1, e.results = [], e.setAttribute("aria-expanded", !1), e.setAttribute("aria-activedescendant", ""), e.onUpdate(e.results, e.selectedIndex), e.onHide() })), n(this, "checkSelectedResultVisible", (function (t) { var i = t.querySelector('[data-result-index="'.concat(e.selectedIndex, '"]')); if (i) { var s = t.getBoundingClientRect(), n = i.getBoundingClientRect(); n.top < s.top ? t.scrollTop -= s.top - n.top : n.bottom > s.bottom && (t.scrollTop += n.bottom - s.bottom) } })), this.search = c(o) ? o : function (t) { return Promise.resolve(o(t)) }, this.autoSelect = r, this.setValue = u, this.setAttribute = p, this.onUpdate = v, this.onSubmit = g, this.onShow = w, this.onHide = C, this.onLoading = y, this.onLoaded = R }, u = 0, h = function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""; return "".concat(t).concat(++u) }; const p = function (t, e, i, s, n, o, a, r, l, c) { "boolean" != typeof a && (l = r, r = a, a = !1); const d = "function" == typeof i ? i.options : i; let u; if (t && t.render && (d.render = t.render, d.staticRenderFns = t.staticRenderFns, d._compiled = !0, n && (d.functional = !0)), s && (d._scopeId = s), o ? (u = function (t) { (t = t || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (t = __VUE_SSR_CONTEXT__), e && e.call(this, l(t)), t && t._registeredComponents && t._registeredComponents.add(o) }, d._ssrRegister = u) : e && (u = a ? function (t) { e.call(this, c(t, this.$root.$options.shadowRoot)) } : function (t) { e.call(this, r(t)) }), u) if (d.functional) { const t = d.render; d.render = function (e, i) { return u.call(i), t(e, i) } } else { const t = d.beforeCreate; d.beforeCreate = t ? [].concat(t, u) : [u] } return i }({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { ref: "root" }, [t._t("default", [i("div", t._b({}, "div", t.rootProps, !1), [i("input", t._g(t._b({ ref: "input", on: { input: t.handleInput, keydown: t.core.handleKeyDown, focus: t.core.handleFocus, blur: t.core.handleBlur } }, "input", t.inputProps, !1), t.$listeners)), t._v(" "), i("ul", t._g(t._b({ ref: "resultList" }, "ul", t.resultListProps, !1), t.resultListListeners), [t._l(t.results, (function (e, s) { return [t._t("result", [i("li", t._b({ key: t.resultProps[s].id }, "li", t.resultProps[s], !1), [t._v("\n              " + t._s(t.getResultValue(e)) + "\n            ")])], { result: e, props: t.resultProps[s] })] }))], 2)])], { rootProps: t.rootProps, inputProps: t.inputProps, inputListeners: t.inputListeners, resultListProps: t.resultListProps, resultListListeners: t.resultListListeners, results: t.results, resultProps: t.resultProps })], 2) }, staticRenderFns: [] }, undefined, { name: "Autocomplete", inheritAttrs: !1, props: { search: { type: Function, required: !0 }, baseClass: { type: String, default: "autocomplete" }, autoSelect: { type: Boolean, default: !1 }, getResultValue: { type: Function, default: function (t) { return t } }, defaultValue: { type: String, default: "" }, debounceTime: { type: Number, default: 0 } }, data: function () { var t, e, i, s, n = new d({ search: this.search, autoSelect: this.autoSelect, setValue: this.setValue, onUpdate: this.handleUpdate, onSubmit: this.handleSubmit, onShow: this.handleShow, onHide: this.handleHide, onLoading: this.handleLoading, onLoaded: this.handleLoaded }); return this.debounceTime > 0 && (n.handleInput = (t = n.handleInput, e = this.debounceTime, function () { var n = this, o = arguments, a = function () { s = null, i || t.apply(n, o) }, r = i && !s; clearTimeout(s), s = setTimeout(a, e), r && t.apply(n, o) })), { core: n, value: this.defaultValue, resultListId: h("".concat(this.baseClass, "-result-list-")), results: [], selectedIndex: -1, expanded: !1, loading: !1, position: "below", resetPosition: !0 } }, computed: { rootProps: function () { return { class: this.baseClass, style: { position: "relative" }, "data-expanded": this.expanded, "data-loading": this.loading, "data-position": this.position } }, inputProps: function () { return a({ class: "".concat(this.baseClass, "-input"), value: this.value, role: "combobox", autocomplete: "off", autocapitalize: "off", autocorrect: "off", spellcheck: "false", "aria-autocomplete": "list", "aria-haspopup": "listbox", "aria-owns": this.resultListId, "aria-expanded": this.expanded ? "true" : "false", "aria-activedescendant": this.selectedIndex > -1 ? this.resultProps[this.selectedIndex].id : "" }, this.$attrs) }, inputListeners: function () { return { input: this.handleInput, keydown: this.core.handleKeyDown, focus: this.core.handleFocus, blur: this.core.handleBlur } }, resultListProps: function () { var t = "below" === this.position ? "top" : "bottom"; return { id: this.resultListId, class: "".concat(this.baseClass, "-result-list"), role: "listbox", style: n({ position: "absolute", zIndex: 1, width: "100%", visibility: this.expanded ? "visible" : "hidden", pointerEvents: this.expanded ? "auto" : "none" }, t, "100%") } }, resultListListeners: function () { return { mousedown: this.core.handleResultMouseDown, click: this.core.handleResultClick } }, resultProps: function () { var t = this; return this.results.map((function (e, i) { return a({ id: "".concat(t.baseClass, "-result-").concat(i), class: "".concat(t.baseClass, "-result"), "data-result-index": i, role: "option" }, t.selectedIndex === i ? { "aria-selected": "true" } : {}) })) } }, mounted: function () { document.body.addEventListener("click", this.handleDocumentClick) }, beforeDestroy: function () { document.body.removeEventListener("click", this.handleDocumentClick) }, updated: function () { var t, e, i, s; this.$refs.input && this.$refs.resultList && (this.resetPosition && this.results.length > 0 && (this.resetPosition = !1, this.position = (t = this.$refs.input, e = this.$refs.resultList, i = t.getBoundingClientRect(), s = e.getBoundingClientRect(), i.bottom + s.height > window.innerHeight && window.innerHeight - i.bottom < i.top && window.pageYOffset + i.top - s.height > 0 ? "above" : "below")), this.core.checkSelectedResultVisible(this.$refs.resultList)) }, methods: { setValue: function (t) { this.value = t ? this.getResultValue(t) : "" }, handleUpdate: function (t, e) { this.results = t, this.selectedIndex = e, this.$emit("update", t, e) }, handleShow: function () { this.expanded = !0 }, handleHide: function () { this.expanded = !1, this.resetPosition = !0 }, handleLoading: function () { this.loading = !0 }, handleLoaded: function () { this.loading = !1 }, handleInput: function (t) { this.value = t.target.value, this.core.handleInput(t) }, handleSubmit: function (t) { this.$emit("submit", t) }, handleDocumentClick: function (t) { this.$refs.root.contains(t.target) || this.core.hideResults() } } }, undefined, !1, undefined, !1, void 0, void 0, void 0); function m(t) { m.installed || (m.installed = !0, t.component("Autocomplete", p)) } var v, f = { install: m }; "undefined" != typeof window ? v = window.Vue : void 0 !== i.g && (v = i.g.Vue), v && v.use(f), p.install = m; const g = p }, 9242: (t, e, i) => { "use strict"; i.d(e, { Z: () => r }); var s = i(4015), n = i.n(s), o = i(3645), a = i.n(o)()(n()); a.push([t.id, ".comment .pagedetail[data-v-34bf7fe6]{display:flex;flex-direction:column}", "", { version: 3, sources: ["webpack://./resources/js/Components/Comments/Comment.vue"], names: [], mappings: "AA+OA,sCAEE,YAAa,CACb,qBA/OF", sourcesContent: ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.comment {\n\t.pagedetail {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n}\n"], sourceRoot: "" }]); const r = a }, 8063: (t, e, i) => { "use strict"; i.d(e, { Z: () => r }); var s = i(4015), n = i.n(s), o = i(3645), a = i.n(o)()(n()); a.push([t.id, '.no-content[data-v-0257f0e1]{display:flex;align-items:center;white-space:nowrap;gap:10px;color:#c8c8c8;padding:15px 0}.no-content[data-v-0257f0e1]:after,.no-content[data-v-0257f0e1]:before{width:100%;height:1px;background:#c8c8c8;content:" "}', "", { version: 3, sources: ["webpack://./resources/js/Components/NoContent.vue"], names: [], mappings: "AAeA,6BACI,YAAa,CACb,kBAAmB,CACnB,kBAAmB,CACnB,QAAS,CACT,aAAc,CACd,cAdJ,CAQA,uEAgBQ,UAAW,CACX,UAAW,CACX,kBAAmB,CACnB,WAbR", sourcesContent: ['\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.no-content {\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n    gap: 10px;\n    color: #C8C8C8;\n    padding: 15px 0;\n\n    &::before {\n        width: 100%;\n        height: 1px;\n        background: #c8c8c8;\n        content: " ";\n    }\n\n    &::after {\n        width: 100%;\n        height: 1px;\n        background: #c8c8c8;\n        content: " ";\n    }\n}\n'], sourceRoot: "" }]); const r = a }, 516: (t, e, i) => { "use strict"; i.d(e, { fl: () => It }); var s = i(538); function n(t, e, i) { return e in t ? Object.defineProperty(t, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = i, t } function o(t, e) { var i = Object.keys(t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(t); e && (s = s.filter((function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable }))), i.push.apply(i, s) } return i } function a(t) { for (var e, i = 1; i < arguments.length; i++)e = null == arguments[i] ? {} : arguments[i], i % 2 ? o(Object(e), !0).forEach((function (i) { n(t, i, e[i]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(e)) : o(Object(e)).forEach((function (i) { Object.defineProperty(t, i, Object.getOwnPropertyDescriptor(e, i)) })); return t } function r(t) { return function (t) { if (Array.isArray(t)) return l(t) }(t) || function (t) { if ("undefined" != typeof Symbol && Symbol.iterator in Object(t)) return Array.from(t) }(t) || function (t, e) { if (t) { if ("string" == typeof t) return l(t, e); var i = Object.prototype.toString.call(t).slice(8, -1); return "Object" === i && t.constructor && (i = t.constructor.name), "Map" === i || "Set" === i ? Array.from(t) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? l(t, e) : void 0 } }(t) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function l(t, e) { (null == e || e > t.length) && (e = t.length); for (var i = 0, s = Array(e); i < e; i++)s[i] = t[i]; return s } var c, d, u = (function (t) { !function () { function e() { for (var t, s = [], n = 0; n < arguments.length; n++)if (t = arguments[n]) { var o = typeof t; if ("string" === o || "number" === o) s.push(t); else if (Array.isArray(t) && t.length) { var a = e.apply(null, t); a && s.push(a) } else if ("object" === o) for (var r in t) i.call(t, r) && t[r] && s.push(r) } return s.join(" ") } var i = {}.hasOwnProperty; t.exports ? (e.default = e, t.exports = e) : window.classNames = e }() }(d = { path: c, exports: {}, require: function (t, e) { return function () { throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs") }(null == e && d.path) } }, d.exports), d.exports), h = function (t) { return function (e, i) { if (!e) return t; var s; "string" == typeof e ? s = e : i = e; var n = t; return s && (n += "__" + s), n + (i ? Object.keys(i).reduce((function (t, e) { var s = i[e]; return s && (t += " " + ("boolean" == typeof s ? n + "--" + e : n + "--" + e + "_" + s)), t }), "") : "") } }; function p(t, e, i) { function s() { var c = Date.now() - r; c < e && 0 <= c ? n = setTimeout(s, e - c) : (n = null, !i && (l = t.apply(a, o), a = o = null)) } var n, o, a, r, l; null == e && (e = 100); var c = function () { a = this, o = arguments, r = Date.now(); var c = i && !n; return n || (n = setTimeout(s, e)), c && (l = t.apply(a, o), a = o = null), l }; return c.clear = function () { n && (clearTimeout(n), n = null) }, c.flush = function () { n && (l = t.apply(a, o), a = o = null, clearTimeout(n), n = null) }, c } p.debounce = p; var m = p, v = function () { return (v = Object.assign || function (t) { for (var e, i = 1, s = arguments.length; i < s; i++)for (var n in e = arguments[i]) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]); return t }).apply(this, arguments) }, f = function (t, e) { void 0 === t && (t = {}), void 0 === e && (e = {}), this.type = "manipulateImage", this.move = t, this.scale = e }, g = function (t, e) { void 0 === e && (e = {}), this.type = "resize", this.directions = t, this.params = e }, _ = function (t) { this.type = "move", this.directions = t }, w = function () { function t(t, e, i, s, n) { this.type = "drag", this.nativeEvent = t, this.position = i, this.previousPosition = s, this.element = e, this.anchor = n } return t.prototype.shift = function () { var t = this, e = t.element, i = t.anchor, s = t.position, n = e.getBoundingClientRect(), o = n.left, a = n.top; return { left: s.left - o - i.left, top: s.top - a - i.top } }, t }(), b = ["left", "right", "top", "bottom"], C = ["left", "right"], x = ["top", "bottom"], y = ["left", "top"], k = ["area", "stencil", "none"], R = { left: 0, top: 0, width: 0, height: 0 }; function $(t) { return { left: t.left, top: t.top, right: t.left + t.width, bottom: t.top + t.height } } function S(t) { return { left: t.left + t.width / 2, top: t.top + t.height / 2 } } function M(t, e) { var i = Math.max, s = { left: 0, top: 0, right: 0, bottom: 0 }; return b.forEach((function (n) { var o = e[n], a = $(t)[n]; s[n] = void 0 !== o && void 0 !== a ? i(0, "left" === n || "top" === n ? o - a : a - o) : 0 })), s } function A(t, e) { return { left: t.left - e.left, top: t.top - e.top, width: t.width + e.left + e.right, height: t.height + e.top + e.bottom } } function P(t) { return { left: -t.left, top: -t.top } } function E(t, e) { return v(v({}, t), { left: t.left + e.left, top: t.top + e.top }) } function z(t, e, i, s) { if (i) { var n = S(t); return { width: t.width * e, height: t.height * e, left: t.left + t.width * (1 - e) / 2 + (i.left - n.left) * (s || 1 - e), top: t.top + t.height * (1 - e) / 2 + (i.top - n.top) * (s || 1 - e) } } return { width: t.width * e, height: t.height * e, left: t.left + t.width * (1 - e) / 2, top: t.top + t.height * (1 - e) / 2 } } function L(t) { return t.width / t.height } function O(t, e) { return Math.min(void 0 !== e.right && void 0 !== e.left ? (e.right - e.left) / t.width : 1 / 0, void 0 !== e.bottom && void 0 !== e.top ? (e.bottom - e.top) / t.height : 1 / 0) } function T(t, e) { var i = { left: 0, top: 0 }, s = M(t, e); return s.left && 0 < s.left ? i.left = s.left : s.right && 0 < s.right && (i.left = -s.right), s.top && 0 < s.top ? i.top = s.top : s.bottom && 0 < s.bottom && (i.top = -s.bottom), i } function I(t, e) { var i; return e.minimum && t < e.minimum ? i = e.minimum : e.maximum && t > e.maximum && (i = e.maximum), i } function D(t, e) { var i = L(t), s = L(e); return e.width < 1 / 0 && e.height < 1 / 0 ? i > s ? { width: e.width, height: e.width / i } : { width: e.height * i, height: e.height } : e.width < 1 / 0 ? { width: e.width, height: e.width / i } : e.height < 1 / 0 ? { width: e.height * i, height: e.height } : t } function j(t, e) { return E(t, T(t, e)) } function B(t, e) { var i = Math.min; return v(v({}, t), { minWidth: i(e.width, t.minWidth), minHeight: i(e.height, t.minHeight), maxWidth: i(e.width, t.maxWidth), maxHeight: i(e.height, t.maxHeight) }) } function Z(t, e, i) { var s = Math.min, n = Math.max; void 0 === i && (i = !0); var o = {}; return b.forEach((function (a) { var r = t[a], l = e[a]; void 0 !== r && void 0 !== l ? o[a] = "left" === a || "top" === a ? i ? n(r, l) : s(r, l) : i ? s(r, l) : n(r, l) : void 0 === l ? void 0 !== r && (o[a] = r) : o[a] = l })), o } function F(t, e) { return Z(t, e, !0) } function W(t) { var e = t.size, i = t.aspectRatio, s = t.ignoreMinimum, n = t.sizeRestrictions; return !!((e.correctRatio || L(e) >= i.minimum && L(e) <= i.maximum) && e.height <= n.maxHeight && e.width <= n.maxWidth && e.width && e.height && (s || e.height >= n.minHeight && e.width >= n.minWidth)) } function H(t, e) { var i = Math.pow; return i(t.width - e.width, 2) + i(t.height - e.height, 2) } function U(t) { var e = Math.min, i = Math.max; function s(t, e) { return void 0 === e && (e = !1), t.reduce((function (t, i) { return W({ size: i, aspectRatio: r, sizeRestrictions: a, ignoreMinimum: e }) && (!t || H(i, { width: n, height: o }) < H(t, { width: n, height: o })) ? i : t }), null) } var n = t.width, o = t.height, a = t.sizeRestrictions, r = { minimum: t.aspectRatio && t.aspectRatio.minimum || 0, maximum: t.aspectRatio && t.aspectRatio.maximum || 1 / 0 }, l = { width: i(a.minWidth, e(a.maxWidth, n)), height: i(a.minHeight, e(a.maxHeight, o)) }, c = []; r && [r.minimum, r.maximum].forEach((function (t) { t && c.push({ width: l.width, height: l.width / t, correctRatio: !0 }, { width: l.height * t, height: l.height, correctRatio: !0 }) })), W({ size: l, aspectRatio: r, sizeRestrictions: a }) && c.push(l); var d = s(c) || s(c, !0); return d && { width: d.width, height: d.height } } function N(t, e) { var i, s; return t && e ? (i = "" + t + e[0].toUpperCase() + e.slice(1), s = t + "-" + e) : (i = t || e, s = t || e), { name: i, classname: s } } function q(t) { return /^data:/.test(t) || /^blob:/.test(t) } function X(t) { return !!(t && t.constructor && t.call && t.apply) } function V(t) { return void 0 === t } function Y(t, e) { var i = v({ enabled: !!t }, e); return function (t) { return "object" == typeof t && null !== t }(t) && (i = v(v({}, i), t)), i } function K(t) { var e = +t; return (0, Number.isNaN)(e) ? t : e } function G(t, e, i) { return J(t), !0 } function J(t) { return (!t || 0 === Object.keys(t).length) && "function" != typeof t } function Q(t, e) { var i = Math.pow; return Math.sqrt(i(t.x - e.x, 2) + i(t.y - e.y, 2)) } function tt(t) { var e = t.event, i = t.coordinates, s = t.positionRestrictions, n = void 0 === s ? {} : s, o = E(i, e.directions); return E(o, T(o, n)) } function et(t) { var e = t.coordinates, i = t.transform, s = t.imageSize, n = t.sizeRestrictions, o = t.positionRestrictions, a = t.aspectRatio, r = function (t, e) { return tt({ coordinates: t, positionRestrictions: o, event: new _({ left: e.left - t.left, top: e.top - t.top }) }) }, l = v({}, e); return (Array.isArray(i) ? i : [i]).forEach((function (t) { var e; V((e = "function" == typeof t ? t(v({}, l), s) : t).width) && V(e.height) || (l = function (t, e) { var i = v(v(v({}, t), U({ width: e.width, height: e.height, sizeRestrictions: n, aspectRatio: a })), { left: 0, top: 0 }); return r(i, { left: t.left, top: t.top }) }(l, v(v({}, l), e))), V(e.left) && V(e.top) || (l = r(l, v(v({}, l), e))) })), l } function it(t) { var e = t.cropper, i = t.imageSize, s = e.clientHeight, n = e.clientWidth, o = s, a = i.width * s / i.height; return a > n && (a = n, o = i.height * n / i.width), { width: a, height: o } } function st(t, e) { return Z(t, $(e)) } function nt(t) { var e = Math.abs, i = Math.pow, s = Math.min, n = Math.max, o = t.event, a = t.coordinates, r = t.visibleArea, l = t.sizeRestrictions, c = t.areaRestrictions, d = t.positionRestrictions, u = t.settings, h = void 0 === u ? {} : u, p = o.scale, m = o.move, f = v({}, r), g = v({}, a), _ = 1, w = 1, b = p.factor && .001 < e(p.factor - 1); f = E(f, { left: m.left || 0, top: m.top || 0 }); var C = { stencil: { minimum: n(l.minWidth ? l.minWidth / g.width : 0, l.minHeight ? l.minHeight / g.height : 0), maximum: s(l.maxWidth ? l.maxWidth / g.width : 1 / 0, l.maxHeight ? l.maxHeight / g.height : 1 / 0, O(g, d)) }, area: { maximum: O(f, c) } }; p.factor && b && (1 > p.factor ? 1 < (w = n(p.factor, C.stencil.minimum)) && (w = 1) : 1 < p.factor && (1 > (w = s(p.factor, s(C.area.maximum, C.stencil.maximum))) && (w = 1))), w && (f = z(f, w, p.center)); var x = a.left - r.left, y = r.width + r.left - (a.width + a.left), k = a.top - r.top, R = r.height + r.top - (a.height + a.top); return f = E(f, T(f, c)), f = E(f, T(f, { left: void 0 === d.left ? void 0 : d.left - x * w, top: void 0 === d.top ? void 0 : d.top - k * w, bottom: void 0 === d.bottom ? void 0 : d.bottom + R * w, right: void 0 === d.right ? void 0 : d.right + y * w })), g.width *= w, g.height *= w, g.left = f.left + x * w, g.top = f.top + k * w, p.factor && b && h.stencil && (1 < p.factor ? _ = s(C.area.maximum, p.factor) / w : 1 > p.factor && (_ = n(g.height / f.height, p.factor) / w), f = E(f = z(f, _, S(g), i(1 < p.factor ? C.area.maximum : g.height / f.height, 2)), T(f, c))), { coordinates: g, visibleArea: f } } function ot(t) { var e = Math.min, i = Math.max, s = t.directions, n = t.coordinates, o = t.positionRestrictions, a = void 0 === o ? {} : o, r = t.sizeRestrictions, l = t.preserveRatio, c = t.compensate, d = v({}, s), u = A(n, d).width, h = A(n, d).height; 0 > u && (0 > d.left && 0 > d.right ? (d.left = -(n.width - r.minWidth) / (d.left / d.right), d.right = -(n.width - r.minWidth) / (d.right / d.left)) : 0 > d.left ? d.left = -(n.width - r.minWidth) : 0 > d.right && (d.right = -(n.width - r.minWidth))), 0 > h && (0 > d.top && 0 > d.bottom ? (d.top = -(n.height - r.minHeight) / (d.top / d.bottom), d.bottom = -(n.height - r.minHeight) / (d.bottom / d.top)) : 0 > d.top ? d.top = -(n.height - r.minHeight) : 0 > d.bottom && (d.bottom = -(n.height - r.minHeight))); var p = M(A(n, d), a); c && (p.left && 0 < p.left && 0 === p.right ? (d.right += p.left, d.left -= p.left) : p.right && 0 < p.right && 0 === p.left && (d.left += p.right, d.right -= p.right), p.top && 0 < p.top && 0 === p.bottom ? (d.bottom += p.top, d.top -= p.top) : p.bottom && 0 < p.bottom && 0 === p.top && (d.top += p.bottom, d.bottom -= p.bottom), p = M(A(n, d), a)); var m = { width: 1 / 0, height: 1 / 0, left: 1 / 0, right: 1 / 0, top: 1 / 0, bottom: 1 / 0 }; if (b.forEach((function (t) { var e = p[t]; e && d[t] && (m[t] = i(0, 1 - e / d[t])) })), l) { var f = e.apply(Math, b.map((function (t) { return m[t] }))); f !== 1 / 0 && b.forEach((function (t) { d[t] *= f })) } else b.forEach((function (t) { m[t] !== 1 / 0 && (d[t] *= m[t]) })); if (u = A(n, d).width, h = A(n, d).height, d.right + d.left && (u > r.maxWidth ? m.width = (r.maxWidth - n.width) / (d.right + d.left) : u < r.minWidth && (m.width = (r.minWidth - n.width) / (d.right + d.left))), d.bottom + d.top && (h > r.maxHeight ? m.height = (r.maxHeight - n.height) / (d.bottom + d.top) : h < r.minHeight && (m.height = (r.minHeight - n.height) / (d.bottom + d.top))), l) { var g = e(m.width, m.height); g !== 1 / 0 && b.forEach((function (t) { d[t] *= g })) } else m.width !== 1 / 0 && C.forEach((function (t) { d[t] *= m.width })), m.height !== 1 / 0 && x.forEach((function (t) { d[t] *= m.height })); return d } function at(t, e, i, s, n, o, a, r, l, c) { "boolean" != typeof a && (l = r, r = a, a = !1); const d = "function" == typeof i ? i.options : i; let u; if (t && t.render && (d.render = t.render, d.staticRenderFns = t.staticRenderFns, d._compiled = !0, n && (d.functional = !0)), s && (d._scopeId = s), o ? (u = function (t) { (t = t || this.$vnode && this.$vnode.ssrContext || this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) || "undefined" == typeof __VUE_SSR_CONTEXT__ || (t = __VUE_SSR_CONTEXT__), e && e.call(this, l(t)), t && t._registeredComponents && t._registeredComponents.add(o) }, d._ssrRegister = u) : e && (u = a ? function (t) { e.call(this, c(t, this.$root.$options.shadowRoot)) } : function (t) { e.call(this, r(t)) }), u) if (d.functional) { const t = d.render; d.render = function (e, i) { return u.call(i), t(e, i) } } else { const t = d.beforeCreate; d.beforeCreate = t ? [].concat(t, u) : [u] } return i } var rt = at({ render: function () { var t = this, e = t.$createElement; return (t._self._c || e)("div", { ref: "draggable", class: t.classname, on: { touchstart: t.onTouchStart, mousedown: t.onMouseDown, mouseover: t.onMouseOver, mouseleave: t.onMouseLeave } }, [t._t("default")], 2) }, staticRenderFns: [] }, void 0, { name: "DraggableElement", mixins: [{ beforeMount: function () { window.addEventListener("mouseup", this.onMouseUp, { passive: !1 }), window.addEventListener("mousemove", this.onMouseMove, { passive: !1 }), window.addEventListener("touchmove", this.onTouchMove, { passive: !1 }), window.addEventListener("touchend", this.onTouchEnd, { passive: !1 }) }, beforeDestroy: function () { window.removeEventListener("mouseup", this.onMouseUp), window.removeEventListener("mousemove", this.onMouseMove), window.removeEventListener("touchmove", this.onTouchMove), window.removeEventListener("touchend", this.onTouchEnd) }, mounted: function () { if (!this.$refs.draggable) throw new Error('You should add ref "draggable" to your root element to use draggable mixin'); this.touches = [], this.hovered = !1 }, methods: { onMouseOver: function () { this.hovered || (this.hovered = !0, this.$emit("enter")) }, onMouseLeave: function () { this.hovered && !this.touches.length && (this.hovered = !1, this.$emit("leave")) }, onTouchStart: function (t) { t.cancelable && !this.disabled && 1 === t.touches.length && (this.touches = r(t.touches), !this.hovered && (this.$emit("enter"), this.hovered = !0), t.touches.length && this.initAnchor(this.touches.reduce((function (e, i) { return { clientX: e.clientX + i.clientX / t.touches.length, clientY: e.clientY + i.clientY / t.touches.length } }), { clientX: 0, clientY: 0 })), t.preventDefault && t.preventDefault(), t.stopPropagation()) }, onTouchEnd: function () { this.processEnd() }, onTouchMove: function (t) { this.touches.length && (this.processMove(t, t.touches), t.preventDefault && t.preventDefault(), t.stopPropagation && t.stopPropagation()) }, onMouseDown: function (t) { if (!this.disabled) { var e = { fake: !0, clientX: t.clientX, clientY: t.clientY }; this.touches = [e], this.initAnchor(e), t.stopPropagation() } }, onMouseMove: function (t) { this.touches.length && (this.processMove(t, [{ fake: !0, clientX: t.clientX, clientY: t.clientY }]), t.preventDefault && t.preventDefault()) }, onMouseUp: function () { this.processEnd() }, initAnchor: function (t) { var e = this.$refs.draggable.getBoundingClientRect(), i = e.left, s = e.right, n = e.bottom, o = e.top; this.anchor = { left: t.clientX - i, top: t.clientY - o, bottom: n - t.clientY, right: s - t.clientX } }, processMove: function (t, e) { var i = r(e); if (this.touches.length) { if (1 === this.touches.length && 1 === i.length) { var s = this.$refs.draggable; this.$emit("drag", new w(t, s, { left: i[0].clientX, top: i[0].clientY }, { left: this.touches[0].clientX, top: this.touches[0].clientY }, this.anchor)) } this.touches = i } }, processEnd: function () { this.touches = [], this.hovered && (this.$emit("leave"), this.hovered = !1) } } }], props: { classname: { type: String } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), lt = h("vue-handler-wrapper"), ct = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { class: t.classes.root }, [i("DraggableElement", { class: t.classes.draggable, attrs: { disabled: t.disabled }, on: { drag: function (e) { return t.$emit("drag", e) }, leave: function () { return t.$emit("leave") }, enter: function () { return t.$emit("enter") } } }, [t._t("default")], 2)], 1) }, staticRenderFns: [] }, void 0, { name: "HandlerWrapper", components: { DraggableElement: rt }, props: { horizontalPosition: { type: String }, verticalPosition: { type: String }, disabled: { type: Boolean, default: !1 }, classname: { type: String, validator: function (t) { return G(t) } } }, computed: { classes: function () { var t; if (this.horizontalPosition || this.verticalPosition) { var e, i = N(this.horizontalPosition, this.verticalPosition); t = u(this.classname, lt((n(e = {}, i.classname, !0), n(e, "disabled", this.disabled), e))) } else t = u(this.classname, lt({ disabled: this.disabled })); return { root: t, draggable: lt("draggable") } } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), dt = h("vue-line-wrapper"), ut = at({ render: function () { var t = this, e = t.$createElement; return (t._self._c || e)("DraggableElement", { class: t.classname, attrs: { disabled: t.disabled }, on: { drag: function (e) { return t.$emit("drag", e) }, leave: function () { return t.$emit("leave") }, enter: function () { return t.$emit("enter") } } }, [t._t("default")], 2) }, staticRenderFns: [] }, void 0, { name: "LineWrapper", components: { DraggableElement: rt }, props: { position: { type: String, required: !0 }, disabled: { type: Boolean, default: !1 } }, computed: { classname: function () { var t; return dt((n(t = {}, this.position, !0), n(t, "disabled", this.disabled), t)) } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), ht = h("vue-simple-handler"), pt = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("HandlerWrapper", { attrs: { "vertical-position": t.verticalPosition, "horizontal-position": t.horizontalPosition, disabled: t.disabled }, on: { drag: t.onDrag, enter: t.onEnter, leave: t.onLeave } }, [i("div", { class: t.classnames.default })]) }, staticRenderFns: [] }, void 0, { name: "SimpleHandler", components: { HandlerWrapper: ct }, props: { classname: { type: String }, hoverClassname: { type: String }, horizontalPosition: { type: String }, verticalPosition: { type: String }, disabled: { type: Boolean, default: !1 } }, data: function () { return { hover: !1 } }, computed: { classnames: function () { var t; return { default: u(ht((t = {}, n(t, this.horizontalPosition, !!this.horizontalPosition), n(t, this.verticalPosition, !!this.verticalPosition), n(t, "".concat(this.horizontalPosition, "-").concat(this.verticalPosition), !(!this.verticalPosition || !this.horizontalPosition)), n(t, "hover", this.hover), t)), this.classname, this.hover && this.hoverClassname) } } }, methods: { onDrag: function (t) { this.$emit("drag", t) }, onEnter: function () { this.hover = !0 }, onLeave: function () { this.hover = !1 } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), mt = h("vue-simple-line"), vt = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("LineWrapper", { attrs: { position: t.position, disabled: t.disabled }, on: { enter: t.onEnter, leave: t.onLeave, drag: t.onDrag } }, [i("div", { class: t.classes.root })]) }, staticRenderFns: [] }, void 0, { name: "SimpleLine", components: { LineWrapper: ut }, props: { classname: { type: String }, hoverClassname: { type: String }, position: { type: String }, disabled: { type: Boolean, default: !1 } }, data: function () { return { hover: !1 } }, computed: { classes: function () { return { root: u(mt(n({}, this.position, !0)), this.classname, this.hover && this.hoverClassname) } } }, methods: { onDrag: function (t) { this.$emit("drag", t) }, onEnter: function () { this.hover = !0 }, onLeave: function () { this.hover = !1 } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), ft = h("vue-bounding-box"), gt = ["east", "west", null], _t = ["south", "north", null], wt = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { ref: "box", class: t.classes.root }, [t._t("default"), t._v(" "), i("div", t._l(t.lineNodes, (function (e) { return i(e.component, { key: e.name, tag: "component", attrs: { classname: e.class, "hover-classname": e.hoverClass, position: e.name, disabled: e.disabled }, on: { drag: function (i) { return t.onHandlerDrag(i, e.horizontalDirection, e.verticalDirection) } } }) })), 1), t._v(" "), i("div", t._l(t.handlerNodes, (function (e) { return i(e.component, { key: e.name, tag: "component", attrs: { classname: e.class, "hover-classname": e.hoverClass, "horizontal-position": e.horizontalDirection, "vertical-position": e.verticalDirection, disabled: e.disabled }, on: { drag: function (i) { return t.onHandlerDrag(i, e.horizontalDirection, e.verticalDirection) } } }) })), 1)], 2) }, staticRenderFns: [] }, void 0, { name: "BoundingBox", props: { handlers: { type: Object, default: function () { return { eastNorth: !0, north: !0, westNorth: !0, west: !0, westSouth: !0, south: !0, eastSouth: !0, east: !0 } } }, handlerComponent: { type: [Object, String], default: function () { return pt } }, handlersClasses: { type: Object, default: function () { return {} } }, lines: { type: Object, default: function () { return { west: !0, north: !0, east: !0, south: !0 } } }, lineComponent: { type: [Object, String], default: function () { return vt } }, linesClasses: { type: Object, default: function () { return {} } }, scalable: { type: Boolean, default: !0 }, classname: { type: String, validator: function (t) { return G(t) } }, linesClassnames: { type: Object, default: function () { return {} }, validator: function (t) { return G(t) } }, handlersClassnames: { type: Object, default: function () { return {} }, validator: function (t) { return G(t) } } }, data: function () { var t = []; return gt.forEach((function (e) { _t.forEach((function (i) { if (e !== i) { var s = N(e, i), n = s.name, o = s.classname; t.push({ name: n, classname: o, verticalDirection: i, horizontalDirection: e }) } })) })), { points: t } }, computed: { classes: function () { var t = J(this.handlersClasses) ? this.handlersClassnames : this.handlersClasses, e = J(this.linesClasses) ? this.linesClassnames : this.linesClasses; return { root: u(ft(), this.classname), handlers: t, lines: e } }, lineNodes: function () { var t = this, e = []; return this.points.forEach((function (i) { i.horizontalDirection && i.verticalDirection || !t.lines[i.name] || e.push({ name: i.name, component: t.lineComponent, class: u(t.classes.lines.default, t.classes.lines[i.name], !t.scalable && t.classes.lines.disabled), hoverClass: t.classes.lines.hover, verticalDirection: i.verticalDirection, horizontalDirection: i.horizontalDirection, disabled: !t.scalable }) })), e }, handlerNodes: function () { var t = this, e = []; return this.points.forEach((function (i) { t.handlers[i.name] && e.push({ name: i.name, component: t.handlerComponent, class: u(t.classes.handlers.default, t.classes.handlers[i.name]), hoverClass: t.classes.handlers.hover, verticalDirection: i.verticalDirection, horizontalDirection: i.horizontalDirection, disabled: !t.scalable }) })), e } }, beforeMount: function () { window.addEventListener("mouseup", this.onMouseUp, { passive: !1 }), window.addEventListener("mousemove", this.onMouseMove, { passive: !1 }), window.addEventListener("touchmove", this.onTouchMove, { passive: !1 }), window.addEventListener("touchend", this.onTouchEnd, { passive: !1 }) }, beforeDestroy: function () { window.removeEventListener("mouseup", this.onMouseUp), window.removeEventListener("mousemove", this.onMouseMove), window.removeEventListener("touchmove", this.onTouchMove), window.removeEventListener("touchend", this.onTouchEnd) }, mounted: function () { this.touches = [] }, methods: { onHandlerDrag: function (t, e, i) { var s, n = t.shift(), o = n.left, a = n.top, r = { left: 0, right: 0, top: 0, bottom: 0 }; "west" === e ? r.left -= o : "east" == e && (r.right += o), "north" === i ? r.top -= a : "south" == i && (r.bottom += a), !i && e ? s = "width" : i && !e && (s = "height"), this.scalable && this.$emit("resize", new g(r, { allowedDirections: { left: "west" === e || !e, right: "east" === e || !e, bottom: "south" === i || !i, top: "north" === i || !i }, preserveAspectRatio: t.nativeEvent && t.nativeEvent.shiftKey, respectDirection: s })) } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), bt = function (t, e) { void 0 === t && (t = {}), void 0 === e && (e = {}), this.type = "manipulateImage", this.move = t, this.scale = e }, Ct = function (t) { this.type = "move", this.directions = t }, xt = h("vue-draggable-area"), yt = at({ render: function () { var t = this, e = t.$createElement; return (t._self._c || e)("div", { ref: "container", on: { touchstart: t.onTouchStart, mousedown: t.onMouseDown } }, [t._t("default")], 2) }, staticRenderFns: [] }, void 0, { name: "DraggableArea", props: { movable: { type: Boolean, default: !0 }, activationDistance: { type: Number, default: 20 } }, computed: { classnames: function () { return { default: u(xt(), this.classname) } } }, beforeMount: function () { window.addEventListener("mouseup", this.onMouseUp, { passive: !1 }), window.addEventListener("mousemove", this.onMouseMove, { passive: !1 }), window.addEventListener("touchmove", this.onTouchMove, { passive: !1 }), window.addEventListener("touchend", this.onTouchEnd, { passive: !1 }) }, beforeDestroy: function () { window.removeEventListener("mouseup", this.onMouseUp), window.removeEventListener("mousemove", this.onMouseMove), window.removeEventListener("touchmove", this.onTouchMove), window.removeEventListener("touchend", this.onTouchEnd) }, mounted: function () { this.touches = [], this.touchStarted = !1 }, methods: { onTouchStart: function (t) { if (t.cancelable) { var e = this.movable && 1 === t.touches.length; e && (this.touches = r(t.touches)), (this.touchStarted || e) && (t.preventDefault(), t.stopPropagation()) } }, onTouchEnd: function () { this.touchStarted = !1, this.processEnd() }, onTouchMove: function (t) { 1 <= this.touches.length && (this.touchStarted ? (this.processMove(t, t.touches), t.preventDefault(), t.stopPropagation()) : Q({ x: this.touches[0].clientX, y: this.touches[0].clientY }, { x: t.touches[0].clientX, y: t.touches[0].clientY }) > this.activationDistance && (this.initAnchor({ clientX: t.touches[0].clientX, clientY: t.touches[0].clientY }), this.touchStarted = !0)) }, onMouseDown: function (t) { if (this.movable) { var e = { fake: !0, clientX: t.clientX, clientY: t.clientY }; this.touches = [e], this.initAnchor(e), t.stopPropagation() } }, onMouseMove: function (t) { this.touches.length && (this.processMove(t, [{ fake: !0, clientX: t.clientX, clientY: t.clientY }]), t.preventDefault && t.cancelable && t.preventDefault(), t.stopPropagation()) }, onMouseUp: function () { this.touches = [] }, initAnchor: function (t) { var e = this.$refs.container.getBoundingClientRect(), i = e.left, s = e.top; this.anchor = { x: t.clientX - i, y: t.clientY - s } }, processMove: function (t, e) { var i = r(e); if (this.touches.length) { var s = this.$refs.container.getBoundingClientRect(), n = s.left, o = s.top; 1 === this.touches.length && 1 === i.length && this.$emit("move", new Ct({ left: i[0].clientX - (n + this.anchor.x), top: i[0].clientY - (o + this.anchor.y) })) } }, processEnd: function () { this.touches = [] } } }, void 0, !1, void 0, !1, void 0, void 0, void 0); function kt(t) { return new Promise((function (e, i) { try { if (t) if (/^data:/i.test(t)) e(function (t) { t = t.replace(/^data:([^;]+);base64,/gim, ""); for (var e = atob(t), i = e.length, s = new ArrayBuffer(i), n = new Uint8Array(s), o = 0; o < i; o++)n[o] = e.charCodeAt(o); return s }(t)); else if (/^blob:/i.test(t)) { var s = new FileReader; s.onload = function (t) { e(t.target.result) }, function (t, e) { var i = new XMLHttpRequest; i.open("GET", t, !0), i.responseType = "blob", i.onload = function () { (200 == this.status || 0 === this.status) && e(this.response) }, i.send() }(t, (function (t) { s.readAsArrayBuffer(t) })) } else { var n = new XMLHttpRequest; n.onreadystatechange = function () { 4 !== n.readyState || (200 === n.status || 0 === n.status ? e(n.response) : i("Warning: could not load an image to parse its orientation"), n = null) }, n.onprogress = function () { "image/jpeg" !== n.getResponseHeader("content-type") && n.abort() }, n.withCredentials = !1, n.open("GET", t, !0), n.responseType = "arraybuffer", n.send(null) } else i("Error: the image is empty") } catch (e) { i(e) } })) } function Rt(t) { var e = t.rotate, i = t.scaleX, s = t.scaleY, n = ""; return (e || i || s) && (e && (n += " rotate(" + e + "deg) "), i && (n += " scaleX(" + i + ") "), s && (n += " scaleY(" + s + ") ")), n } function $t(t) { try { var e, i = new DataView(t), s = void 0, n = void 0, o = void 0, a = void 0; if (255 === i.getUint8(0) && 216 === i.getUint8(1)) for (var r = i.byteLength, l = 2; l + 1 < r;) { if (255 === i.getUint8(l) && 225 === i.getUint8(l + 1)) { o = l; break } l++ } if (o && (s = o + 10, "Exif" === function (t, e, i) { var s, n = ""; for (s = e, i += e; s < i; s++)n += String.fromCharCode(t.getUint8(s)); return n }(i, o + 4, 4))) { var c = i.getUint16(s); if (((n = 18761 === c) || 19789 === c) && 42 === i.getUint16(s + 2, n)) { var d = i.getUint32(s + 4, n); 8 <= d && (a = s + d) } } if (a) for (var u = i.getUint16(a, n), h = 0; h < u; h++)if (l = a + 12 * h + 2, 274 === i.getUint16(l, n)) { l += 8, e = i.getUint16(l, n), i.setUint16(l, 1, n); break } return e } catch (t) { return null } } var St = h("vue-preview-result"), Mt = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { class: t.classes.root }, [i("div", { ref: "wrapper", class: t.classes.wrapper, style: t.wrapperStyle }, [i("img", { ref: "image", class: t.classes.image, style: t.imageStyle, attrs: { src: t.img.src } })])]) }, staticRenderFns: [] }, void 0, { name: "PreviewResult", props: { img: { type: Object }, stencilCoordinates: { type: Object, default: function () { return { width: 0, height: 0, left: 0, top: 0 } } }, imageClass: { type: String }, classname: { type: String, validator: function (t) { return G(t) } }, imageClassname: { type: String, validator: function (t) { return G(t) } } }, computed: { classes: function () { return { root: u(St(), this.classname), image: u(St("image"), this.imageClass || this.imageClassname), wrapper: St("wrapper") } }, wrapperStyle: function () { return { width: "".concat(this.stencilCoordinates.width, "px"), height: "".concat(this.stencilCoordinates.height, "px"), left: "calc(50% - ".concat(this.stencilCoordinates.width / 2, "px)"), top: "calc(50% - ".concat(this.stencilCoordinates.height / 2, "px)") } }, imageStyle: function () { var t = this.img.transforms, e = t.flipped, i = this.img.coefficient, s = this.img.size.height / i, n = this.img.size.width / i, o = { width: "".concat(n, "px"), height: "".concat(s, "px") }; return e ? (o.width = "".concat(s, "px"), o.height = "".concat(n, "px"), o.left = "".concat(-this.stencilCoordinates.left - t.translateX - (s - n) / 2, "px"), o.top = "".concat(-this.stencilCoordinates.top - t.translateY - (n - s) / 2, "px")) : (o.left = "".concat(-this.stencilCoordinates.left - t.translateX, "px"), o.top = "".concat(-this.stencilCoordinates.top - t.translateY, "px")), o.transform = Rt(t), o } } }, void 0, !1, void 0, !1, void 0, void 0, void 0); function At(t, e) { var i = e.getBoundingClientRect(), s = i.left, n = i.top, o = { left: 0, top: 0 }, a = 0; return t.forEach((function (e) { o.left += (e.clientX - s) / t.length, o.top += (e.clientY - n) / t.length })), t.forEach((function (t) { a += Q({ x: o.left, y: o.top }, { x: t.clientX - s, y: t.clientY - n }) })), { centerMass: o, spread: a, count: t.length } } var Pt = at({ render: function () { var t = this, e = t.$createElement; return (t._self._c || e)("div", { ref: "container", on: { touchstart: t.onTouchStart, mousedown: t.onMouseDown, wheel: t.onWheel } }, [t._t("default")], 2) }, staticRenderFns: [] }, void 0, { name: "CropperWrapper", props: { touchMove: { type: Object, required: !0 }, mouseMove: { type: Object, required: !0 }, touchResize: { type: Object, required: !0 }, wheelResize: { type: Object, required: !0 } }, beforeMount: function () { window.addEventListener("mouseup", this.onMouseUp, { passive: !1 }), window.addEventListener("mousemove", this.onMouseMove, { passive: !1 }), window.addEventListener("touchmove", this.onTouchMove, { passive: !1 }), window.addEventListener("touchend", this.onTouchEnd, { passive: !1 }) }, beforeDestroy: function () { window.removeEventListener("mouseup", this.onMouseUp), window.removeEventListener("mousemove", this.onMouseMove), window.removeEventListener("touchmove", this.onTouchMove), window.removeEventListener("touchend", this.onTouchEnd) }, mounted: function () { this.touches = [] }, methods: { onTouchStart: function (t) { if (t.cancelable && (this.touchMove.enabled || this.touchResize.enabled && 1 < t.touches.length)) { var e = this.$refs.container, i = e.getBoundingClientRect(), s = i.left, n = i.top, o = i.bottom, a = i.right; this.touches = r(t.touches).filter((function (t) { return t.clientX > s && t.clientX < a && t.clientY > n && t.clientY < o })), this.oldGeometricProperties = At(this.touches, e), t.preventDefault && t.preventDefault(), t.stopPropagation() } }, onTouchEnd: function (t) { 0 === t.touches.length && this.processEnd() }, onTouchMove: function (t) { var e = this; if (this.touches.length) { var i = r(t.touches).filter((function (t) { return !t.identifier || e.touches.find((function (e) { return e.identifier === t.identifier })) })); this.processMove(t, i), t.preventDefault && t.preventDefault(), t.stopPropagation && t.stopPropagation() } }, onMouseDown: function (t) { if (this.mouseMove && "buttons" in t && 1 === t.buttons) { var e = { fake: !0, clientX: t.clientX, clientY: t.clientY }; this.touches = [e], t.stopPropagation() } }, onMouseMove: function (t) { this.touches.length && (this.processMove(t, [{ fake: !0, clientX: t.clientX, clientY: t.clientY }]), t.preventDefault && t.cancelable && t.preventDefault()) }, onMouseUp: function () { this.touches = [] }, processMove: function (t, e) { if (this.touches.length) { if (1 === this.touches.length && 1 === e.length && this.touchMove.enabled) this.$emit("move", new bt({ left: this.touches[0].clientX - e[0].clientX, top: this.touches[0].clientY - e[0].clientY })); else if (1 < this.touches.length && this.touchResize) { var i = At(e, this.$refs.container), s = this.oldGeometricProperties; s.count === i.count && 1 < s.count && this.$emit("resize", new bt({ left: s.centerMass.left - i.centerMass.left, top: s.centerMass.top - i.centerMass.top }, { factor: s.spread / i.spread, center: i.centerMass })), this.oldGeometricProperties = i } this.touches = e } }, processEnd: function () { this.touches = [] }, onWheel: function (t) { if (this.wheelResize.enabled) { var e = this.$refs.container.getBoundingClientRect(), i = e.left, s = e.top, n = 1 + this.wheelResize.ratio * Math.sign(t.deltaY || t.detail || t.wheelDelta), o = { left: t.clientX - i, top: t.clientY - s }; this.$emit("resize", new bt({}, { factor: n, center: o })), t.preventDefault(), t.stopPropagation() } } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), Et = h("vue-rectangle-stencil"), zt = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { class: t.classes.stencil, style: t.style }, [i("BoundingBox", { class: t.classes.boundingBox, attrs: { handlers: t.handlers, "handler-component": t.handlerComponent, "handlers-classnames": t.handlersClassnames, "handlers-classes": t.handlersClasses, lines: t.lines, "line-component": t.lineComponent, "lines-classnames": t.linesClassnames, "lines-classes": t.linesClasses, scalable: t.scalable }, on: { resize: t.onResize } }, [i("DraggableArea", { attrs: { movable: t.movable }, on: { move: t.onMove } }, [i("PreviewResult", { class: t.classes.preview, attrs: { img: t.img, "stencil-coordinates": t.stencilCoordinates } })], 1)], 1)], 1) }, staticRenderFns: [] }, void 0, { name: "RectangleStencil", components: { PreviewResult: Mt, BoundingBox: wt, DraggableArea: yt }, props: { img: { type: Object }, stencilCoordinates: { type: Object }, handlers: { type: Object }, handlerComponent: { type: [Object, String], default: function () { return pt } }, lines: { type: Object }, lineComponent: { type: [Object, String], default: function () { return vt } }, aspectRatio: { type: [Number, String] }, minAspectRatio: { type: [Number, String] }, maxAspectRatio: { type: [Number, String] }, movable: { type: Boolean, default: !0 }, scalable: { type: Boolean, default: !0 }, previewClass: { type: String }, boundingBoxClass: { type: String }, linesClasses: { type: Object, default: function () { return {} } }, handlersClasses: { type: Object, default: function () { return {} } }, classname: { type: String, validator: function (t) { return G(t) } }, previewClassname: { type: String, validator: function (t) { return G(t) } }, boundingBoxClassname: { type: String, validator: function (t) { return G(t) } }, linesClassnames: { type: Object, validator: function (t) { return G(t) } }, handlersClassnames: { type: Object, validator: function (t) { return G(t) } } }, computed: { classes: function () { return { stencil: u(Et({ movable: this.movable }), this.classname), preview: u(Et("preview"), this.previewClass || this.previewClassname), boundingBox: u(Et("bounding-box"), this.boundingBoxClass || this.boundingBoxClassname) } }, style: function () { var t = this.stencilCoordinates, e = t.height, i = t.width, s = t.left, n = t.top; return { width: "".concat(i, "px"), height: "".concat(e, "px"), left: "".concat(s, "px"), top: "".concat(n, "px") } } }, methods: { onMove: function (t) { this.$emit("move", t) }, onResize: function (t) { this.$emit("resize", t) }, aspectRatios: function () { return { minimum: this.aspectRatio || this.minAspectRatio, maximum: this.aspectRatio || this.maxAspectRatio } } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), Lt = h("vue-circle-stencil"), Ot = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { class: t.classes.stencil, style: t.style }, [i("BoundingBox", { class: t.classes.boundingBox, attrs: { handlers: t.handlers, "handler-component": t.handlerComponent, "handlers-classes": t.handlersClasses, "handlers-classnames": t.handlersClassnames, lines: t.lines, "line-component": t.lineComponent, "lines-classes": t.linesClasses, "lines-classnames": t.linesClassnames, scalable: t.scalable }, on: { resize: t.onResize } }, [i("DraggableArea", { attrs: { movable: t.movable }, on: { move: t.onMove } }, [i("PreviewResult", { class: t.classes.preview, attrs: { img: t.img, "stencil-coordinates": t.stencilCoordinates } })], 1)], 1)], 1) }, staticRenderFns: [] }, void 0, { name: "CircleStencil", components: { PreviewResult: Mt, BoundingBox: wt, DraggableArea: yt }, props: { img: { type: Object }, stencilCoordinates: { type: Object }, handlers: { type: Object, default: function () { return { eastNorth: !0, westNorth: !0, westSouth: !0, eastSouth: !0 } } }, handlerComponent: { type: [Object, String], default: function () { return pt } }, lines: { type: Object }, lineComponent: { type: [Object, String], default: function () { return vt } }, movable: { type: Boolean, default: !0 }, scalable: { type: Boolean, default: !0 }, previewClass: { type: String }, boundingBoxClass: { type: String }, linesClasses: { type: Object, default: function () { return {} } }, handlersClasses: { type: Object, default: function () { return {} } }, classname: { type: String, validator: function (t) { return G(t) } }, previewClassname: { type: String, validator: function (t) { return G(t) } }, boundingBoxClassname: { type: String, validator: function (t) { return G(t) } }, linesClassnames: { type: Object, validator: function (t) { return G(t) } }, handlersClassnames: { type: Object, validator: function (t) { return G(t) } } }, computed: { classes: function () { return { stencil: u(Lt(), this.classname), preview: u(Lt("preview"), this.previewClass || this.previewClassname), boundingBox: u(Lt("bounding-box"), this.boundingBoxClass || this.boundingBoxClassname) } }, style: function () { var t = this.stencilCoordinates, e = t.height, i = t.width, s = t.left, n = t.top; return { width: "".concat(i, "px"), height: "".concat(e, "px"), left: "".concat(s, "px"), top: "".concat(n, "px") } } }, methods: { onMove: function (t) { this.$emit("move", t) }, onResize: function (t) { this.$emit("resize", t) }, aspectRatios: function () { return { minimum: 1, maximum: 1 } } } }, void 0, !1, void 0, !1, void 0, void 0, void 0); var Tt = h("vue-advanced-cropper"), It = at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { ref: "cropper", class: t.classes.cropper }, [i("div", { class: t.classes.background, style: t.boundariesStyle }), t._v(" "), i("div", { ref: "stretcher", class: t.classes.stretcher }), t._v(" "), i("div", { class: t.classes.boundaries, style: t.boundariesStyle }, [i("cropper-wrapper", { class: t.classes.cropperWrapper, attrs: { "wheel-resize": t.settings.wheelResize, "touch-resize": t.settings.touchResize, "touch-move": t.settings.touchMove, "mouse-move": t.settings.mouseMove }, on: { move: t.onManipulateImage, resize: t.onManipulateImage } }, [i("div", { class: t.classes.imageWrapper }, [i("img", { ref: "image", class: t.classes.image, style: t.imageStyle, attrs: { crossorigin: t.imageAttributes.crossOrigin, src: t.imageAttributes.src }, on: { mousedown: function (t) { t.preventDefault() } } })]), t._v(" "), i(t.stencilComponent, t._b({ ref: "stencil", tag: "component", attrs: { img: { src: t.imageAttributes.src, size: t.imageSize, transforms: t.imageTransforms, coefficient: t.coefficient }, "result-coordinates": t.coordinates, "stencil-coordinates": t.stencilCoordinates }, on: { resize: t.onResize, move: t.onMove } }, "component", t.stencilProps, !1)), t._v(" "), i("canvas", { ref: "canvas", style: { display: "none" } }), t._v(" "), i("canvas", { ref: "sourceCanvas", style: { display: "none" } })], 1)], 1)]) }, staticRenderFns: [] }, void 0, { name: "Cropper", components: { CropperWrapper: Pt }, props: { src: { type: String, default: null }, stencilComponent: { type: [Object, String], default: function () { return zt } }, stencilProps: { type: Object, default: function () { return {} } }, imageClass: { type: String }, boundariesClass: { type: String }, backgroundClass: { type: String }, minWidth: { type: [Number, String] }, minHeight: { type: [Number, String] }, maxWidth: { type: [Number, String] }, maxHeight: { type: [Number, String] }, debounce: { type: [Boolean, Number], default: 500 }, canvas: { type: Boolean, default: !0 }, checkOrientation: { type: Boolean, default: !0 }, crossOrigin: { type: String, default: "anonymous" }, transitionTime: { type: Number, default: 300 }, wheelResize: { type: [Boolean, Object], default: !0 }, touchResize: { type: [Boolean, Object], default: !0 }, touchMove: { type: [Boolean, Object], default: !0 }, mouseMove: { type: [Boolean, Object], default: !0 }, imageRestriction: { type: String, default: "area", validator: function (t) { return -1 !== k.indexOf(t) } }, roundResult: { type: Boolean, default: !0 }, resizeAlgorithm: { type: Function, default: function (t) { var e = Math.abs, i = t.event, s = t.coordinates, n = t.aspectRatio, o = t.positionRestrictions, a = t.sizeRestrictions, r = v(v({}, s), { right: s.left + s.width, bottom: s.top + s.height }), l = i.params || {}, c = v({}, i.directions), d = l.allowedDirections || { left: !0, right: !0, bottom: !0, top: !0 }; a.widthFrozen && (c.left = 0, c.right = 0), a.heightFrozen && (c.top = 0, c.bottom = 0), b.forEach((function (t) { d[t] || (c[t] = 0) })); var u = A(r, c = ot({ coordinates: r, directions: c, sizeRestrictions: a, positionRestrictions: o })).width, h = A(r, c).height, p = l.preserveRatio ? L(r) : I(u / h, n); if (p) { var m = l.respectDirection; if (m || (m = r.width >= r.height || 1 === p ? "width" : "height"), "width" === m) { var f = u / p - r.height; d.top && d.bottom ? (c.bottom = f / 2, c.top = f / 2) : d.bottom ? c.bottom = f : d.top ? c.top = f : d.right ? c.right = 0 : d.left && (c.left = 0) } else if ("height" === m) { var g = r.width - h * p; d.left && d.right ? (c.left = -g / 2, c.right = -g / 2) : d.left ? c.left = -g : d.right ? c.right = -g : d.top ? c.top = 0 : d.bottom && (c.bottom = 0) } c = ot({ directions: c, coordinates: r, sizeRestrictions: a, positionRestrictions: o, preserveRatio: !0, compensate: l.compensate }) } return u = A(r, c).width, h = A(r, c).height, (p = l.preserveRatio ? L(r) : I(u / h, n)) && .001 < e(p - u / h) && b.forEach((function (t) { d[t] || (c[t] = 0) })), tt({ event: new _({ left: -c.left, top: -c.top }), coordinates: { width: s.width + c.right + c.left, height: s.height + c.top + c.bottom, left: s.left, top: s.top }, positionRestrictions: o }) } }, moveAlgorithm: { type: Function, default: tt }, initStretcher: { type: Function, default: function (t) { var e = t.stretcher, i = t.imageSize, s = L(i); e.style.width = i.width + "px", e.style.height = e.clientWidth / s + "px", e.style.width = e.clientWidth + "px" } }, fitCoordinates: { type: Function, default: function (t) { var e = Math.min, i = t.visibleArea, s = t.coordinates, n = t.aspectRatio, o = t.sizeRestrictions, a = t.positionRestrictions, r = v(v({}, s), U({ width: s.width, height: s.height, aspectRatio: n, sizeRestrictions: { maxWidth: i.width, maxHeight: i.height, minHeight: e(i.height, o.minHeight), minWidth: e(i.width, o.minWidth) } })); return r = E(r, function (t, e) { return { left: t.left - e.left, top: t.top - e.top } }(S(s), S(r))), r = E(r, T(r, F($(i), a))) } }, fitVisibleArea: { type: Function, default: function (t) { var e = Math.min, i = Math.max, s = t.visibleArea, n = t.boundaries, o = t.areaRestrictions, a = t.coordinates, r = v({}, s); r.height = r.width / L(n), r.top += (s.height - r.height) / 2, (0 < a.height - r.height || 0 < a.width - r.width) && (r = z(r, i(a.height / r.height, a.width / r.height))); var l = M(r, o); l.left + l.right + l.top + l.bottom && (r = l.left + l.right > l.top + l.bottom ? z(r, e((r.width + l.left + l.right) / r.width, O(r, o))) : z(r, e((r.height + l.top + l.bottom) / r.height, O(r, o)))); var c = P(T(a, $(r))); return r.width < a.width && (c.left = 0), r.height < a.height && (c.top = 0), r = j(r = E(r, c), o) } }, defaultVisibleArea: { type: [Function, Object], default: function (t) { var e = Math.max, i = t.areaRestrictions, s = t.coordinates, n = t.imageSize, o = L(t.boundaries); if (s) { var a = { height: e(s.height, n.height), width: e(s.width, n.width) }, r = L(a), l = D({ width: r > o ? a.width : a.height * o, height: r > o ? a.width / o : a.height }, function (t) { return { width: void 0 !== t.right && void 0 !== t.left ? t.right - t.left : 1 / 0, height: void 0 !== t.bottom && void 0 !== t.top ? t.bottom - t.top : 1 / 0 } }(i)), c = { left: s.left + s.width / 2 - l.width / 2, top: s.top + s.height / 2 - l.height / 2, width: l.width, height: l.height }, d = M(s, $(v({ left: 0, top: 0 }, n))), u = {}; return d.left || d.right || !(c.width <= n.width) || (u.left = 0, u.right = n.width), d.top || d.bottom || !(c.height <= n.height) || (u.top = 0, u.bottom = n.height), j(c, F(u, i)) } var h = L(n); return l = { height: h > o ? n.height : n.width / o, width: h > o ? n.height * o : n.width }, { left: n.width / 2 - l.width / 2, top: n.height / 2 - l.height / 2, width: l.width, height: l.height } } }, defaultSize: { type: [Function, Object], default: function (t) { var e = t.imageSize, i = t.visibleArea, s = t.boundaries, n = t.aspectRatio, o = t.sizeRestrictions, a = i || e, r = s.width > s.height ? { width: .8 * a.width, height: .8 * a.width / L(s) } : { height: .8 * a.height, width: .8 * a.height * L(s) }; return U(v(v({}, r), { aspectRatio: n, sizeRestrictions: o })) } }, defaultPosition: { type: [Function, Object], default: function (t) { var e = t.imageSize, i = t.visibleArea, s = t.coordinates, n = i || e; return { left: (i ? i.left : 0) + n.width / 2 - s.width / 2, top: (i ? i.top : 0) + n.height / 2 - s.height / 2 } } }, defaultBoundaries: { type: [Function, String], default: it, validator: function (t) { return !("string" == typeof t && "fill" !== t && "fit" !== t) } }, areaRestrictionsAlgorithm: { type: Function, default: function (t) { var e = t.imageSize, i = {}; return "area" === t.imageRestriction && (i = { left: 0, top: 0, right: e.width, bottom: e.height }), i } }, sizeRestrictionsAlgorithm: { type: Function, default: function (t) { var e = t.imageSize, i = t.minWidth, s = t.minHeight, n = t.maxWidth, o = t.maxHeight; return { minWidth: i / 100 * e.width, minHeight: s / 100 * e.height, maxWidth: n / 100 * e.width, maxHeight: o / 100 * e.height } } }, positionRestrictionsAlgorithm: { type: Function, default: function (t) { var e = t.imageSize, i = {}; return "none" !== t.imageRestriction && (i = { left: 0, top: 0, right: e.width, bottom: e.height }), i } }, priority: { type: String, default: "coordinates" }, restrictions: { type: Function, validator: function (t) { return G(t) } }, classname: { type: String, validator: function (t) { return G(t) } }, imageClassname: { type: String, validator: function (t) { return G(t) } }, areaClassname: { type: String, validator: function (t) { return G(t) } }, backgroundClassname: { type: String, validator: function (t) { return G(t) } }, areaClass: { type: String, validator: function (t) { return G(t) } } }, data: function () { return { imageLoaded: !1, imageAttributes: { crossOrigin: !1, src: null }, basicImageTransforms: { rotate: null, scaleX: null, scaleY: null }, imageSize: { width: 0, height: 0 }, boundaries: { width: 0, height: 0 }, visibleArea: null, coordinates: a({}, R) } }, computed: { initialized: function () { return !(!this.visibleArea || !this.imageLoaded) }, settings: function () { return { resize: Y(this.resize, { stencil: !1 }), touchResize: Y(this.touchResize), touchMove: Y(this.touchMove), mouseMove: Y(this.mouseMove), wheelResize: Y(this.wheelResize, { ratio: .1 }) } }, coefficient: function () { return this.visibleArea ? this.visibleArea.width / this.boundaries.width : 0 }, areaRestrictions: function () { return this.imageLoaded ? this.areaRestrictionsAlgorithm({ imageSize: this.imageSize, imageRestriction: this.imageRestriction }) : {} }, sizeRestrictions: function () { if (this.boundaries.width && this.boundaries.height) { var t = (this.restrictions || this.sizeRestrictionsAlgorithm)({ imageSize: this.imageSize, minWidth: V(this.minWidth) ? 0 : K(this.minWidth), minHeight: V(this.minHeight) ? 0 : K(this.minHeight), maxWidth: V(this.maxWidth) ? 1 / 0 : K(this.maxWidth), maxHeight: V(this.maxHeight) ? 1 / 0 : K(this.maxHeight), imageWidth: this.imageSize.width, imageHeight: this.imageSize.height, props: this.$props }); return function (t) { var e = Math.min, i = t.sizeRestrictions, s = t.imageSize, n = t.boundaries, o = t.positionRestrictions, a = t.imageRestriction, r = void 0 === a ? "none" : a, l = v(v({}, i), { minWidth: void 0 === i.minWidth ? 0 : i.minWidth, minHeight: void 0 === i.minHeight ? 0 : i.minHeight, maxWidth: void 0 === i.maxWidth ? 1 / 0 : i.maxWidth, maxHeight: void 0 === i.maxHeight ? 1 / 0 : i.maxHeight }); if (void 0 !== o.left && void 0 !== o.right && (l.maxWidth = e(l.maxWidth, o.right - o.left)), void 0 !== o.bottom && void 0 !== o.top && (l.maxHeight = e(l.maxHeight, o.bottom - o.top)), "none" !== r) { var c = D(n, s), d = "area" === r ? c.width : s.width, u = "area" === r ? c.height : s.height; (!l.maxWidth || l.maxWidth > d) && (l.maxWidth = d), (!l.maxHeight || l.maxHeight > u) && (l.maxHeight = u) } return l.minWidth > l.maxWidth && (l.minWidth = l.maxWidth, l.widthFrozen = !0), l.minHeight > l.maxHeight && (l.minHeight = l.maxHeight, l.heightFrozen = !0), l }({ sizeRestrictions: t, imageSize: this.imageSize, boundaries: this.boundaries, positionRestrictions: this.positionRestrictions, imageRestriction: this.imageRestriction }) } return { minWidth: 0, minHeight: 0, maxWidth: 0, maxHeight: 0 } }, positionRestrictions: function () { return this.positionRestrictionsAlgorithm({ imageSize: this.imageSize, imageRestriction: this.imageRestriction }) }, classes: function () { return { cropper: u(Tt(), this.classname), image: u(Tt("image"), this.imageClass || this.imageClassname), boundaries: u(Tt("boundaries"), this.boundariesClass || this.areaClass || this.areaClassname), stretcher: u(Tt("stretcher")), background: u(Tt("background"), this.backgroundClass || this.backgroundClassname), imageWrapper: u(Tt("image-wrapper")), cropperWrapper: u(Tt("cropper-wrapper")) } }, imageTransforms: function () { return a(a({}, this.basicImageTransforms), {}, { scaleX: this.basicImageTransforms.scaleX || 1, scaleY: this.basicImageTransforms.scaleY || 1, translateX: this.visibleArea ? this.visibleArea.left / this.coefficient : 0, translateY: this.visibleArea ? this.visibleArea.top / this.coefficient : 0 }) }, stencilCoordinates: function () { if (this.initialized) { var t = this.coordinates, e = t.width, i = t.height, s = t.left, n = t.top; return { width: e / this.coefficient, height: i / this.coefficient, left: (s - this.visibleArea.left) / this.coefficient, top: (n - this.visibleArea.top) / this.coefficient } } return this.defaultCoordinates() }, wrapperStyle: function () { return { width: "".concat(this.stencilCoordinates.width, "px"), height: "".concat(this.stencilCoordinates.height, "px"), left: "".concat(this.stencilCoordinates.left, "px"), top: "".concat(this.stencilCoordinates.top, "px") } }, boundariesStyle: function () { return { width: this.boundaries.width ? "".concat(this.boundaries.width, "px") : "auto", height: this.boundaries.height ? "".concat(this.boundaries.height, "px") : "auto", opacity: this.imageLoaded ? 1 : 0, transition: "opacity ".concat(this.transitionTime, "ms"), pointerEvents: this.imageLoaded ? "all" : "none" } }, imageStyle: function () { var t = { left: "".concat(this.imageSize.width / (2 * this.coefficient) - this.imageTransforms.translateX, "px"), top: "".concat(this.imageSize.height / (2 * this.coefficient) - this.imageTransforms.translateY, "px"), transform: "translate(-50%, -50%)" + Rt(this.imageTransforms) }; return this.imageTransforms.flipped ? (t.width = "".concat(this.imageSize.height / this.coefficient, "px"), t.height = "".concat(this.imageSize.width / this.coefficient, "px")) : (t.width = "".concat(this.imageSize.width / this.coefficient, "px"), t.height = "".concat(this.imageSize.height / this.coefficient, "px")), t } }, watch: { src: function () { this.onChangeImage() }, stencilComponent: function () { var t = this; this.$nextTick((function () { t.resetCoordinates() })) }, minWidth: function () { this.onPropsChange() }, maxWidth: function () { this.onPropsChange() }, minHeight: function () { this.onPropsChange() }, maxHeight: function () { this.onPropsChange() }, imageRestriction: function () { this.reset() }, stencilProps: function (t, e) { ["aspectRatio", "minAspectRatio", "maxAspectRatio"].find((function (i) { return t[i] !== e[i] })) && this.$nextTick(this.onPropsChange) } }, mounted: function () { this.debouncedUpdate = m(this.update, this.debounce), this.$refs.image.addEventListener("load", this.onSuccessLoadImage), this.$refs.image.addEventListener("error", this.onFailLoadImage), this.onChangeImage(), window.addEventListener("resize", this.refresh), window.addEventListener("orientationchange", this.refresh) }, destroyed: function () { window.removeEventListener("resize", this.refresh), window.removeEventListener("orientationchange", this.refresh) }, methods: { getResult: function (t) { var e = this.initialized ? this.prepareResult(a({}, this.coordinates)) : this.defaultCoordinates(); return (t || this.canvas) && this.src && this.imageLoaded ? (this.updateCanvas(), { coordinates: e, visibleArea: this.visibleArea ? a({}, this.visibleArea) : null, canvas: this.$refs.canvas }) : { coordinates: e, visibleArea: this.visibleArea ? a({}, this.visibleArea) : null } }, zoom: function (t, e) { this.onManipulateImage(new f({}, { factor: 1 / t, center: e }), !1) }, move: function (t, e) { this.onManipulateImage(new f({ left: t || 0, top: e || 0 }), !1) }, setCoordinates: function (t) { var e = this, i = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}, s = i.autoZoom; this.$nextTick((function () { e.imageLoaded ? e.applyTransform(t, !(void 0 !== s) || s) : e.delayedTransforms = t })) }, refresh: function () { var t = this.$refs.image; if (this.src && t) return this.initialized ? this.updateVisibleArea() : this.reset() }, reset: function () { return this.resetVisibleArea() }, prepareResult: function (t) { return this.roundResult ? function (t) { var e = Math.ceil, i = Math.floor, s = Math.round, n = t.coordinates, o = t.sizeRestrictions, a = t.positionRestrictions, r = { width: s(n.width), height: s(n.height), left: s(n.left), top: s(n.top) }; return r.width > o.maxWidth ? r.width = i(n.width) : r.width < o.minWidth && (r.width = e(n.width)), r.height > o.maxHeight ? r.height = i(n.height) : r.height < o.minHeight && (r.height = e(n.height)), void 0 !== a.left && (r.left < a.left || void 0 !== a.right && r.left + r.width > a.right) && (r.left = i(a.left)), void 0 !== a.top && (r.top < a.top || void 0 !== a.bottom && r.top + r.height > a.bottom) && (r.top = i(a.top)), r }(a(a({}, this.getPublicProperties()), {}, { positionRestrictions: st(this.positionRestrictions, this.visibleArea), coordinates: t })) : t }, autoZoom: function (t) { var e = function (t) { var e = Math.min, i = Math.max, s = t.coordinates, n = t.visibleArea, o = t.areaRestrictions, a = v({}, n), r = v({}, s), l = i(0, r.width - a.width), c = i(0, r.height - a.height); return l > c ? a = z(a, e(r.width / a.width, O(a, o))) : c > l && (a = z(a, e(r.height / a.height, O(a, o)))), a = E(a, P(T(r, $(a)))), { visibleArea: a = E(a, T(a, o)) } }(a(a({}, this.getPublicProperties()), {}, { coordinates: t })).visibleArea; this.visibleArea = e }, normalizeEvent: function (t) { return function (t) { var e = t.event, i = t.visibleArea, s = t.coefficient; if ("manipulateImage" === e.type) return v(v({}, e), { move: { left: e.move && e.move.left ? s * e.move.left : 0, top: e.move && e.move.top ? s * e.move.top : 0 }, scale: { factor: e.scale && e.scale.factor ? e.scale.factor : 1, center: e.scale && e.scale.center ? { left: e.scale.center.left * s + i.left, top: e.scale.center.top * s + i.top } : null } }); if ("resize" === e.type) { var n = v(v({}, e), { directions: v({}, e.directions) }); return b.forEach((function (t) { n.directions[t] *= s })), n } if ("move" === e.type) { var o = v(v({}, e), { directions: v({}, e.directions) }); return y.forEach((function (t) { o.directions[t] *= s })), o } return e }(a(a({}, this.getPublicProperties()), {}, { event: t })) }, updateCanvas: function () { if (this.$refs.canvas) { var t = this.$refs.canvas, e = this.$refs.image, i = this.checkOrientation ? function (t, e, i) { var s = Math.PI, n = i.flipped, o = i.orientation, a = e.naturalWidth, r = e.naturalHeight, l = t.getContext("2d"); return t.width = a, t.height = r, l.save(), n && (t.width = r, t.height = a), 2 == o ? (l.translate(a, 0), l.scale(-1, 1)) : 3 == o ? (l.translate(a, r), l.rotate(1 * s)) : 4 == o ? (l.translate(0, r), l.scale(1, -1)) : 5 == o ? (l.rotate(.5 * s), l.scale(1, -1)) : 6 == o ? (l.rotate(.5 * s), l.translate(0, -r)) : 7 == o ? (l.rotate(1.5 * s), l.translate(-a, r), l.scale(1, -1)) : 8 == o && (l.translate(0, a), l.rotate(1.5 * s)), l.drawImage(e, 0, 0, a, r), l.restore(), t }(this.$refs.sourceCanvas, e, this.imageTransforms) : e; !function (t, e, i) { t.width = i.width, t.height = i.height; var s = t.getContext("2d"); s.clearRect(0, 0, t.width, t.height), s.drawImage(e, i.left, i.top, i.width, i.height, 0, 0, i.width, i.height) }(t, i, this.coordinates) } }, update: function () { this.$emit("change", this.getResult()) }, applyTransform: function (t) { var e = !!(1 < arguments.length && void 0 !== arguments[1]) && arguments[1], i = !!(2 < arguments.length && void 0 !== arguments[2]) && arguments[2], s = this.visibleArea && i ? B(this.sizeRestrictions, this.visibleArea) : this.sizeRestrictions, n = this.visibleArea && i ? st(this.positionRestrictions, this.visibleArea) : this.positionRestrictions, o = et({ transform: t, coordinates: this.coordinates, imageSize: this.imageSize, sizeRestrictions: s, positionRestrictions: n, aspectRatio: this.getAspectRatio() }); return e && this.autoZoom(o), this.onChangeCoordinates(o, !1), o }, resetCoordinates: function () { var t = this; if (this.$refs.image) { var e = this.$refs.cropper, i = this.$refs.image, s = this.sizeRestrictions, n = (s.minWidth, s.minHeight, s.maxWidth, s.maxHeight, [X(this.defaultSize) ? this.defaultSize(a({ boundaries: this.boundaries, imageSize: this.imageSize, aspectRatio: this.getAspectRatio(), sizeRestrictions: this.sizeRestrictions, visibleArea: this.visibleArea, cropper: e, image: i, imageWidth: this.imageSize.width, imageHeight: this.imageSize.height, props: this.$props }, this.sizeRestrictions)) : this.defaultSize, function (s) { return a({}, X(t.defaultPosition) ? t.defaultPosition({ coordinates: s, imageSize: t.imageSize, visibleArea: t.visibleArea, cropper: e, image: i, stencilWidth: s.width, stencilHeight: s.height, imageWidth: t.imageSize.width, imageHeight: t.imageSize.height, props: t.$props }) : t.defaultPosition) }]); this.delayedTransforms && n.push.apply(n, r(Array.isArray(this.delayedTransforms) ? this.delayedTransforms : [this.delayedTransforms])), this.applyTransform(n, !1, !0), this.delayedTransforms = null } }, clearImage: function () { var t = this; this.imageLoaded = !1, setTimeout((function () { var e = t.$refs.stretcher; e && (e.style.height = "auto", e.style.width = "auto"), t.coordinates = t.defaultCoordinates(), t.boundaries = { width: 0, height: 0 } }), this.transitionTime) }, updateBoundaries: function () { var t = this, e = this.$refs.stretcher, i = this.$refs.cropper; return this.initStretcher({ cropper: i, stretcher: e, imageSize: this.imageSize }), this.$nextTick().then((function () { var e = { cropper: i, imageSize: t.imageSize }; if (t.boundaries = X(t.defaultBoundaries) ? t.defaultBoundaries(e) : "fill" === t.defaultBoundaries ? function (t) { var e = t.cropper; return { width: e.clientWidth, height: e.clientHeight } }(e) : it(e), !t.boundaries.width || !t.boundaries.height) throw new Error("It's impossible to fit the cropper in the current container") })) }, resetVisibleArea: function () { var t = this; return this.updateBoundaries().then((function () { "visibleArea" !== t.priority && (t.visibleArea = null, t.resetCoordinates()), t.visibleArea = function (t) { var e = t.visibleArea, i = t.boundaries, s = t.areaRestrictions, n = v({}, e), o = L(i); return n.width / n.height !== o && (n.height = n.width / o), j(n, s) }({ visibleArea: X(t.defaultVisibleArea) ? t.defaultVisibleArea({ imageSize: t.imageSize, boundaries: t.boundaries, coordinates: "visibleArea" === t.priority ? null : t.coordinates, areaRestrictions: t.areaRestrictions }) : t.defaultVisibleArea, boundaries: t.boundaries, areaRestrictions: t.areaRestrictions }), "visibleArea" === t.priority ? t.resetCoordinates() : t.coordinates = t.fitCoordinates({ visibleArea: t.visibleArea, coordinates: t.coordinates, aspectRatio: t.getAspectRatio(), positionRestrictions: t.positionRestrictions, sizeRestrictions: t.sizeRestrictions }) })).catch((function () { t.visibleArea = null })) }, updateVisibleArea: function () { var t = this; return this.updateBoundaries().then((function () { t.visibleArea = t.fitVisibleArea({ imageSize: t.imageSize, boundaries: t.boundaries, visibleArea: t.visibleArea, coordinates: t.coordinates, areaRestrictions: t.areaRestrictions }), t.coordinates = t.fitCoordinates({ visibleArea: t.visibleArea, coordinates: t.coordinates, aspectRatio: t.getAspectRatio(), positionRestrictions: t.positionRestrictions, sizeRestrictions: t.sizeRestrictions }) })).catch((function () { t.visibleArea = null })) }, onChangeCoordinates: function (t) { var e = !(1 < arguments.length && void 0 !== arguments[1]) || arguments[1]; this.coordinates = t, this.$listeners && this.$listeners.change && (e && this.debounce ? this.debouncedUpdate() : this.update()) }, onChangeImage: function () { var t = this; if (this.imageLoaded = !1, this.delayedTransforms = null, this.imageAttributes.src = null, this.src) { var e = function (t) { return new Promise((function (e) { kt(t).then((function (i) { e(i ? { source: t, arrayBuffer: i, orientation: $t(i) } : { source: t, arrayBuffer: null, orientation: null }) })).catch((function (i) { console.warn(i), e({ source: t, arrayBuffer: null, orientation: null }) })) })) }(this.src); (function (t) { if (q(t)) return !1; var e = window.location, i = /(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(t) || [], s = { protocol: i[1] || "", host: i[2] || "", port: i[3] || "" }, n = function (t) { return t.port || function (t) { return "http" === t ? 80 : 433 }(t.protocol || e.protocol) }; return (s.protocol || s.host || s.port) && !(s.protocol && s.protocol == e.protocol && s.host && s.host == e.host && s.host && n(s) == n(e)) })(this.src) && (this.imageAttributes.crossOrigin = this.crossOrigin), setTimeout((function () { e.then(t.onParseImage) }), this.transitionTime) } else this.clearImage() }, onFailLoadImage: function () { this.clearImage(), this.$emit("error") }, onSuccessLoadImage: function () { var t = this, e = this.$refs.image; e && !this.imageLoaded && (this.imageTransforms.flipped ? (this.imageSize.height = e.naturalWidth, this.imageSize.width = e.naturalHeight) : (this.imageSize.height = e.naturalHeight, this.imageSize.width = e.naturalWidth), this.imageLoaded = !0, this.reset().then((function () { t.$emit("ready") }))) }, onParseImage: function (t) { var e = this, i = t.source, s = t.arrayBuffer, n = t.orientation; this.imageAttributes.src = s && n && q(i) ? function (t) { for (var e = [], i = new Uint8Array(t); 0 < i.length;) { var s = i.subarray(0, 8192); e.push(String.fromCharCode.apply(null, Array.from ? Array.from(s) : s.slice())), i = i.subarray(8192) } return "data:image/jpeg;base64," + btoa(e.join("")) }(s) : i, this.basicImageTransforms = function (t) { var e = { orientation: t }; return t && (2 === t ? e.scaleX = -1 : 3 === t ? e.rotate = -180 : 4 === t ? e.scaleY = -1 : 5 === t ? (e.rotate = 90, e.scaleY = -1) : 6 === t ? e.rotate = 90 : 7 === t ? (e.rotate = 90, e.scaleX = -1) : 8 === t && (e.rotate = -90)), (90 === e.rotate || -90 === e.rotate) && (e.flipped = !0), e }(n), this.$nextTick((function () { var t = e.$refs.image; t && t.complete && (function (t) { return !!t.naturalWidth }(t) ? e.onSuccessLoadImage() : e.onFailLoadImage()) })) }, onMove: function (t) { this.onChangeCoordinates(this.moveAlgorithm(a(a({}, this.getPublicProperties()), {}, { positionRestrictions: st(this.positionRestrictions, this.visibleArea), coordinates: this.coordinates, event: this.normalizeEvent(t) }))) }, onResize: function (t) { var e = Math.max, i = this.sizeRestrictions, s = Math.min(this.coordinates.width, this.coordinates.height, 20 * this.coefficient); this.onChangeCoordinates(this.resizeAlgorithm(a(a({}, this.getPublicProperties()), {}, { positionRestrictions: st(this.positionRestrictions, this.visibleArea), sizeRestrictions: a(a({}, i), {}, { minWidth: e(i.minWidth, s), minHeight: e(i.minHeight, s) }), event: this.normalizeEvent(t) }))) }, onManipulateImage: function (t) { var e = !(1 < arguments.length && void 0 !== arguments[1]) || arguments[1], i = nt(a(a({}, this.getPublicProperties()), {}, { event: e ? this.normalizeEvent(t) : t, imageRestriction: this.imageRestriction, settings: { resize: this.settings.resize.stencil } })), s = i.visibleArea, n = i.coordinates; this.visibleArea = s, this.onChangeCoordinates(n) }, onPropsChange: function () { this.applyTransform(this.coordinates, !0, !0) }, getAspectRatio: function () { return this.$refs.stencil.aspectRatios ? this.$refs.stencil.aspectRatios() : { minimum: this.stencilProps.aspectRatio || this.stencilProps.minAspectRatio, maximum: this.stencilProps.aspectRatio || this.stencilProps.maxAspectRatio } }, getPublicProperties: function () { return { coefficient: this.coefficient, visibleArea: this.visibleArea, coordinates: this.coordinates, boundaries: this.boundaries, sizeRestrictions: this.sizeRestrictions, positionRestrictions: this.positionRestrictions, areaRestrictions: this.areaRestrictions, aspectRatio: this.getAspectRatio(), imageRestriction: this.imageRestriction } }, defaultCoordinates: function () { return a({}, R) } } }, void 0, !1, void 0, !1, void 0, void 0, void 0), Dt = h("vue-preview-image"); at({ render: function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { class: t.classes.root, style: t.wrapperStyle }, [i("img", { ref: "image", class: t.classes.image, style: t.imageStyle, attrs: { src: t.img } })]) }, staticRenderFns: [] }, void 0, { name: "PreviewImage", props: { img: { type: String }, imageClass: { type: String }, width: { type: Number }, height: { type: Number }, top: { type: Number }, left: { type: Number }, previewWidth: { type: Number, required: !0 }, previewHeight: { type: Number, required: !0 } }, data: function () { return { imageSize: { width: 0, height: 0 } } }, computed: { classes: function () { return { root: Dt(), image: u(Dt("image"), this.imageClass) } }, wrapperStyle: function () { return { width: "".concat(this.previewWidth, "px"), height: "".concat(this.previewHeight, "px") } }, imageStyle: function () { var t = this.previewHeight / this.height; return { width: "".concat(this.imageSize.width * t, "px"), height: "".concat(this.imageSize.height * t, "px"), left: "".concat(-this.left * t, "px"), top: "".concat(-this.top * t, "px") } } }, watch: { img: function () { this.onChangeImage() } }, mounted: function () { this.onChangeImage() }, methods: { refreshImage: function () { var t = this.$refs.image; this.imageSize.height = t.naturalHeight, this.imageSize.width = t.naturalWidth }, onChangeImage: function () { var t = this, e = this.$refs.image; e.complete ? this.refreshImage() : e.addEventListener("load", (function () { t.refreshImage() })) } } }, void 0, !1, void 0, !1, void 0, void 0, void 0); s.default.component("cropper", It), s.default.component("rectangle-stencil", zt), s.default.component("circle-stencil", Ot), s.default.component("simple-handler", pt), s.default.component("simple-line", vt), function (t, e) { if (e && "undefined" != typeof document) { for (var i, s = document.head || document.getElementsByTagName("head")[0], n = s.getElementsByTagName("style"), o = 0; o < n.length; o++)n[o] && n[o].innerText && n[o].innerText.startsWith("/*for=" + t) && (i = n[o]); if (i || ((i = document.createElement("style")).type = "text/css", s.insertBefore(i, n[0] || s.firstChild)), i.styleSheet) i.styleSheet.cssText = e; else { var a = document.createTextNode("/*for=" + t + "*/" + e); i.innerHTML = "", i.appendChild(a) } } }("vue-advanced-cropper", ".vue-advanced-cropper{text-align:center;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;max-height:100%;max-width:100%;direction:ltr}.vue-advanced-cropper__stretcher{pointer-events:none;position:relative;max-width:100%;max-height:100%}.vue-advanced-cropper__image{opacity:.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;-webkit-transform-origin:center;transform-origin:center;max-width:unset!important}.vue-advanced-cropper__boundaries{position:absolute;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);top:50%}.vue-advanced-cropper__background{position:absolute;background:#000;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-advanced-cropper__cropper-wrapper{width:100%;height:100%}.vue-advanced-cropper__image-wrapper{overflow:hidden;position:absolute;width:100%;height:100%}.vue-advanced-cropper__stencil-wrapper{position:absolute}.vue-handler-wrapper{position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-handler-wrapper__draggable{width:30px;height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.vue-handler-wrapper--west-north{left:0;top:0;cursor:nw-resize}.vue-handler-wrapper--north{left:50%;top:0;cursor:n-resize}.vue-handler-wrapper--east-north{left:100%;top:0;cursor:ne-resize}.vue-handler-wrapper--east{left:100%;top:50%;cursor:e-resize}.vue-handler-wrapper--east-south{left:100%;top:100%;cursor:se-resize}.vue-handler-wrapper--south{left:50%;top:100%;cursor:s-resize}.vue-handler-wrapper--west-south{left:0;top:100%;cursor:sw-resize}.vue-handler-wrapper--west{left:0;top:50%;cursor:w-resize}.vue-handler-wrapper--disabled{cursor:auto}.vue-draggable-area{position:relative}.vue-simple-handler{display:block;background:#fff;height:10px;width:10px}.vue-line-wrapper{background:0 0;position:absolute;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.vue-line-wrapper--north,.vue-line-wrapper--south{height:12px;width:100%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-line-wrapper--north{top:0;cursor:n-resize}.vue-line-wrapper--south{top:100%;cursor:s-resize}.vue-line-wrapper--east,.vue-line-wrapper--west{width:12px;height:100%;-webkit-transform:translateX(-50%);transform:translateX(-50%);top:0}.vue-line-wrapper--east{left:100%;cursor:e-resize}.vue-line-wrapper--west{left:0;cursor:w-resize}.vue-line-wrapper--disabled{cursor:auto}.vue-preview-result{overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;height:100%;width:100%}.vue-preview-result__wrapper{position:absolute}.vue-preview-result__image{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform-origin:center;transform-origin:center;max-width:unset!important}.vue-bounding-box{position:relative;height:100%;width:100%}.vue-preview-image{overflow:hidden;position:relative}.vue-preview-image__image{pointer-events:none;position:absolute;max-width:unset!important}.vue-circle-stencil{position:absolute;height:100%;width:100%;-webkit-box-sizing:content-box;box-sizing:content-box;cursor:move}.vue-circle-stencil__preview{border-radius:50%}.vue-rectangle-stencil{position:absolute;height:100%;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.vue-rectangle-stencil--movable{cursor:move}.vue-simple-line{background:0 0;-webkit-transition:border .5s;transition:border .5s;border-color:rgba(255,255,255,.3);border-width:0;border-style:solid}.vue-simple-line--north,.vue-simple-line--south{height:0;width:100%}.vue-simple-line--east,.vue-simple-line--west{height:100%;width:0}.vue-simple-line--east{border-right-width:1px}.vue-simple-line--west{border-left-width:1px}.vue-simple-line--south{border-top-width:1px}.vue-simple-line--north{border-bottom-width:1px}.vue-simple-line--hover{opacity:1;border-color:#fff}") }, 2294: (t, e, i) => { "use strict"; i.r(e), i.d(e, { default: () => a }); const s = { created: function () { this.selectedItem = this.value }, watch: { value: function (t) { this.selectedItem = t } }, directives: { "click-outside": { bind: function (t, e) { var i = function (i) { t.contains(i.target) || t === i.target || e.value(i) }; t.__vueClickEventHandler__ = i, document.addEventListener("click", i) }, unbind: function (t) { document.removeEventListener("click", t.__vueClickEventHandler__) } } }, props: { newItemPlaceholder: { type: String, default: "New Item", required: !1 }, value: { type: Object, default: void 0, required: !1 }, items: { type: Array, default: void 0, required: !0 }, valueOption: { type: String, default: "value", required: !1 }, labelOption: { type: String, default: "name", required: !1 }, showNewItem: { type: Boolean, default: !0, required: !1 }, direction: { type: String, default: "ltr", required: !1 } }, data: function () { return { showItems: !1, dropdownWidth: "0px", newItemInput: void 0, selectedItem: void 0 } }, methods: { close: function (t) { this.showItems = !1, this.$refs.titleSection.classList.remove("active") }, isChecked: function (t) { return void 0 !== this.selectedItem && this.selectedItem[this.valueOption] === t[this.valueOption] }, selectItem: function (t) { t.disabled || (this.selectedItem = t, this.$emit("input", t), this.showItems = !1, this.$refs.titleSection.classList.remove("active")) }, newItem: function () { this.$emit("new-item", this.newItemInput), this.newItemInput = void 0 }, openDropdown: function () { this.$refs.titleSection.classList.toggle("active"); var t = this.$refs.titleSection.offsetWidth; this.showItems = !this.showItems, this.dropdownWidth = t + "px" } } }; var n = i(1900); const o = { data: function () { return { showLaws: !1 } }, components: { LawsModal: function () { return i.e(3127).then(i.bind(i, 8176)) }, Langdropdown: (0, n.Z)(s, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { directives: [{ name: "click-outside", rawName: "v-click-outside", value: t.close, expression: "close" }], staticClass: "tselect border position-relative rounded-0", attrs: { dir: t.direction } }, [i("div", { ref: "titleSection", staticClass: "tselect_title lang-select rounded-0", on: { click: t.openDropdown } }, [i("div", { staticClass: "title-text w-100" }, [t._t("selected", null, { item: t.selectedItem })], 2), t._v(" "), i("i", { staticClass: "material-icons tselect_arrow" }, [t._v("keyboard_arrow_down")])]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.showItems ? i("div", { ref: "itemsElement", staticClass: "tselect-items rounded-0 p-0 shadow border", staticStyle: { "margin-top": "-5px", left: "0", "max-width": "150px" }, style: { width: t.dropdownWidth, bacground: "#EEE" } }, [i("div", { staticClass: "items" }, t._l(t.items, (function (e) { return i("div", { key: e[t.valueOption], staticClass: "tselect_item w-100", class: { disabled: e.disabled, "hover-dropdown": !e.disabled }, on: { click: function (i) { return t.selectItem(e) } } }, [t._t("item", [i("label", { staticClass: "tselect_item--text" }, [e.hasOwnProperty("icon") ? i("i", { staticClass: "material-icons verical-middle" }, [t._v(t._s(e.icon))]) : t._e(), t._v(" " + t._s(e[t.labelOption]))]), t._v(" "), i("div", { staticClass: "tdc-radio" }, [i("input", { staticClass: "tdc-radio_input", attrs: { type: "radio" }, domProps: { checked: t.isChecked(e) } }), t._v(" "), i("span", { staticClass: "tdc-radio_checkmark" })])], { item: e })], 2) })), 0)]) : t._e()])], 1) }), [], !1, null, "42244589", null).exports } }; const a = (0, n.Z)(o, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", [i("LawsModal", { attrs: { show: t.showLaws }, on: { "update:show": function (e) { t.showLaws = e } } }), t._v(" "), i("div", { staticClass: "sticky-aside d-flex align-items-center flex-column" }, [i("Langdropdown", { staticClass: "dropdown-list clickable mb-3", staticStyle: { "max-width": "200px" }, attrs: { dir: "rtl", value: { label: "", value: "fa", icon: "/img/iranicon.png" }, items: [{ label: "", value: "fa", icon: "/img/iranicon.png" }, { label: "English", value: "en", icon: "/img/en.png", disabled: !0 }] }, scopedSlots: t._u([{ key: "selected", fn: function (e) { var s = e.item; return [i("div", { staticClass: "d-flex justify-content-between w-100" }, [i("span", [t._v(" " + t._s(s.label))]), t._v(" "), i("img", { staticStyle: { width: "16px", height: "16px" }, attrs: { src: s.icon } })])] } }, { key: "item", fn: function (e) { var s = e.item; return [i("div", { staticClass: "d-flex justify-content-between px-2 w-100" }, [i("span", [t._v(" " + t._s(s.label))]), t._v(" "), i("img", { staticStyle: { width: "16px", height: "16px" }, attrs: { src: s.icon } })])] } }]) }), t._v(" "), i("div", { staticClass: "d-lg-block d-none text-muted" }, [i("div", { staticClass: "sidemenu-links d-flex justify-content-center align-items-center mb-1" }, [i("a", { staticClass: "text-muted hover-dark clickable ml-3", on: { click: function (e) { t.showLaws = !0 } } }, [t._v("  ")]), t._v(" "), i("a", { staticClass: "text-muted hover-dark", attrs: { href: "https://ternobo.info", target: "_blank" } }, [t._v(" ")])]), t._v(" "), t._m(0)])], 1)], 1) }), [function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "copyright-text d-flex justify-content-center align-items-center" }, [i("img", { staticClass: "mr-1", staticStyle: { "max-width": "15px" }, attrs: { src: "/favicon.png" } }), t._v(" "), i("span", { staticClass: "mr-1" }, [t._v("")]), t._v("  \n            ")]) }], !1, null, null, null).exports }, 3832: (t, e, i) => { "use strict"; i.r(e), i.d(e, { default: () => m }); var s = i(9655), n = i(9539), o = i(738); const a = { name: "UserMenu" }; var r = i(1900); const l = { props: {}, name: "HeaderToolbar", data: function () { return { menuVisible: !1, menuLeft: 0, showLogin: !1, showSignup: !1 } }, methods: { showUserMenu: function (t) { this.menuVisible = !0; var e = document.getElementById("usermenu-show").getBoundingClientRect().x; this.menuLeft = e + "px" } }, components: { UserMenu: (0, r.Z)(a, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return null != t.$store.state.user ? i("div", { staticClass: "usermenu card" }, [i("div", { staticClass: "card-header px-2 d-flex bg-white border-bottom" }, [i("wire-link", { staticClass: "d-flex aling-items-center", attrs: { href: "/" + this.$store.state.user.username } }, [i("img", { staticClass: "profile-sm", attrs: { src: this.$store.state.user.profile } }), t._v(" "), i("span", { staticClass: "mx-2 d-flex flex-column justify-content-center" }, [i("strong", { staticClass: "text-black" }, [t._v(t._s(this.$store.state.user.name) + "\n\t\t\t\t\t"), 1 === this.$store.state.user.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("small", [t._v(t._s(this.$store.state.user.short_bio))])])])], 1), t._v(" "), i("div", { staticClass: "card-body p-0" }, [i("ul", { staticClass: "list-group list-group-flush" }, [i("li", { staticClass: "list-group-item headermenu-item d-flex flex-column px-2 pt-3" }, [i("wire-link", { staticClass: "m-0", attrs: { href: "/settings" } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("settings")]), t._v("     ")])], 1), t._v(" "), i("li", { staticClass: "list-group-item border-top-0 headermenu-item d-flex flex-column pb-3 px-2" }, [i("wire-link", { staticClass: "m-0", attrs: { href: "/ideas" } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("emoji_objects")]), t._v("   ")])], 1), t._v(" "), t._m(0)])])]) : t._e() }), [function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("li", { staticClass: "list-group-item headermenu-item d-flex flex-column px-2 pb-2" }, [i("form", { attrs: { action: "/logout", method: "POST" } }, [i("button", { staticClass: "text-right bg-transparent hover-danger m-0 border-0 text-grey", attrs: { type: "submit" } }, [i("i", { staticClass: "material-icons" }, [t._v("power_settings_new")]), t._v(" ")])])]) }], !1, null, null, null).exports, LoginModal: n.Z, SignupModal: o.Z } }; const c = (0, r.Z)(l, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "toolbar" }, [null != t.$store.state.user ? i("div", { staticClass: "header-menu" }, [i("wire-link", { class: { active: "/feed" === t.$store.state.url }, attrs: { href: "/feed" } }, [i("i", { staticClass: "navheader-icon" }, [t._v("home")]), t._v(" "), i("div", { staticClass: "navheader-text" }, [t._v("")])]), t._v(" "), i("wire-link", { class: { active: "/chats" === t.$store.state.url }, attrs: { href: "/chats" } }, [i("i", { staticClass: "navheader-icon", class: { unread: t.$store.state.shared.unread_messages_count > 0 && "/chats" != t.$store.state.url } }, [t._v("textsms")]), t._v(" "), i("div", { staticClass: "navheader-text" }, [t._v("")])]), t._v(" "), i("wire-link", { class: { active: "/connections" === t.$store.state.url }, attrs: { href: "/connections" } }, [i("i", { staticClass: "navheader-icon" }, [t._v("group")]), t._v(" "), i("div", { staticClass: "navheader-text" }, [t._v(" ")])]), t._v(" "), i("wire-link", { class: { active: "/notifications" === t.$store.state.url }, attrs: { href: "/notifications" } }, [i("i", { staticClass: "navheader-icon", class: { unread: t.$store.state.shared.notifications_count > 0 && "/notifications" != t.$store.state.url } }, [t._v(t._s("/notifications" === t.$store.state.url ? "notifications" : "notifications_none"))]), t._v(" "), i("div", { staticClass: "navheader-text" }, [t._v("")])]), t._v(" "), i("wire-link", { class: { active: "/bookmarks" === t.$store.state.url }, attrs: { href: "/bookmarks" } }, [i("i", { staticClass: "navheader-icon" }, [t._v("bookmarks")]), t._v(" "), i("div", { staticClass: "navheader-text" }, [t._v("")])])], 1) : i("div", [i("login-modal", { attrs: { show: t.showLogin }, on: { "update:show": function (e) { t.showLogin = e } } }), t._v(" "), i("signup-modal", { attrs: { show: t.showSignup }, on: { "update:show": function (e) { t.showSignup = e } } }), t._v(" "), i("div", { staticClass: "d-flex align-items-center" }, [i("button", { staticClass: "text-dark btn btn-transparent font-14 py-1", on: { click: function (e) { t.showLogin = !0 } } }, [t._v("")]), t._v(" "), i("span", { staticClass: "splitor-line" }), t._v(" "), i("button", { staticClass: "text-dark btn btn-transparent font-14 py-1", on: { click: function (e) { t.showSignup = !0 } } }, [t._v("")])])], 1), t._v(" "), null != t.$store.state.user ? i("div", { staticClass: "usertoolbar h-100 d-flex align-items-center mr-2 py-3", attrs: { id: "usermenu-show" }, on: { mouseenter: t.showUserMenu, mouseleave: function (e) { t.menuVisible = !1 } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("div", { staticClass: "d-flex align-items-center" }, [i("span", { staticClass: "ml-2", staticStyle: { "white-space": "nowrap", "user-select": "none" }, attrs: { dir: "ltr" } }, [t._v(t._s(t.$store.state.user.username) + " "), 1 === t.$store.state.user.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("img", { staticClass: "profile-xsm", attrs: { src: t.$store.state.user.profile } })]), t._v(" "), i("i", { staticClass: "material-icons text-light" }, [t._v("more_vert")])]), t._v(" "), i("transition", { attrs: { name: "fade", mode: "out-in" } }, [i("user-menu", { directives: [{ name: "show", rawName: "v-show", value: t.menuVisible, expression: "menuVisible" }], style: { left: t.menuLeft } })], 1)], 1) : t._e()]) }), [], !1, null, null, null).exports; var d = i(9949); const u = { data: function () { return { showLogin: !1, showSignup: !1 } }, components: { LoginModal: n.Z, SignupModal: o.Z }, methods: { onShow: function () { var t = this; setTimeout((function () { t.$refs.modal.$refs.dialog.style.marginTop = "0" }), 100) } }, mixins: [d.Z], name: "UserOptionModal" }; const h = (0, r.Z)(u, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", [i("login-modal", { attrs: { show: t.showLogin }, on: { "update:show": function (e) { t.showLogin = e } } }), t._v(" "), i("signup-modal", { attrs: { show: t.showSignup }, on: { "update:show": function (e) { t.showSignup = e } } }), t._v(" "), i("b-modal", { ref: "modal", attrs: { "hide-footer": "", "hide-header": "", "body-class": "pb-0", size: "lg" }, on: { show: t.onShow }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [t.$store.state.user ? i("div", { staticClass: "useroptions" }, [i("div", { staticClass: "useroptions-header" }, [i("wire-link", { staticClass: "d-flex aling-items-center", attrs: { href: "/" + t.$store.state.user.username }, on: { click: function (e) { return t.$emit("update:show", !1) } } }, [i("img", { staticClass: "profile-sm", attrs: { src: t.$store.state.user.profile } }), t._v(" "), i("span", { staticClass: "mx-2 d-flex flex-column justify-content-center" }, [i("strong", { staticClass: "text-black" }, [t._v(t._s(t.$store.state.user.name) + "\n\t\t\t\t\t\t\t"), 1 === t.$store.state.user.is_verified ? i("i", { staticClass: "position-relative verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("small", [t._v(t._s(t.$store.state.user.short_bio))])])]), t._v(" "), i("i", { staticClass: "close material-icons text-muted hover-dark", on: { click: function (e) { return t.$emit("update:show", !1) } } }, [t._v("close")])], 1), t._v(" "), i("ul", { staticClass: "p-0 menu" }, [i("li", { staticClass: "list-item d-flex flex-column" }, [i("wire-link", { staticClass: "m-0", attrs: { href: "/settings" }, on: { click: function (e) { return t.$emit("update:show", !1) } } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("settings")]), t._v("     ")])], 1), t._v(" "), i("li", { staticClass: "list-item d-flex flex-column" }, [i("wire-link", { staticClass: "m-0", attrs: { href: "/ideas" }, on: { click: function (e) { return t.$emit("update:show", !1) } } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("emoji_objects")]), t._v("   ")])], 1), t._v(" "), i("li", { staticClass: "list-item d-flex flex-column" }, [i("wire-link", { staticClass: "m-0", attrs: { href: "/help" }, on: { click: function (e) { return t.$emit("update:show", !1) } } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("help_outline")]), t._v("   ")])], 1)]), t._v(" "), i("div", { staticClass: "langs" }, [i("div", { staticClass: "lang-item disabled" }, [i("img", { attrs: { src: "/img/franch.png", width: "24", height: "24" } }), t._v(" "), i("span", [t._v("Franaise")])]), t._v(" "), i("div", { staticClass: "lang-item disabled" }, [i("img", { attrs: { src: "/img/en.png", width: "24", height: "24" } }), t._v(" "), i("span", [t._v("English")])]), t._v(" "), i("div", { staticClass: "lang-item" }, [i("img", { attrs: { src: "/img/iranicon.png", width: "24", height: "24" } }), t._v(" "), i("span", [t._v("")])])]), t._v(" "), i("ul", { staticClass: "mb-0 p-0" }, [i("li", { staticClass: "list-item" }, [i("wire-link", { staticClass: "text-right bg-transparent hover-danger m-0 border-0 text-grey", attrs: { href: "/logout", method: "post", as: "button" }, on: { click: function (e) { return t.$emit("update:show", !1) } } }, [i("i", { staticClass: "material-icons" }, [t._v("power_settings_new")]), t._v("  ")])], 1)])]) : i("div", { staticClass: "useroptions" }, [i("ul", { staticClass: "p-0 menu" }, [i("li", { staticClass: "list-item d-flex flex-column" }, [i("a", { staticClass: "clickable m-0", on: { click: function (e) { t.$emit("update:show", !1), t.showLogin = !0 } } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("login")]), t._v("  ")])]), t._v(" "), i("li", { staticClass: "list-item d-flex flex-column" }, [i("a", { staticClass: "clickable m-0", on: { click: function (e) { t.$emit("update:show", !1), t.showSignup = !0 } } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("account_circle")]), t._v("  ")])])])])])], 1) }), [], !1, null, null, null).exports, p = { created: function () { this.searchVal = this.$store.state.search }, data: function () { return { searchVal: null, showOptions: !1 } }, methods: { search: function (t) { var e = this, i = document.getElementById("searchforminput").parentElement; return i.style.position = "unset", i.getElementsByClassName("autocomplete-result-list").length > 0 && (i.getElementsByClassName("autocomplete-result-list")[0].style.width = i.getBoundingClientRect().width + "px", i.getElementsByClassName("autocomplete-result-list")[0].style.marginTop = "-14px"), t.length < 2 ? [] : new Promise((function (i, s) { axios.post(e.$APP_URL + "/search", { q: t }).then((function (t) { t.data.result ? i(t.data.suggestions) : i([]) })) })) } }, name: "AppHeader", components: { HeaderToolbar: c, Autocomplete: s.Z, UserOptionModal: h } }; const m = (0, r.Z)(p, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "header" }, [i("user-option-modal", { attrs: { show: t.showOptions }, on: { "update:show": function (e) { t.showOptions = e } } }), t._v(" "), i("div", { staticClass: "container" }, [i("div", { staticClass: "d-flex align-items-center w-100" }, [t.$root.isDesktop ? i("wire-link", { staticClass: "logodesktop", attrs: { href: "/feed" } }, [i("img", { staticClass: "w-100", attrs: { src: "/images/farsi-logo.png" } })]) : t._e(), t._v(" "), t.$root.isDesktop ? t._e() : i("wire-link", { staticClass: "logo-sm", attrs: { href: "/feed" } }, [i("img", { staticClass: "mr-2", attrs: { src: "/images/logo.svg" } })]), t._v(" "), i("form", { staticClass: "searchfield d-flex mr-3", attrs: { method: "get", action: "/search" } }, [i("autocomplete", { staticClass: "search-field w-100", attrs: { "default-value": t.searchVal, search: t.search, id: "searchforminput", autocomplete: "off", required: "", type: "text", name: "q", placeholder: "      " } }), t._v(" "), t._m(0)], 1), t._v(" "), t.$root.isDesktop ? t._e() : i("div", [i("i", { staticClass: "material-icons hover-dark clickable", on: { click: function (e) { t.showOptions = !0 } } }, [t._v("more_vert")])])], 1), t._v(" "), t.$root.isDesktop ? i("div", { staticClass: "d-flex align-items-center justify-content-end", staticStyle: { "min-width": "400px" } }, [i("header-toolbar")], 1) : t._e()])], 1) }), [function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "text-muted align-items-center justify-content-center d-lg-flex d-none nowrap font-12", staticStyle: { width: "max-content", "margin-right": "24px !important" } }, [i("img", { staticClass: "verical-middle", attrs: { src: "/images/beta.svg", width: "36" } }), t._v(" "), i("span", { staticClass: "mx-1 text-nowrap", staticStyle: { "margin-top": "3px" } }, [t._v(". V")])]) }], !1, null, null, null).exports }, 5903: (t, e, i) => { "use strict"; i.d(e, { Z: () => m }); var s = i(431), n = i(8126), o = i(9250), a = i(3914), r = i(4139), l = i(9170); n.Z.addLocale(a); const c = { mounted: function () { this.liked = this.comment.is_liked }, data: function () { return { deleted: !1, showReply: !1, replies: [], repliesLoading: !0, showReplies: !1, next_page_url: null, loadingMore: !1, liked: !1, showReport: !1, showNewComment: !1, showLikes: !1 } }, methods: { commentDelete: function () { var t = this.comments.indexOf(comment); t > -1 && (this.comments.splice(t, 1), this.loadMore()) }, likeComment: function () { this.liked ? this.liked = !1 : this.liked = !0, axios.post(this.$APP_URL + "/comments/" + this.comment.id + "/like") }, loadReplies: function () { var t = this, e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]; this.showReplies && !this.showNewComment && e ? this.showNewComment = e : (this.showNewComment = e, this.showReplies = !this.showReplies), this.showReplies && (this.repliesLoading = !0, axios.post(this.$APP_URL + "/comments/" + this.comment.id + "/replies").then((function (e) { var i = e.data; i.result && (t.next_page_url = i.data.next_page_url, t.replies = i.data.data), t.repliesLoading = !1 })).catch((function (t) { return console.log(t) })).then((function () { return t.repliesLoading = !1 }))) }, deleteComment: function () { var t = this; this.deleted = !0, axios.delete("/posts/" + this.comment.post_id + "/comments/" + this.comment.id).then((function (e) { t.$emit("deleted", t.comment) })).catch((function (t) { return console.log(t) })) }, loadMore: function () { var t = this; null === this.next_page_url || this.loadingMore || (this.loadingMore = !0, axios.get(this.next_page_url).then((function (e) { var i = e.data; i.result && (t.next_page_url = i.data.next_page_url, t.replies = t.replies.concat(i.data.data)), t.loadingMore = !1 })).catch((function (t) { return console.log(t) })).then((function () { return t.loadingMore = !1 }))) }, submit: function (t) { var e = this; void 0 !== this.replyTo ? this.$emit("replied", t) : (this.replies.unshift(t), setTimeout((function () { var t = e.$el; e.$parent.$el.scrollTop += t.getBoundingClientRect().top }), 300)) } }, computed: { comment_time: function () { return new n.Z("fa-FA").format(Date.parse(this.comment.created_at), "twitter") } }, components: { NewComment: s.Z, LoadingSpinner: o.Z, ReportModal: r.Z, LikesModal: l.default }, props: { replyTo: { default: void 0, required: !1 }, comment: { type: Object, default: void 0, required: !0 } }, name: "Comment" }; var d = i(3379), u = i.n(d), h = i(9242), p = { insert: "head", singleton: !1 }; u()(h.Z, p); h.Z.locals; const m = (0, i(1900).Z)(c, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "comment-item" }, [i("report-modal", { attrs: { show: t.showReport, type: "comment", "comment-id": t.comment.id }, on: { "update:show": function (e) { t.showReport = e } } }), t._v(" "), i("likes-modal", { attrs: { item: t.comment.id, type: "comment", show: t.showLikes }, on: { "update:show": function (e) { t.showLikes = e } } }), t._v(" "), null != t.replyTo && t.comment.replyto.page ? i("div", [i("span", { staticClass: "text-superlight" }, [i("i", { staticClass: "material-icons" }, [t._v("reply")]), t._v("   " + t._s(t.comment.replyto.page.name) + " ")])]) : t._e(), t._v(" "), t.deleted ? t._e() : i("div", { staticClass: "comment" }, [i("div", { staticClass: "comment-header" }, [i("wire-link", { staticClass: "d-flex align-items-center", attrs: { href: "/" + t.comment.page.slug } }, [i("img", { staticClass: "profile-sm", attrs: { src: t.comment.page.profile } }), t._v(" "), i("div", { staticClass: "pr-2 pagedetail" }, [i("span", { staticClass: "name" }, [i("strong", [t._v(" " + t._s(t.comment.page.name) + " "), 1 === t.comment.page.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()])]), t._v(" "), t.comment.page.short_bio ? i("small", { staticClass: "text-muted" }, [t._v("\n\t\t\t\t\t\t" + t._s(t.comment.page.short_bio) + "\n\t\t\t\t\t")]) : t._e()])]), t._v(" "), i("div", { staticClass: "d-flex align-items-center" }, [i("span", { staticClass: "font-10 text-muted" }, [t._v(t._s(t.comment_time))]), t._v(" "), i("div", [i("b-dropdown", { attrs: { size: "lg", variant: "link", "toggle-class": "text-decoration-none", "no-caret": "" }, scopedSlots: t._u([{ key: "button-content", fn: function () { return [i("i", { staticClass: "material-icons openmenu clickale text-muted hover-dark" }, [t._v("more_vert")])] }, proxy: !0 }], null, !1, 3552891933) }, [t._v(" "), t.checkUser(t.comment.page.user_id) ? t._e() : i("b-dropdown-item", [i("div", { staticClass: "d-flex align-items-center", on: { click: function (e) { t.showReport = !0 } } }, [i("i", { staticClass: "material-icons ml-2 text-dark" }, [t._v("link")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("   ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("         ")])])])]), t._v(" "), t.checkUser(t.comment.page.user_id) ? i("b-dropdown-item", { on: { click: t.deleteComment } }, [i("div", { staticClass: "d-flex hover-danger align-items-center" }, [i("i", { staticClass: "material-icons-outlined ml-2" }, [t._v("delete_sweep")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("  ")])])])])]) : t._e()], 1)], 1)])], 1), t._v(" "), i("div", { staticClass: "comment-body" }, [i("div", { staticStyle: { "unicode-bidi": "plaintext", width: "100% !important", display: "block", "text-align": "justify" }, domProps: { innerHTML: t._s(t.comment.text) } })])]), t._v(" "), i("div", { staticClass: "w-100 d-flex align-content-center justify-content-between pt-2" }, [i("div", [null != t.comment.mutual_likes && t.comment.mutual_likes.length > 0 ? i("div", { staticClass: "d-flex post-likes-text text-muted clickable", on: { click: function (e) { t.showLikes = !0 } } }, [i("span", { staticClass: "ml-1" }, [t._v("  ")]), t._v(" "), t.comment.mutual_likes[0] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.comment.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.comment.mutual_likes[0].page.name))])]) : t._e(), t._v(" "), t.comment.mutual_likes.length > 1 ? i("div", [i("span", { staticClass: "mr-1" }, [t._v("")]), t._v(" "), t.comment.mutual_likes[1] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.comment.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.comment.mutual_likes[1].page.name))])]) : t._e()], 1) : t._e(), t._v(" "), t.comment.mutual_likes.length > 2 ? i("span", { staticClass: "mx-1" }, [t._v("  ... ")]) : t._e()], 1) : t._e()]), t._v(" "), i("div", { staticClass: "actions" }, [t.comment.replies_count > 0 && null == t.replyTo ? i("small", { staticClass: "clickable ml-2", on: { click: function (e) { return t.loadReplies(!1) } } }, [i("strong", { class: { "text-muted": !t.showReplies, "text-dark": t.showReplies } }, [t._v(" " + t._s(t.comment.replies_count) + "  ")])]) : t._e(), t._v(" "), i("i", { staticClass: "hover-dark clickable", class: { "material-icons-outlined": !t.showReplies || !t.showNewComment, "material-icons": t.showReplies && t.showNewComment }, on: { click: t.loadReplies } }, [t._v(" insert_comment ")]), t._v(" "), t.checkUser(t.comment.page.user_id) ? t._e() : i("i", { staticClass: "hover-dark clickable material-icons", class: { "text-danger": t.liked }, on: { click: t.likeComment } }, [t._v("\n\t\t\t\t" + t._s(t.liked ? "favorite" : "favorite_border") + "\n\t\t\t")])])]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.showReplies ? i("div", { staticClass: "comment-replies" }, [t.showNewComment ? i("new-comment", { attrs: { post: t.comment.post_id, "reply-to": t.comment.id }, on: { submit: t.submit } }) : t._e(), t._v(" "), void 0 === t.replyTo ? i("div", { staticClass: "border-right pr-3", staticStyle: { "border-color": "#212121 !important" } }, [t._l(t.replies, (function (e) { return i("comment", { key: e.id, attrs: { "reply-to": t.comment.id, comment: e }, on: { replied: t.submit, deleted: t.commentDelete } }) })), t._v(" "), t.repliesLoading ? i("div", { staticClass: "w-100 d-flex p-2 justify-content-center align-items-center" }, [i("loading-spinner")], 1) : t._e()], 2) : t._e(), t._v(" "), i("div", { staticClass: "w-100 d-flex align-items-center justify-content-center p-2" }, [null !== t.next_page_url ? i("loading-button", { staticClass: "btn btn-outline-dark", attrs: { loading: t.loadingMore }, nativeOn: { click: function (e) { return t.loadMore(e) } } }, [t._v(" ")]) : t._e()], 1)], 1) : t._e()])], 1) }), [], !1, null, "34bf7fe6", null).exports }, 5740: (t, e, i) => { "use strict"; i.d(e, { Z: () => r }); var s = i(9250), n = i(5903), o = i(431); const a = { methods: { submit: function (t) { this.comments.unshift(t) }, commentDelete: function (t) { var e = this.comments.indexOf(t); e > -1 && (this.comments.splice(e, 1), this.loadMore()) }, loadMore: function () { var t = this; null === this.next_page_url || this.commentsLoading || (this.commentsLoading = !0, axios.get(this.next_page_url).then((function (e) { var i = e.data; i.result && (t.next_page_url = i.data.next_page_url, t.comments = t.comments.concat(i.data.data)), t.commentsLoading = !1 })).catch((function (t) { return console.log(t) })).then((function () { return t.commentsLoading = !1 }))) } }, props: { noScroll: { type: Boolean, default: !1, required: !1 }, post: { type: Number, default: void 0, required: !0 } }, mounted: function () { var t = this; axios.get(this.$APP_URL + "/posts/" + this.post + "/comments").then((function (e) { var i = e.data; i.result && (t.next_page_url = i.data.next_page_url, t.comments = i.data.data), t.commentsLoading = !1 })).catch((function (t) { return console.log(t) })) }, data: function () { return { commentsLoading: !0, comments: void 0, next_page_url: null } }, name: "CommentsList", components: { LoadingSpinner: s.Z, Comment: n.Z, NewComment: o.Z } }; const r = (0, i(1900).Z)(a, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { directives: [{ name: "infinite-scroll", rawName: "v-infinite-scroll", value: t.loadMore, expression: "loadMore" }], staticClass: "comments", attrs: { "infinite-scroll-disabled": t.commentsLoading, "infinite-scroll-distance": 5 } }, [i("new-comment", { attrs: { post: t.post }, on: { submit: t.submit } }), t._v(" "), t._l(t.comments, (function (e) { return i("comment", { key: "comment_" + e.id, attrs: { comment: e }, on: { deleted: t.commentDelete } }) })), t._v(" "), t.commentsLoading ? i("div", { staticClass: "d-flex w-100 justify-content-center align-items-center py-3" }, [i("LoadingSpinner")], 1) : t._e()], 2) }), [], !1, null, null, null).exports }, 431: (t, e, i) => { "use strict"; i.d(e, { Z: () => o }); var s = i(5410); const n = { watch: { text: function (t) { t.length > 0 ? this.showSubmit = !0 : this.showSubmit = !1 } }, props: { post: { type: Number, default: void 0, required: !0 }, replyTo: { default: void 0, required: !1 } }, data: function () { return { loading: !1, showSubmit: !1, text: "" } }, methods: { submit: function () { var t = this; if (this.text.length > 0) { this.loading = !0; var e = { text: this.text }; void 0 !== this.replyTo && (e.reply_to = this.replyTo), axios.post(this.$APP_URL + "/posts/" + this.post + "/comments", e).then((function (e) { e.data.result ? (t.text = "", t.$emit("submit", e.data.comment)) : t.handleError(e.data.errors) })).catch((function (t) { return console.log(t) })).then((function () { return t.loading = !1 })) } } }, name: "NewComment", components: { MaterialTextArea: s.Z } }; const o = (0, i(1900).Z)(n, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return null != t.$store.state.user ? i("div", { staticClass: "sendcomment clearfix" }, [i("div", { staticClass: "input-group-btn mb-0" }, [i("img", { staticClass: "profile-sm ml-3", attrs: { src: t.$store.state.user.profile } }), t._v(" "), i("MaterialTextArea", { staticClass: "w-100", attrs: { "input-class": "form-control autoresize", placeholder: "  ", name: "text", maxlength: "2500" }, model: { value: t.text, callback: function (e) { t.text = e }, expression: "text" } })], 1), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.showSubmit ? i("div", { staticClass: "justify-content-end mt-0" }, [i("loading-button", { staticClass: "btn btn-primary", attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.submit(e) } } }, [t._v("")])], 1) : t._e()])], 1) : t._e() }), [], !1, null, null, null).exports }, 4670: (t, e, i) => { "use strict"; i.d(e, { Z: () => d }); var s = i(9949); const n = { methods: { onCancel: function () { this.$emit("cancel"), this.$emit("update:show", !1) }, onOk: function () { this.$emit("confirm"), this.$emit("update:show", !1) } }, props: { title: { type: String, default: " ", required: !1 }, direction: { type: String, default: "rtl", required: !1 }, cancelClass: { type: String, default: null, required: !1 }, okClass: { type: String, default: null, required: !1 }, okText: { type: String, default: "", required: !1 }, cancelText: { type: String, default: "", required: !1 } }, mixins: [s.Z], name: "ConfirmModal" }; var o = i(1900); const a = (0, o.Z)(n, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "hide-footer": "", title: t.title, size: "confirm", centered: !0 }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [i("div", { staticClass: "confirm-container" }, [i("p", { staticClass: "text" }, [t._t("default")], 2), t._v(" "), i("div", { staticClass: "actions" }, [i("button", { staticClass: "btn btn-cancel", class: t.cancelClass, on: { click: t.onCancel } }, [t._v(t._s(t.cancelText))]), t._v(" "), i("button", { staticClass: "btn btn-ok", class: t.okClass, on: { click: t.onOk } }, [t._v(t._s(t.okText))])])])]) }), [], !1, null, null, null).exports; var r = i(4139); const l = { methods: { runAction: function (t) { this.showMenu = !1, this.$emit(t) }, unfollow: function () { var t = this; this.showMenu = !1; var e = { method: "post", url: this.$APP_URL + "/unfollow/" + this.post.page_id }; axios(e).then((function (e) { if (e.data.result) t.$emit("need-reload"); else { var i = e.data.errors; t.handelError(i) } })) } }, data: function () { return { showMenu: !1, showConfirm: !1 } }, components: { ConfirmModal: a }, computed: { following: function () { return null != this.$store.state.user && this.$store.state.shared.followings.includes(this.post.page_id) } }, props: { post: { type: Object, default: void 0, required: !0 } }, mixins: [s.Z], name: "MobileMenu" }; const c = { methods: { unfollow: function () { var t = this, e = { method: "post", url: this.$APP_URL + "/unfollow/" + this.post.page_id }; axios(e).then((function (e) { if (e.data.result) t.$emit("need-reload"); else { var i = e.data.errors; t.handelError(i) } })) } }, data: function () { return { showConfirm: !1, showReport: !1 } }, components: { ConfirmModal: a, PostMobileMenu: (0, o.Z)(l, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", [i("confirm-modal", { attrs: { title: " ", show: t.showConfirm }, on: { confirm: t.unfollow, "update:show": function (e) { t.showConfirm = e } } }, [t._v("    " + t._s(t.post.page.name) + "  . ")]), t._v(" "), i("i", { staticClass: "material-icons openmenu clickable text-muted hover-dark", on: { click: function (e) { t.showMenu = !0 } } }, [t._v("more_vert")]), t._v(" "), i("b-modal", { attrs: { "hide-footer": "", "hide-header": "", "modal-class": "slide-up", "body-class": "p-0", size: "md", centered: !0 }, model: { value: t.showMenu, callback: function (e) { t.showMenu = e }, expression: "showMenu" } }, [i("ul", { staticClass: "post-menu" }, [i("li", { directives: [{ name: "clipboard", rawName: "v-clipboard", value: t.$APP_URL + "/posts/" + t.post.id, expression: "$APP_URL + '/posts/' + post.id" }], on: { click: function (e) { t.showMenu = !1 } } }, [i("i", { staticClass: "material-icons text-dark" }, [t._v("link")]), t._v(" "), i("strong", [t._v("   ")])]), t._v(" "), t.checkUser(t.post.page.user_id) && "article" != t.post.type ? i("li", { on: { click: function (e) { return t.runAction("edit") } } }, [i("i", { staticClass: "material-icons-outlined text-dark" }, [t._v("edit")]), t._v(" "), i("strong", [t._v("")])]) : t._e(), t._v(" "), i("li", { staticClass: "d-flex align-items-center", on: { click: function (e) { return t.runAction("embed") } } }, [i("i", { staticClass: "material-icons item-icon text-dark" }, [t._v("code")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("    ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("           . ")])])]), t._v(" "), t.checkUser(t.post.page.user_id) ? t._e() : i("li", { staticClass: "d-flex align-items-center", on: { click: function (e) { return t.runAction("report") } } }, [i("i", { staticClass: "material-icons-outlined item-icon text-dark" }, [t._v("report")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("   ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("         ")])])]), t._v(" "), !t.checkUser(t.post.page.user_id) && t.following ? i("li", { staticClass: "d-flex align-items-center", on: { click: function (e) { t.showConfirm = !0 } } }, [i("i", { staticClass: "material-icons item-icon text-dark" }, [t._v("not_interested")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("   " + t._s(t.post.page.name) + " ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("   " + t._s(t.post.page.name) + "   . ")])])]) : t._e(), t._v(" "), t.checkUser(t.post.page.user_id) ? i("li", { staticClass: "d-flex align-items-center", on: { click: function (e) { return t.runAction("deleted") } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("i", { staticClass: "material-icons-outlined item-icon text-dark" }, [t._v("delete_sweep")]), t._v(" "), i("div", [i("strong", [t._v(" ")])])])]) : t._e()])])], 1) }), [], !1, null, null, null).exports, ReportModal: r.Z }, computed: { following: function () { return null != this.$store.state.user && this.$store.state.shared.followings.includes(this.post.page_id) } }, props: { post: { type: Object, default: void 0, required: !0 } } }; const d = (0, o.Z)(c, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", [i("report-modal", { attrs: { show: t.showReport, "post-id": t.post.id }, on: { "update:show": function (e) { t.showReport = e } } }), t._v(" "), t.$root.isDesktop ? i("div", [i("confirm-modal", { attrs: { title: " ", show: t.showConfirm }, on: { confirm: t.unfollow, "update:show": function (e) { t.showConfirm = e } } }, [t._v("    " + t._s(t.post.page.name) + "  . ")]), t._v(" "), i("b-dropdown", { attrs: { size: "lg", variant: "link", "toggle-class": "text-decoration-none", "no-caret": "" }, scopedSlots: t._u([{ key: "button-content", fn: function () { return [i("i", { staticClass: "material-icons openmenu clickale text-muted hover-dark" }, [t._v("more_vert")])] }, proxy: !0 }], null, !1, 3552891933) }, [t._v(" "), i("b-dropdown-item", { directives: [{ name: "clipboard", rawName: "v-clipboard", value: t.$APP_URL + "/posts/" + t.post.id, expression: "$APP_URL + '/posts/' + post.id" }] }, [i("i", { staticClass: "material-icons text-dark" }, [t._v("link")]), t._v(" "), i("strong", [t._v("   ")])]), t._v(" "), t.checkUser(t.post.page.user_id) && "article" != t.post.type ? i("b-dropdown-item", { on: { click: function (e) { return t.$emit("edit") } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("i", { staticClass: "material-icons-outlined ml-2 text-dark" }, [t._v("edit")]), t._v(" "), i("strong", [t._v("  ")])])]) : t._e(), t._v(" "), i("b-dropdown-item", { nativeOn: { click: function (e) { return t.$emit("embed") } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("i", { staticClass: "material-icons ml-2 text-dark" }, [t._v("code")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("    ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("           . ")])])])]), t._v(" "), t.checkUser(t.post.page.user_id) ? t._e() : i("b-dropdown-item", { on: { click: function (e) { t.showReport = !0 } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("i", { staticClass: "material-icons-outlined ml-2 text-dark" }, [t._v("report")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("   ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("         ")])])])]), t._v(" "), !t.checkUser(t.post.page.user_id) && t.following ? i("b-dropdown-item", { on: { click: function (e) { t.showConfirm = !0 } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("i", { staticClass: "material-icons ml-2 text-dark" }, [t._v("not_interested")]), t._v(" "), i("div", [i("div", [i("strong", [t._v("   " + t._s(t.post.page.name) + " ")])]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v("   " + t._s(t.post.page.name) + "   . ")])])])]) : t._e(), t._v(" "), t.checkUser(t.post.page.user_id) ? i("b-dropdown-item", { staticClass: "hover-danger", on: { click: function (e) { return t.$emit("deleted") } } }, [i("div", { staticClass: "d-flex align-items-center" }, [i("i", { staticClass: "material-icons-outlined ml-2 text-dark" }, [t._v("delete_sweep")]), t._v(" "), i("div", [i("strong", [t._v(" ")])])])]) : t._e()], 1)], 1) : i("div", [i("post-mobile-menu", { attrs: { post: this.post }, on: { embed: function (e) { return t.$emit("embed") }, edit: function (e) { return t.$emit("edit") }, report: function (e) { t.showReport = !0 }, deleted: function (e) { return t.$emit("deleted") } } })], 1)], 1) }), [], !1, null, null, null).exports }, 4543: (t, e, i) => { "use strict"; i.d(e, { Z: () => a }); var s = i(9949), n = i(516); const o = { methods: { cropImage: function () { var t = this, e = this.$refs.cropper.getResult(), i = e.canvas, s = e.coordinates; i.toBlob((function (e) { t.$emit("cropped", s, i), t.$emit("update:show", !1) })) } }, props: { image: { default: void 0, required: !0 }, aspectRatio: { default: 16 / 12, required: !1 }, title: { type: String, default: void 0, required: !0 } }, components: { Cropper: n.fl }, mixins: [s.Z] }; const a = (0, i(1900).Z)(o, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "no-close-on-backdrop": "", "hide-footer": "", title: t.title, size: "lg", centered: !0 }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [i("cropper", { ref: "cropper", staticClass: "cropper", attrs: { src: t.image, "stencil-props": { aspectRatio: t.aspectRatio } } }), t._v(" "), i("div", { staticClass: "w-100 align-items-center py-3 px-2 d-flex" }, [i("button", { staticClass: "btn btn-primary", on: { click: t.cropImage } }, [t._v("")])])], 1) }), [], !1, null, null, null).exports }, 3979: (t, e, i) => { "use strict"; i.d(e, { Z: () => o }); var s = i(9949); const n = { methods: { copy: function () { this.$refs.textarea.select(), document.execCommand("copy"), this.toast(" ") } }, watch: { showModal: function (t) { var e = this; t && axios.post(this.$APP_URL + "/posts/" + this.post.id + "/embed").then((function (t) { t.data.result && (e.code = t.data.code) })).catch((function (t) { e.toast("   ") })) } }, computed: { optimizedCode: function () { if (void 0 !== this.code) return this.code.replaceAll("\n", "") } }, props: { post: { type: Object, default: {}, required: !0 } }, data: function () { return { code: void 0 } }, mixins: [s.Z], name: "EmbedCodeModal" }; const o = (0, i(1900).Z)(n, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "hide-footer": "", title: "   ", size: "md" }, scopedSlots: t._u([{ key: "modal-header", fn: function () { return [i("h5", { staticClass: "mb-0" }, [i("i", { staticClass: "material-icons ml-1" }, [t._v("code")]), t._v("\n              \n        ")]), t._v(" "), i("button", { staticClass: "close", attrs: { type: "button", "aria-label": "Close" }, on: { click: function (e) { t.showModal = !1 } } }, [t._v("")])] }, proxy: !0 }]), model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [t._v(" "), void 0 === t.code ? i("div", { staticClass: "d-flex justify-content-center align-items-center p-5" }, [i("loading-spinner")], 1) : i("div", { staticClass: "d-flex flex-column" }, [i("div", [i("div", { staticClass: "input-group" }, [i("textarea", { ref: "textarea", staticClass: "form-control bg-white", staticStyle: { resize: "none", direction: "ltr", "min-height": "300px" }, attrs: { readonly: "" }, domProps: { value: t.optimizedCode } }), t._v(" "), i("button", { staticClass: "btn btn-grey-10", on: { click: t.copy } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("file_copy")])])]), t._v(" "), i("div", { staticClass: "mt-3" }, [i("p", { staticClass: "text-light font-18" }, [t._v("\n                              .\n                ")])]), t._v(" "), i("div", { staticClass: "mt-3" }, [i("p", { staticClass: "font-20 text-dark" }, [i("i", { staticClass: "material-icons-outlined ml-1" }, [t._v("remove_red_eye")]), t._v("\n                     \n                ")])])]), t._v(" "), i("div", { staticClass: "border-top pt-2", staticStyle: { height: "700px" }, domProps: { innerHTML: t._s(t.code) } })])]) }), [], !1, null, null, null).exports }, 9170: (t, e, i) => { "use strict"; i.r(e), i.d(e, { default: () => l }); var s = i(9949), n = i(2880), o = i(1378), a = i(9250); const r = { watch: { likesPaginate: function (t) { this.likes = t.data, this.next_page_url = t.next_page_url } }, props: { item: { default: 0, required: !0 }, type: { default: "post", required: !1 } }, data: function () { return { error: !1, loading: !0, likesPaginate: null, likes: [], next_page_url: null, loadingMore: !1, typeBasedData: {} } }, methods: { loadMore: function () { var t = this; if (!this.loadingMore && null !== this.next_page_url) { var e = { method: "POST", url: this.next_page_url, data: this.typeBasedData }; this.loadingMore = !0, axios(e).then((function (e) { var i = e.data.likes; i && (t.likes = t.likes.concat(i.data), t.next_page_url = i.next_page_url) })).catch((function (i) { t.next_page_url = e.url })).then((function () { t.loadingMore = !1 })) } }, onShown: function () { var t = this; this.likes = !0, this.loading = !0, this.error = !1, "comment" == this.type ? this.typeBasedData = { comment_id: this.item } : this.typeBasedData = { post_id: this.item }, axios.post("/likes/get", this.typeBasedData).then((function (e) { t.likesPaginate = e.data.likes })).catch((function (e) { t.error = !0 })).then((function () { return t.loading = !1 })) } }, components: { LazyImage: o.Z, FollowButton: n.Z, LoadingSpinner: a.Z }, mixins: [s.Z], name: "LikesModal" }; const l = (0, i(1900).Z)(r, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "hide-footer": "", title: "", size: "md", centered: !0 }, on: { show: t.onShown }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [t.loading || t.error ? i("div", { staticClass: "d-flex align-items-center justify-content-center loading", staticStyle: { "min-height": "200px" } }, [t.loading ? i("loading-spinner") : t._e(), t._v(" "), t.error ? i("div", { staticClass: "d-flex flex-column justify-center align-items-center w-100 err" }, [i("i", { staticClass: "hover-dark text-muted material-icons-outlined", on: { click: t.onShown } }, [t._v("refresh")]), t._v(" "), i("br"), t._v(" "), i("span", { staticClass: "text-muted" }, [t._v("   ")])]) : t._e()], 1) : t._e(), t._v(" "), t.loading || t.error ? t._e() : i("div", { directives: [{ name: "infinite-scroll", rawName: "v-infinite-scroll", value: t.loadMore, expression: "loadMore" }], staticClass: "likes-list", attrs: { "infinite-scroll-distance": 10 } }, [t._l(t.likes, (function (e) { return i("div", { key: "like_" + e.id, staticClass: "like-item" }, [i("wire-link", { staticClass: "userinfo", attrs: { href: "/" + e.page.slug } }, [i("lazy-image", { staticClass: "mb-0", class: { "profile-sm": t.$root.isDesktop, "profile-md": !t.$root.isDesktop }, attrs: { imgClass: { "profile-sm": t.$root.isDesktop, "profile-md": !t.$root.isDesktop }, src: e.page.profile } }), t._v(" "), i("div", { staticClass: "page-name d-flex flex-column" }, [i("strong", [t._v(" " + t._s(e.page.name) + " "), 1 === e.page.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("span", { staticClass: "shortbio" }, [t._v(" " + t._s(e.page.short_bio) + " ")])])], 1), t._v(" "), i("follow-button", { attrs: { page: e.page.id } })], 1) })), t._v(" "), null != this.next_page_url ? i("infinite-loading", { attrs: { spinner: "spiral" }, on: { infinite: t.loadMore } }) : t._e()], 2)]) }), [], !1, null, null, null).exports }, 9539: (t, e, i) => { "use strict"; i.d(e, { Z: () => c }); var s = i(9949), n = i(222); const o = { data: function () { return { input: void 0, loading: !1, passwordChage: !1, resetCode: void 0, password: void 0, password1: void 0 } }, methods: { changePassord: function () { var t = this; this.loading = !0, axios.post("updatepassword", { newpassword: this.password, code: this.resetCode }).then((function (e) { var i = e.data; !1 !== i ? i.result ? t.$store.state.ternoboWireApp.visit("/feed") : t.handleError(i.errors) : t.toast("   ") })).then((function () { return t.loading = !1 })) }, sendResetCode: function () { var t = this; this.loading = !0, axios.post("rest-password", { input: this.input }).then((function (e) { var i = e.data; !1 !== i ? i.result ? (t.toast(i.msg), t.passwordChage = !0) : t.handleError(i.errors) : t.toast("   ") })).then((function () { return t.loading = !1 })) } }, components: { MaterialTextField: i(2665).Z }, mixins: [s.Z], name: "ResetPasswordModal" }; var a = i(1900); const r = (0, a.Z)(o, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "hide-footer": "", "hide-header": "", centered: !0 }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [i("div", { staticClass: "d-flex w-100 justify-content-center aling-items-center" }, [i("h5", { staticClass: "mt-0 font-16 text-center mb-4 w-25", staticStyle: { "border-bottom": "1px solid #000019", width: "fit-content", "align-self": "center", "margin-top": "20px", "padding-bottom": "10px", "padding-left": "0", "padding-right": "0" } }, [t._v(" ")]), t._v(" "), i("div", { staticStyle: { position: "absolute", left: "20px" }, on: { click: function (e) { return t.$emit("back") } } }, [i("a", { staticClass: "text-muted hover-dark clickable" }, [t._v("")])])]), t._v(" "), t.passwordChage ? i("div", { staticClass: "signup-login d-flex flex-column align-items-center justify-content-center clearfix" }, [i("MaterialTextField", { staticClass: "material--sm mb-3", attrs: { placeholder: " " }, model: { value: t.resetCode, callback: function (e) { t.resetCode = e }, expression: "resetCode" } }), t._v(" "), i("MaterialTextField", { staticClass: "material--sm mb-3", attrs: { type: "password", placeholder: " " }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } }), t._v(" "), i("MaterialTextField", { staticClass: "material--sm mb-3", attrs: { type: "password", placeholder: "  " }, model: { value: t.password1, callback: function (e) { t.password1 = e }, expression: "password1" } }), t._v(" "), i("loading-button", { staticClass: "btn btn-dark mt-2 w-50", attrs: { loading: t.loading, type: "button" }, nativeOn: { click: function (e) { return t.changePassord(e) } } }, [t._v("   ")])], 1) : i("div", { ref: "loginForm", staticClass: "signup-login d-flex flex-column align-items-center justify-content-center clearfix", attrs: { action: "javascript:;" } }, [i("div", { staticClass: "w-100" }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.input, expression: "input" }], staticClass: "form-control bg-transparent mb-2", attrs: { type: "text", name: "username", placeholder: "   " }, domProps: { value: t.input }, on: { input: function (e) { e.target.composing || (t.input = e.target.value) } } })]), t._v(" "), i("loading-button", { staticClass: "btn btn-dark mt-2 w-50", attrs: { loading: t.loading, type: "button" }, nativeOn: { click: function (e) { return t.sendResetCode(e) } } }, [t._v("    ")])], 1)]) }), [], !1, null, null, null).exports, l = { data: function () { return { password: void 0, username: void 0, resetpass: !1, loading: !1, loginStep: !0, VerifyStep: !1, recovery: !1, code: null, verifyText: "          " } }, methods: { onHide: function () { this.password = void 0, this.username = void 0, this.VerifyStep = !1, this.loginStep = !0, this.resetpass = !1, this.recovery = !1, this.code = null }, verifyCode: function () { var t = this; if (null != this.code) { this.loading = !0; var e = { code: this.code }; this.recovery && (e.type = "recovery"), axios.post("/auth/verify-tfa", e).then((function (e) { e.data.result ? window.location = "/feed" : t.toast("   "), t.loading = !1 })).catch((function (e) { return t.loading = !0 })) } }, login: function () { var t = this; if (void 0 !== this.username && "" !== this.username && void 0 !== this.password && "" !== this.password) { this.loading = !0; var e = new FormData; e.append("username", this.username), e.append("password", this.password); var i = { method: "post", url: this.$APP_URL + "/auth/login", data: e }; axios(i).then((function (e) { if (e.data.result) window.location = "/feed"; else if (e.data.two_factor) t.loginStep = !1, t.VerifyStep = !0, "email" == e.data.type ? t.verifyText = "        " : "phone" == e.data.type && (t.verifyText = "        "); else { var i = e.data.errors; Object.keys(i).forEach((function (e, s) { t.$bvToast.toast(i[e][0], { noCloseButton: !0, toaster: "b-toaster-bottom-left", bodyClass: ["bg-dark", "text-right", "text-white"], solid: !0 }) })) } t.loading = !1 })).catch((function (e) { t.loading = !1, t.$bvToast.toast("   ", { noCloseButton: !0, toaster: "b-toaster-bottom-left", bodyClass: ["bg-dark", "text-right", "text-white"], solid: !0 }) })) } } }, mixins: [s.Z], components: { ResetPasswordModal: r, OtpInput: n.Z }, name: "LoginModal" }; const c = (0, a.Z)(l, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", [i("ResetPasswordModal", { attrs: { show: t.resetpass }, on: { "update:show": function (e) { t.resetpass = e }, back: function (e) { t.resetpass = !1, t.showModal = !0 } } }), t._v(" "), i("b-modal", { attrs: { "hide-footer": "", "hide-header": "", "no-stacking": "", centered: !0 }, on: { hide: t.onHide }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [i("div", { staticClass: "d-flex flex-column w-100 aling-items-center" }, [i("h5", { staticClass: "mt-0 font-16 text-center mb-4 w-25", staticStyle: { "border-bottom": "1px solid #000019", width: "fit-content", "align-self": "center", "margin-top": "20px", "padding-bottom": "10px", "padding-left": "0", "padding-right": "0" } }, [t._v("")])]), t._v(" "), t.loginStep ? i("div", { ref: "loginForm", staticClass: "signup-login d-flex flex-column align-items-center justify-content-center clearfix", attrs: { method: "POST", action: "javascript:;" }, on: { keydown: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.login(e) } } }, [i("div", { staticClass: "w-100" }, [i("material-text-field", { staticClass: "material--sm w-100 bg-transparent mb-2", attrs: { type: "text", "input-class": "w-100", name: "username", placeholder: "   " }, model: { value: t.username, callback: function (e) { t.username = e }, expression: "username" } })], 1), t._v(" "), i("div", { staticClass: "w-100", staticStyle: { "margin-top": "12px" } }, [i("material-text-field", { staticClass: "material--sm w-100 bg-transparent", attrs: { type: "password", "input-class": "w-100", name: "password", placeholder: "" }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } }), t._v(" "), i("a", { staticClass: "text-primary float-left font-11 clickable", staticStyle: { "margin-top": "3px" }, on: { click: function (e) { t.resetpass = !0 } } }, [t._v(" ")])], 1), t._v(" "), i("loading-button", { staticClass: "btn btn-dark mt-2", attrs: { loading: t.loading, type: "button" }, nativeOn: { click: function (e) { return t.login(e) } } }, [t._v("  ")])], 1) : t.VerifyStep ? i("div", { ref: "loginForm", staticClass: "signup-login d-flex flex-column align-items-center justify-content-center clearfix", attrs: { method: "POST", action: "javascript:;" }, on: { keydown: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.verifyCode(e) } } }, [i("p", { staticClass: "mb-3" }, [t._v(t._s(t.verifyText))]), t._v(" "), i("div", { staticClass: "text-left mb-3" }, [t.recovery ? t._e() : i("otp-input", { staticClass: "material--sm mb-1 text-center", attrs: { "input-class": "w-100", numInputs: 6 }, on: { completed: t.verifyCode }, model: { value: t.code, callback: function (e) { t.code = e }, expression: "code" } }), t._v(" "), t.recovery ? t._e() : i("small", { staticClass: "text-muted clickable", on: { click: function (e) { t.recovery = !0 } } }, [t._v("   ")]), t._v(" "), t.recovery ? i("input", { directives: [{ name: "model", rawName: "v-model", value: t.code, expression: "code" }], staticClass: "form-control", attrs: { placeholder: "    ", maxlength: "8" }, domProps: { value: t.code }, on: { input: function (e) { e.target.composing || (t.code = e.target.value) } } }) : t._e(), t._v(" "), t.recovery ? i("small", { staticClass: "text-muted clickable", on: { click: function (e) { t.recovery = !1 } } }, [t._v("   ")]) : t._e()], 1), t._v(" "), i("loading-button", { staticClass: "btn btn-dark", attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.verifyCode(e) } } }, [t._v("")])], 1) : t._e()])], 1) }), [], !1, null, null, null).exports }, 4139: (t, e, i) => { "use strict"; i.d(e, { Z: () => o }); var s = i(9949); const n = { props: { type: { type: String, default: "post", required: !1 }, postId: { type: Number, default: void 0, required: !1 }, commentId: { type: Number, default: void 0, required: !1 } }, mixins: [s.Z], methods: { setReason: function (t) { this.reason = t }, submit: function () { var t = this; this.loading = !0; var e = {}; "post" == this.type ? e.post_id = this.postId : "comment" == this.type && (e.comment_id = this.commentId), axios.post("/reportpost", e).then((function (e) { t.toast("     ", "check", "text-success"), t.$emit("update:show", !1) })).catch((function (e) { return t.toast("   ") })).then((function () { return t.loading = !1 })) } }, data: function () { return { reportFor: null, loading: !1, description: null, moreInfo: !1, reason: null } } }; const o = (0, i(1900).Z)(n, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "hide-footer": "", size: "md", title: "      ", centered: !0 }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [null == t.reportFor ? i("div", { staticClass: "reportreseaons" }, [i("div", { staticClass: "report-item", on: { click: function (e) { t.reportFor = "notrelated", t.reason = "  " } } }, [i("span", { staticClass: "text" }, [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("   ")]), t._v(" "), i("i", { staticClass: "material-icons" }, [t._v("keyboard_arrow_left")])]), t._v(" "), i("div", { staticClass: "report-item", on: { click: function (e) { t.reportFor = "fakeorspam" } } }, [i("span", { staticClass: "text" }, [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("     ")]), t._v(" "), i("i", { staticClass: "material-icons" }, [t._v("keyboard_arrow_left")])]), t._v(" "), i("div", { staticClass: "report-item", on: { click: function (e) { t.reportFor = "other-reasons" } } }, [i("span", { staticClass: "text" }, [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("   ")]), t._v(" "), i("i", { staticClass: "material-icons" }, [t._v("keyboard_arrow_left")])])]) : t._e(), t._v(" "), t.moreInfo ? t._e() : i("div", ["fakeorspam" === t.reportFor ? i("div", { staticClass: "fakeorspam reportfor" }, [i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "fakeaccount" } }, [i("span", [t._v("      ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :      ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "      " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "      " }, domProps: { checked: t._q(t.reason, "      ") }, on: { change: function (e) { t.reason = "      " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "wronginformation" } }, [i("span", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("    ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :     "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("            ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "       " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "       " }, domProps: { checked: t._q(t.reason, "       ") }, on: { change: function (e) { t.reason = "       " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "spamcotent" } }, [i("span", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("  ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" : "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("            ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "     " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "     " }, domProps: { checked: t._q(t.reason, "     ") }, on: { change: function (e) { t.reason = "     " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "phisingorvirus" } }, [i("span", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("           ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" : "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("               .")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "              " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "              " }, domProps: { checked: t._q(t.reason, "              ") }, on: { change: function (e) { t.reason = "              " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])])]) : t._e(), t._v(" "), "other-reasons" === t.reportFor ? i("div", { staticClass: "other-reasons reportfor" }, [i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "hatewordsreport" } }, [i("span", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("   ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" : "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("             ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "      " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "      " }, domProps: { checked: t._q(t.reason, "      ") }, on: { change: function (e) { t.reason = "      " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "sexualreport" } }, [i("span", [t._v("     ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :            ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "     " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "     " }, domProps: { checked: t._q(t.reason, "     ") }, on: { change: function (e) { t.reason = "     " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "terorismreport" } }, [i("span", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("      ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :              ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "          " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "          " }, domProps: { checked: t._q(t.reason, "          ") }, on: { change: function (e) { t.reason = "          " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "threatandhatereport" } }, [i("span", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("      ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :    /     ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "         " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "         " }, domProps: { checked: t._q(t.reason, "         ") }, on: { change: function (e) { t.reason = "         " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "suicidereport" } }, [i("span", [t._v("       ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :         ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "       " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "       " }, domProps: { checked: t._q(t.reason, "       ") }, on: { change: function (e) { t.reason = "       " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])]), t._v(" "), i("div", { staticClass: "report-reason" }, [i("label", { attrs: { for: "copyrightreport" } }, [i("span", [i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("     ")]), t._v(" "), i("small", { staticClass: "text-muted" }, [t._v(" :        ")])]), t._v(" "), i("div", { staticClass: "radio clickable", on: { click: function (e) { t.reason = "      " } } }, [i("input", { directives: [{ name: "model", rawName: "v-model", value: t.reason, expression: "reason" }], staticClass: "radio__input", attrs: { type: "radio", name: "reason", value: "      " }, domProps: { checked: t._q(t.reason, "      ") }, on: { change: function (e) { t.reason = "      " } } }), t._v(" "), i("label", { staticClass: "radio__label" })])])]) : t._e(), t._v(" "), "notrelated" === t.reportFor ? i("div", { staticClass: "notrelated reportfor px-3" }, [i("label", [t._v("  "), i("span", { staticClass: "reportTitle" }, [t._v(" ")]), t._v("        ")]), t._v(" "), i("input", { staticStyle: { display: "none" }, attrs: { type: "radio", name: "report", checked: "", value: "  " } })]) : t._e()]), t._v(" "), t.moreInfo ? i("div", [i("div", { staticClass: "moreinfo px-2" }, [i("textarea", { directives: [{ name: "model", rawName: "v-model", value: t.description, expression: "description" }], staticClass: "form-control h-100", attrs: { placeholder: "    ", name: "moreinfo" }, domProps: { value: t.description }, on: { input: function (e) { e.target.composing || (t.description = e.target.value) } } })]), t._v(" "), i("div", { staticClass: "moreinfo-footer text-left py-2" }, [i("button", { staticClass: "btn button-transparent", attrs: { type: "button" }, on: { click: function (e) { t.moreInfo = !1, t.description = null } } }, [t._v("")]), t._v(" "), i("button", { staticClass: "btn btn-dark", attrs: { id: "moreinfo-close" }, on: { click: function (e) { t.moreInfo = !1 } } }, [t._v("")])])]) : null != t.reportFor ? i("div", { staticClass: "d-flex pt-3 justify-content-between" }, [i("div", { staticClass: "align-self-start" }, [i("button", { staticClass: "btn btn-outline-primary rounded-pill", on: { click: function (e) { t.moreInfo = !0 } } }, [t._v(" ")])]), t._v(" "), i("div", { staticClass: "d-flex" }, [i("button", { staticClass: "btn button-transparent", on: { click: function (e) { t.reportFor = null } } }, [t._v("")]), t._v(" "), i("loading-button", { staticClass: "btn btn-primary", attrs: { loading: t.loading, disabled: null == t.reason }, nativeOn: { click: function (e) { return t.submit(e) } } }, [t._v("")])], 1)]) : t._e()]) }), [], !1, null, null, null).exports }, 4711: (t, e, i) => { "use strict"; i.d(e, { Z: () => l }); var s = i(9949), n = i(516), o = i(5029), a = i(2416); const r = { props: { post: { type: Object, default: void 0, required: !0 } }, methods: { newCategory: function (t) { this.categories.push({ name: t, id: t }), axios.post("/categories", { name: t }) }, cropImage: function () { var t = this; this.isCroppingDone = !0, this.isCropping = !1; var e = this.$refs.cropper.getResult(), i = e.canvas, s = e.coordinates; i.toBlob((function (e) { t.$refs.cropResult.src = URL.createObjectURL(e), t.cropCordinates = s })) }, rotateImage: function () { var t = this, e = document.createElement("img"); e.crossOrigin = "anonymous", e.src = this.image, e.onload = function () { var i = document.createElement("canvas"), s = i.getContext("2d"); e.width > e.height ? (i.width = e.height, i.height = e.width, s.translate(e.height, e.width / e.height)) : (i.height = e.width, i.width = e.height, s.translate(e.height, e.width / e.height)), s.rotate(Math.PI / 2), s.drawImage(e, 0, 0), t.image = i.toDataURL() } }, removeMedia: function () { this.isCroppingDone = !1, this.$refs.cropResult && (this.$refs.cropResult.src = ""), this.file = !1, this.image = void 0, this.video = void 0 }, imageSelect: function (t) { var e = t.target; if (e.files && e.files[0]) { var i = t.target.files[0], s = i.type, n = URL.createObjectURL(i); s.startsWith("image") ? (this.file = i, this.video = void 0, this.image = n, this.isCropping = !0) : s.startsWith("video") && (this.isCropping = !1, this.file = i, this.image = void 0, this.video = n) } }, submitPost: function () { var t = this; this.loading = !0; var e = new FormData; e.append("text", this.text), this.category && e.append("category", this.category.value), e.append("type", this.showType.value), e.append("tags", JSON.stringify(this.tags)), void 0 !== this.file && (e.append("media", this.file), void 0 !== this.cropCordinates && e.append("sizes", JSON.stringify(this.cropCordinates))), axios.post(this.$APP_URL + "/share/" + this.post.id, e).then((function (e) { var i = e.data; if (i.result) t.$store.state.ternoboWireApp.reload({ only: ["posts"] }), t.$emit("update:show", !1); else { var s = i.errors; t.handleError(s) } })).catch((function (t) { })).then((function () { return t.loading = !1 })) } }, watch: { text: function (t) { this.txtlen = t.length / 2500 * 100 + "%", this.leftCharacter = 2500 - t.length } }, mounted: function () { null !== this.$store.state.user && ("article" === this.post.type && (this.componentType = i(3771).Z), this.showType = this.showTypesItems[0]) }, data: function () { return { showTypesItems: [{ name: "", value: "public", icon: "public" }, { name: " ", value: "private", icon: "group" }], showType: void 0, category: void 0, text: void 0, categories: null != this.$store.state.shared.currentPage ? this.$store.state.shared.currentPage.categories : [], tags: [], txtlen: "0%", isCropping: !1, isCroppingDone: !1, image: void 0, video: void 0, file: void 0, cropCordinates: void 0, loading: !1, leftCharacter: 2500, componentType: i(8117).Z } }, components: { Cropper: n.fl, FileInput: o.Z, TagInput: a.Z }, mixins: [s.Z], name: "ReshareModal" }; const l = (0, i(1900).Z)(r, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return null != t.$store.state.user ? i("b-modal", { attrs: { "no-close-on-backdrop": t.isCropping, "hide-footer": "", "body-class": "px-3 pb-2", size: "md", title: " ", centered: !0 }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [i("div", { staticClass: "w-100", attrs: { action: "/posts", "data-ajax": "", method: "POST", "data-reload": "1", enctype: "multipart/form-data" } }, [i("div", { staticClass: "new-post position-relative" }, [i("div", { staticClass: "selections" }, [i("div", { staticClass: "userinfo col-lg-4 p-0" }, [i("lazy-image", { staticClass: "profile-sm", attrs: { src: t.$store.state.user.profile, "img-class": "profile-sm", loading: "lazy" } }), t._v(" "), i("strong", [t._v(t._s(t.$store.state.user.name))])], 1), t._v(" "), i("div", { staticClass: "categoryandtype" }, [i("div", { staticClass: "mx-1 col-lg-5 p-0" }, [i("tselect", { attrs: { items: t.showTypesItems, showNewItem: !1, direction: "rtl" }, model: { value: t.showType, callback: function (e) { t.showType = e }, expression: "showType" } })], 1), t._v(" "), i("div", { staticClass: "ml-1 p-0 col-lg-7" }, [i("tselect", { attrs: { items: t.categories, "value-option": "name", showNewItem: !0, direction: "rtl" }, on: { "new-item": t.newCategory }, model: { value: t.category, callback: function (e) { t.category = e }, expression: "category" } }, [i("i", { staticClass: "material-icons-outlined" }, [t._v("layers")]), t._v("  ")])], 1)])]), t._v(" "), i("div", { staticClass: "text px-0" }, [i("div", { staticClass: "textarea" }, [i("textarea-autosize", { staticClass: "w-100 autoresize autodirection", attrs: { "min-height": 201, rows: "8", placeholder: "            .     (  )", maxlength: "2500" }, model: { value: t.text, callback: function (e) { t.text = e }, expression: "text" } }), t._v(" "), i("div", { staticClass: "character-counter" }, [i("span", { staticClass: "counter tex-dark" }, [t._v(t._s(t.leftCharacter))]), t._v(" "), i("div", { staticClass: "progress ml-1 mb-0", staticStyle: { width: "100px", height: "5px" } }, [i("div", { staticClass: "progress-bar", style: { width: t.txtlen }, attrs: { role: "progressbar", "aria-valuemin": "0", "aria-valuemax": "100" } })])])], 1)]), t._v(" "), i("div", { staticClass: "mediatag" }, [i("div", { staticClass: "tags pr-0 pb-3" }, [i("tag-input", { staticClass: "w-100", model: { value: t.tags, callback: function (e) { t.tags = e }, expression: "tags" } })], 1)]), t._v(" "), i("div", { staticClass: "media pl-2" }, [i("input", { attrs: { type: "hidden", name: "sizes", value: "", id: "postimage-options" } })]), t._v(" "), i("div", { staticClass: "border my-2" }, [i(t.componentType, { tag: "component", staticClass: "shadow-0", attrs: { post: t.post, "show-menu": !1 } })], 1), t._v(" "), i("div", { staticClass: "submit position-relative" }, [i("loading-button", { staticClass: "btn btn-primary", staticStyle: { "margin-bottom": "-8px" }, attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.submitPost(e) } } }, [t._v("  ")])], 1)])])]) : t._e() }), [], !1, null, null, null).exports }, 738: (t, e, i) => { "use strict"; i.d(e, { Z: () => l }); var s = i(9949), n = i(7430), o = i(9536), a = i(222); const r = { methods: { updateProfile: function () { this.$store.state.ternoboWireApp.visit("/feed") }, sendVcode: function (t) { this.loading = !0; var e = this, i = new FormData; "email" === t ? i.append("email", this.email) : i.append("phone", this.phone_number); var s = { method: "post", url: this.$APP_URL + "/auth/verification", data: i }; axios(s).then((function (t) { if (t.data.result) e.emailphone_step = !1, e.verification_step = !0; else { var i = t.data.errors; e.handleError(i) } e.loading = !1 })).catch((function (t) { e.loading = !1 })) }, verifyCode: function () { var t = this; this.loading = !0; var e = this, i = new FormData; i.append("code", this.code); var s = { method: "post", url: this.$APP_URL + "/auth/verifycode", data: i }; axios(s).then((function (e) { e.data.result ? (t.verification_step = !1, t.personal_info_step = !0, t.invalidCode = !1) : t.invalidCode = !0, t.loading = !1 })).catch((function (t) { e.loading = !1 })).then((function () { return t.completedCode = !0 })) }, savePersonal: function () { this.loading = !0; var t = this, e = new FormData; void 0 !== this.first_name && "" !== this.first_name && e.append("firstname", this.first_name), void 0 !== this.last_name && "" !== this.last_name && e.append("lastname", this.last_name), void 0 !== this.username && "" !== this.username && e.append("username", this.username), void 0 !== this.gender && e.append("gender", this.gender.code); var i = { method: "post", url: this.$APP_URL + "/auth/signup", data: e }; axios(i).then((function (e) { if (e.data.result) t.personal_info_step = !1, t.password_step = !0; else { var i = e.data.errors; t.handleError(i) } t.loading = !1 })).catch((function (e) { t.loading = !1 })) }, savePassword: function () { var t = this, e = new FormData; if (this.password === this.password_repeat) { this.loading = !0, e.append("password", this.password); var i = { method: "post", url: this.$APP_URL + "/auth/setpassword", data: e }; axios(i).then((function (e) { if (e.data.result) t.password_step = !1, t.profile_step = !0; else { var i = e.data.errors; t.handleError(i) } t.loading = !1 })).catch((function (e) { t.loading = !1 })) } else this.toast("     ") } }, data: function () { return { emailphone_step: !0, verification_step: !1, personal_info_step: !1, profile_step: !1, password_step: !1, phone_number: void 0, email: void 0, code: void 0, first_name: "", last_name: "", username: "", gender: void 0, password: "", password_repeat: "", profile: "/images/man-profile.png", loading: !1, invalidCode: !1, completedCode: !1 } }, mixins: [s.Z], name: "SignupModal", components: { LoadingButton: n.Z, ProfileImage: o.Z, OtpInput: a.Z } }; const l = (0, i(1900).Z)(r, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("b-modal", { attrs: { "hide-footer": "", "hide-header": "", "body-class": "modal-signup", centered: !0 }, model: { value: t.showModal, callback: function (e) { t.showModal = e }, expression: "showModal" } }, [t.verification_step || t.emailphone_step ? i("tabs", { on: { selected: function (e) { t.emailphone_step = !0, t.verification_step = !1 } } }, [i("tab", { attrs: { name: "", selected: !0 } }, [i("div", { staticClass: "input-group ephone-input-group d-flex align-items-center", on: { keydown: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.sendVcode("email") } } }, [t.verification_step ? i("i", { staticClass: "material-icons-outlined text-superlight hover-danger", on: { click: function (e) { t.emailphone_step = !0, t.verification_step = !1 } } }, [t._v("edit")]) : i("LoadingButton", { staticClass: "signup-save-btn btn btn-dark", attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.sendVcode("email") } } }, [t._v("")]), t._v(" "), i("input", { directives: [{ name: "model", rawName: "v-model", value: t.email, expression: "email" }], staticClass: "form-control mx-1 text-left", attrs: { dir: "ltr", "input-class": "w-100", type: "email", readonly: t.verification_step, placeholder: "example@ternobo.com" }, domProps: { value: t.email }, on: { input: function (e) { e.target.composing || (t.email = e.target.value) } } })], 1)]), t._v(" "), i("tab", { attrs: { name: " " } }, [i("div", { staticClass: "input-group ephone-input-group d-flex align-items-center", on: { keydown: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.sendVcode("phone") } } }, [t.verification_step ? i("i", { staticClass: "material-icons-outlined text-superlight hover-danger", on: { click: function (e) { t.emailphone_step = !0, t.verification_step = !1 } } }, [t._v("edit")]) : i("LoadingButton", { staticClass: "signup-save-btn btn btn-dark", attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.sendVcode("phone") } } }, [t._v("")]), t._v(" "), i("input", { directives: [{ name: "model", rawName: "v-model", value: t.phone_number, expression: "phone_number" }], staticClass: "form-control mx-1 text-left", attrs: { dir: "ltr", type: "tel", readonly: t.verification_step, placeholder: "09123456789" }, domProps: { value: t.phone_number }, on: { input: function (e) { e.target.composing || (t.phone_number = e.target.value) } } })], 1)])], 1) : t._e(), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.verification_step ? i("div", { staticClass: "text-center" }, [i("div", { staticClass: "input-group d-flex align-items-center flex-column justify-content-center mt-4" }, [i("label", { staticClass: "w-100" }, [t._v(" "), i("strong", [t._v("")]), t._v("     ")]), t._v(" "), i("div", { staticClass: "d-flex justify-content-center" }, [i("div", { staticClass: "d-flex align-items-center" }, [i("otp-input", { staticClass: "material--sm mx-1 text-center", attrs: { "input-class": "w-100", numInputs: 6 }, on: { completed: t.verifyCode }, model: { value: t.code, callback: function (e) { t.code = e }, expression: "code" } }), t._v(" "), i("i", { staticClass: "material-icons-outlined mr-4", class: { "text-muted": !t.invalidCode && !t.completedCode, "text-danger": t.invalidCode, "text-success": !t.invalidCode } }, [t._v("verified_user")])], 1)])]), t._v(" "), i("LoadingButton", { staticClass: "btn btn-dark mt-4", attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.verifyCode(e) } } }, [t._v("")])], 1) : t._e()]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.personal_info_step ? i("div", { staticClass: "text-center" }, [i("h5", { staticClass: "mb-4", staticStyle: { "border-bottom": "2px solid #000019", width: "fit-content", "align-self": "center", "margin-top": "20px", margin: "auto", "padding-bottom": "10px", "padding-left": "0", "padding-right": "0" } }, [t._v(" ")]), t._v(" "), i("div", [i("material-text-field", { staticClass: "material--sm mb-3", attrs: { "input-class": "w-100", placeholder: "" }, model: { value: t.first_name, callback: function (e) { t.first_name = e }, expression: "first_name" } }), t._v(" "), i("material-text-field", { staticClass: "material--sm mb-3", attrs: { "input-class": "w-100", placeholder: " " }, model: { value: t.last_name, callback: function (e) { t.last_name = e }, expression: "last_name" } }), t._v(" "), i("material-text-field", { staticClass: "material--sm mb-3", attrs: { "input-class": "w-100", placeholder: " " }, model: { value: t.username, callback: function (e) { t.username = e }, expression: "username" } }), t._v(" "), i("v-select", { staticClass: "datepicker-list", attrs: { placeholder: "", dir: "rtl", options: [{ label: "", code: "1" }, { label: "", code: "2" }] }, scopedSlots: t._u([{ key: "no-options", fn: function () { return [t._v("  ")] }, proxy: !0 }], null, !1, 1105869603), model: { value: t.gender, callback: function (e) { t.gender = e }, expression: "gender" } })], 1), t._v(" "), i("LoadingButton", { staticClass: "btn btn-dark mx-auto mt-4 signup-save-btn", attrs: { loading: t.loading, disabled: !(t.first_name.length > 0 && t.last_name.length > 0 && t.username.length > 0 && null != t.gender) }, nativeOn: { click: function (e) { return t.savePersonal(e) } } }, [t._v("")])], 1) : t._e()]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.password_step ? i("div", { staticClass: "text-center" }, [i("h5", { staticClass: "mb-4", staticStyle: { "border-bottom": "2px solid #000019", margin: "auto", width: "fit-content", display: "flex", "justify-content": "center", "margin-top": "20px", "padding-bottom": "10px", "padding-left": "0", "padding-right": "0" } }, [t._v("")]), t._v(" "), i("div", { staticClass: "d-flex flex-column", staticStyle: { "align-items": "center" } }, [i("material-text-field", { staticClass: "material--sm w-50 mx-1 text-right", attrs: { "input-class": "w-100", type: "password", placeholder: "" }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } }), t._v(" "), i("material-text-field", { staticClass: "material--sm w-50 mx-1 text-right mt-3", attrs: { "input-class": "w-100", type: "password", placeholder: " " }, model: { value: t.password_repeat, callback: function (e) { t.password_repeat = e }, expression: "password_repeat" } })], 1), t._v(" "), i("div", { staticClass: "text-right mt-5 mx-auto", staticStyle: { "max-width": "80%" } }, [i("p", { staticClass: "font-18 pr-3" }, [t._v(" ")]), t._v(" "), i("ul", { staticClass: "font-14 pr-3", staticStyle: { "list-style": "none" } }, [i("li", [t._v("    ")]), t._v(" "), i("li", [t._v("             .")])])]), t._v(" "), i("LoadingButton", { staticClass: "btn btn-dark mx-auto mt-4 signup-save-btn", attrs: { loading: t.loading, disabled: !(t.password.length > 0 && t.password.length) }, nativeOn: { click: function (e) { return t.savePassword(e) } } }, [t._v("")])], 1) : t._e()]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.profile_step ? i("div", { staticClass: "d-flex flex-column align-items-center" }, [i("ProfileImage", { staticClass: "m-0", attrs: { canChange: !0, src: t.$APP_URL + "/images/man-profile.png" }, on: { updated: t.updateProfile } }), t._v(" "), i("div", { staticClass: "d-flex mt-4 flex-column" }, [i("span", { staticClass: "text-center" }, [t._v("    ")]), t._v(" "), i("wire-link", { staticClass: "btn btn-dark mx-auto mt-4 signup-save-btn", staticStyle: { "white-space": "nowrap" }, attrs: { href: "/feed", loading: t.loading } }, [t._v(" ")])], 1)], 1) : t._e()])], 1) }), [], !1, null, null, null).exports }, 8775: (t, e, i) => { "use strict"; i.d(e, { Z: () => l }); const s = {}; var n = i(3379), o = i.n(n), a = i(8063), r = { insert: "head", singleton: !1 }; o()(a.Z, r); a.Z.locals; const l = (0, i(1900).Z)(s, (function () { var t = this, e = t.$createElement; return (t._self._c || e)("div", { staticClass: "no-content" }, [t._t("default", [t._v("\n           \n    ")])], 2) }), [], !1, null, "0257f0e1", null).exports }, 222: (t, e, i) => { "use strict"; i.d(e, { Z: () => r }); const s = { name: "SingleOtpInput", props: { value: { type: String }, separator: { type: String }, focus: { type: Boolean }, inputClasses: { type: String }, shouldAutoFocus: { type: Boolean }, inputType: { type: String, default: function () { return "tel" } }, isLastChild: { type: Boolean } }, data: function () { return { model: this.value || "" } }, mounted: function () { this.$refs.input && this.focus && this.shouldAutoFocus && this.$refs.input.focus() }, watch: { value: function (t, e) { t !== e && (this.model = t) }, focus: function (t, e) { e !== t && this.$refs.input && this.focus && (this.$refs.input.focus(), this.$refs.input.select()) } }, methods: { handleOnChange: function () { return this.model.length > 1 && (this.model = this.model.slice(0, 1)), this.$emit("on-change", this.model) }, handleOnKeyDown: function (t) { var e = t || window.event, i = e.which ? e.which : e.keyCode; this.isCodeNumeric(i) || 8 === i || 86 === i || 46 === i ? this.$emit("on-keydown", t) : e.preventDefault() }, isCodeNumeric: function (t) { return t >= 48 && t <= 57 || t >= 96 && t <= 105 }, handleOnPaste: function (t) { return this.$emit("on-paste", t) }, handleOnFocus: function () { return this.$refs.input.select(), this.$emit("on-focus") }, handleOnBlur: function () { return this.$emit("on-blur") } } }; var n = i(1900); const o = (0, n.Z)(s, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticStyle: { display: "flex", "align-items": "center" } }, [i("div", t._g({ staticClass: "otp-input-single material-textfield material--transparent material--sm" }, t.$listeners), ["checkbox" === t.inputType ? i("input", { directives: [{ name: "model", rawName: "v-model", value: t.model, expression: "model" }], ref: "input", staticClass: "input", class: t.inputClasses, attrs: { min: "0", max: "9", maxlength: "1", pattern: "[0-9]", type: "checkbox" }, domProps: { checked: Array.isArray(t.model) ? t._i(t.model, null) > -1 : t.model }, on: { input: t.handleOnChange, keydown: t.handleOnKeyDown, paste: t.handleOnPaste, focus: t.handleOnFocus, blur: t.handleOnBlur, change: function (e) { var i = t.model, s = e.target, n = !!s.checked; if (Array.isArray(i)) { var o = t._i(i, null); s.checked ? o < 0 && (t.model = i.concat([null])) : o > -1 && (t.model = i.slice(0, o).concat(i.slice(o + 1))) } else t.model = n } } }) : "radio" === t.inputType ? i("input", { directives: [{ name: "model", rawName: "v-model", value: t.model, expression: "model" }], ref: "input", staticClass: "input", class: t.inputClasses, attrs: { min: "0", max: "9", maxlength: "1", pattern: "[0-9]", type: "radio" }, domProps: { checked: t._q(t.model, null) }, on: { input: t.handleOnChange, keydown: t.handleOnKeyDown, paste: t.handleOnPaste, focus: t.handleOnFocus, blur: t.handleOnBlur, change: function (e) { t.model = null } } }) : i("input", { directives: [{ name: "model", rawName: "v-model", value: t.model, expression: "model" }], ref: "input", staticClass: "input", class: t.inputClasses, attrs: { min: "0", max: "9", maxlength: "1", pattern: "[0-9]", type: t.inputType }, domProps: { value: t.model }, on: { input: [function (e) { e.target.composing || (t.model = e.target.value) }, t.handleOnChange], keydown: t.handleOnKeyDown, paste: t.handleOnPaste, focus: t.handleOnFocus, blur: t.handleOnBlur } })])]) }), [], !1, null, null, null).exports; const a = { name: "OtpInput", components: { SingleOtpInput: o }, props: { numInputs: { default: 4 }, separator: { type: String, default: "**" }, inputClasses: { type: String }, inputType: { type: String, validator: function (t) { return ["number", "tel", "password"].includes(t) } }, shouldAutoFocus: { type: Boolean, default: !1 } }, data: function () { return { activeInput: 0, otp: [], oldOtp: [] } }, methods: { handleOnFocus: function (t) { this.activeInput = t }, handleOnBlur: function () { this.activeInput = -1 }, checkFilledAllInputs: function () { return this.otp.join("").length === this.numInputs ? (this.$emit("input", this.otp.join("")), this.$emit("completed"), this.$emit("input", this.otp.join(""))) : "Wait until the user enters the required number of characters" }, focusInput: function (t) { this.activeInput = Math.max(Math.min(this.numInputs - 1, t), 0) }, focusNextInput: function () { this.focusInput(this.activeInput + 1) }, focusPrevInput: function () { this.focusInput(this.activeInput - 1) }, changeCodeAtFocus: function (t) { this.oldOtp = Object.assign([], this.otp), this.$set(this.otp, this.activeInput, t), this.oldOtp.join("") !== this.otp.join("") && (this.$emit("on-change", this.otp.join("")), this.checkFilledAllInputs()) }, handleOnPaste: function (t) { t.preventDefault(); var e = t.clipboardData.getData("text/plain").slice(0, this.numInputs - this.activeInput).split(""); if ("number" === this.inputType && !e.join("").match(/^\d+$/)) return "Invalid pasted data"; var i = this.otp.slice(0, this.activeInput).concat(e); return this.$set(this, "otp", i.slice(0, this.numInputs)), this.focusInput(i.slice(0, this.numInputs).length), this.checkFilledAllInputs() }, handleOnChange: function (t) { this.changeCodeAtFocus(t), this.focusNextInput() }, clearInput: function () { this.otp.length > 0 && this.$emit("on-change", ""), this.otp = [], this.activeInput = 0 }, handleOnKeyDown: function (t) { switch (t.keyCode) { case 8: t.preventDefault(), this.changeCodeAtFocus(""), this.focusPrevInput(); break; case 46: t.preventDefault(), this.changeCodeAtFocus(""); break; case 37: t.preventDefault(), this.focusPrevInput(); break; case 39: t.preventDefault(), this.focusNextInput() } } } }; const r = (0, n.Z)(a, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticStyle: { display: "flex", "flex-direction": "row-reverse" } }, ["password" === t.inputType ? i("input", { staticStyle: { display: "none" }, attrs: { autocomplete: "off", name: "hidden", type: "text" } }) : t._e(), t._v(" "), t._l(t.numInputs, (function (e, s) { return i("single-otp-input", { key: s, attrs: { focus: t.activeInput === s, value: t.otp[s], separator: t.separator, "input-type": t.inputType, "input-classes": t.inputClasses, "is-last-child": s === t.numInputs - 1, "should-auto-focus": t.shouldAutoFocus }, on: { "on-change": t.handleOnChange, "on-keydown": t.handleOnKeyDown, "on-paste": t.handleOnPaste, "on-focus": function (e) { return t.handleOnFocus(s) }, "on-blur": t.handleOnBlur } }) }))], 2) }), [], !1, null, null, null).exports }, 3771: (t, e, i) => { "use strict"; i.d(e, { Z: () => c }); var s = i(8126), n = i(3979), o = i(3914), a = i(4711), r = i(4670); s.Z.addLocale(o); const l = { data: function () { return { liked: !1, bookmarked: !1, showEmbed: !1, showReshare: !1, showLikes: !1, deleted: !1 } }, created: function () { this.liked = this.post.is_liked, this.bookmarked = this.post.is_bookmarked }, mounted: function () { var t = this; new IntersectionObserver((function () { t.seen_content.includes(t.post.id) || (t.seen_content.push(t.post.id), t.seen_request.push(t.post.id)) }), { root: null, threshold: 1 }).observe(this.$el) }, components: { EmbedCodeModal: n.Z, ReshareModal: a.Z, PostMenu: r.Z }, methods: { doDelete: function () { this.deleted = !0, axios.delete("/posts/" + this.post.id) }, like: function () { this.liked ? this.liked = !1 : this.liked = !0; this.$axios({ method: "post", url: this.$APP_URL + "/like/" + this.post.id }).catch((function (t) { })) }, bookmark: function () { this.bookmarked ? this.bookmarked = !1 : this.bookmarked = !0; this.$axios({ method: "post", url: this.$APP_URL + "/bookmark/" + this.post.id }).catch((function (t) { })) } }, name: "ArticleCard", props: { showMenu: { type: Boolean, default: !0, required: !1 }, post: { type: Object, default: void 0, required: !0 } }, computed: { post_time: function () { return new s.Z("fa-FA").format(Date.parse(this.post.created_at), "fa_FA") }, postSlug: function () { var t = this.post.id; null !== this.post.slug && this.post.slug.length > 0 && (t = this.post.slug); var e = this.post.page.slug; return this.$APP_URL + "/" + e + "/" + t }, updated_at: function () { return null !== this.post.updated_at ? new s.Z("fa-FA").format(Date.parse(this.post.updated_at), "fa_FA") : "" } } }; const c = (0, i(1900).Z)(l, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return void 0 === t.post || t.deleted ? t._e() : i("div", { staticClass: "post-box", class: { "reshared-post": !t.showMenu } }, [i("EmbedCodeModal", { attrs: { post: t.post, show: t.showEmbed }, on: { "update:show": function (e) { t.showEmbed = e } } }), t._v(" "), i("ReshareModal", { attrs: { post: t.post, show: t.showReshare }, on: { "update:show": function (e) { t.showReshare = e } } }), t._v(" "), i("likes-modal", { attrs: { item: t.post.id, show: t.showLikes }, on: { "update:show": function (e) { t.showLikes = e } } }), t._v(" "), i("div", { staticClass: "post-header pt-0" }, [i("wire-link", { staticClass: "publisher", attrs: { href: "/" + t.post.page.slug } }, [i("lazy-image", { staticClass: "profile-sm mb-0", attrs: { "img-class": "profile-sm", src: t.post.page.profile } }), t._v(" "), i("div", [i("strong", [t._v(" " + t._s(t.post.page.name) + " "), 1 === t.post.page.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("span", { staticClass: "text-muted font-12" }, [t._v("\n\t\t\t\t\t" + t._s(t.post.page.short_bio) + "\n\t\t\t\t")]), t._v(" "), t.showMenu ? i("div", { staticClass: "post-time", class: { "pt-0": null != t.post.text && t.post.text.length > 0 } }, [t._v("\n\t\t\t\t\t" + t._s(t.post_time) + "\n\t\t\t\t\t"), i("span", { staticClass: "mx-1 font-10" }, [t._v("")]), t._v(" "), t.post.updated_at !== t.post.created_at ? i("span", [t._v(" ")]) : t._e(), t._v(" "), t.post.updated_at !== t.post.created_at ? i("span", { staticClass: "mx-1 font-10" }, [t._v("")]) : t._e(), t._v(" "), i("i", { staticClass: "material-icons-outlined text-light verical-middle" }, [t._v("\n\t\t\t\t\t\t" + t._s("public" === t.post.show ? "public" : "group") + "\n\t\t\t\t\t")])]) : t._e()])], 1), t._v(" "), t.showMenu ? i("div", { staticClass: "actions position-relative" }, [i("i", { staticClass: "material-icons bookmark-icon clickale text-muted clickable hover-dark", on: { click: t.bookmark } }, [t._v(t._s(t.bookmarked ? "bookmark" : "bookmark_border"))]), t._v(" "), i("div", [i("post-menu", { attrs: { post: t.post }, on: { embed: function (e) { t.showEmbed = !0 }, deleted: t.doDelete } })], 1)]) : t._e()], 1), t._v(" "), i("wire-link", { staticClass: "post-body pb-2", attrs: { href: t.postSlug } }, [null !== t.post.medias && void 0 !== t.post.medias && t.post.medias.length > 0 ? i("div", { staticClass: "images articleimg" }, [i("lazy-image", { staticClass: "m-0", staticStyle: { "min-height": "218px" }, attrs: { alt: "", src: t.post.medias } })], 1) : t._e(), t._v(" "), i("h4", { staticClass: "article-title", staticStyle: { "margin-right": "-12px !important" } }, [t._v(t._s(t.post.title))])]), t._v(" "), t.showMenu ? i("div", { staticClass: "post-footer" }, [(null != t.post.tags && t.post.tags.length > 0 || null !== t.post.category) && t.showMenu ? i("div", { staticClass: "tagandcate" }, [i("div", { staticClass: "tags" }, t._l(t.post.tags, (function (e, s) { return i("wire-link", { key: e + "_POST_TAG_" + t.post.id + "_" + s, staticClass: "tag-item", attrs: { href: "/tags/" + e } }, [t._v("\n\t\t\t\t\t" + t._s(e) + "\n\t\t\t\t")]) })), 1), t._v(" "), null !== t.post.category ? i("wire-link", { staticClass: "category", attrs: { href: "/" + t.post.page.slug + "/categories/" + t.post.category.id } }, [i("i", { staticClass: "material-icons text-grey" }, [t._v("layers")]), i("span", { staticClass: "text-grey" }, [t._v(" " + t._s(t.post.category.name))])]) : t._e()], 1) : t._e(), t._v(" "), t.showMenu && t.$store.state.user ? i("div", { staticClass: "actions" }, [i("div", [null != t.post.mutual_likes && t.post.mutual_likes.length > 0 ? i("div", { staticClass: "d-flex post-likes-text text-muted clickable", on: { click: function (e) { t.showLikes = !0 } } }, [i("span", { staticClass: "ml-1" }, [t._v("  ")]), t._v(" "), t.post.mutual_likes[0] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.post.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.post.mutual_likes[0].page.name))])]) : t._e(), t._v(" "), t.post.mutual_likes.length > 1 ? i("div", [i("span", { staticClass: "mr-1" }, [t._v("")]), t._v(" "), t.post.mutual_likes[1] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.post.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.post.mutual_likes[1].page.name))])]) : t._e()], 1) : t._e(), t._v(" "), t.post.mutual_likes.length > 2 ? i("span", { staticClass: "mx-1" }, [t._v("  ... ")]) : t._e()], 1) : t._e()]), t._v(" "), i("div", { staticClass: "buttons" }, [i("i", { staticClass: "material-icons-outlined", on: { click: function (e) { t.showReshare = !0 } } }, [t._v("sync")]), t._v(" "), t.checkUser(t.post.page.user_id) ? t._e() : i("i", { staticClass: "material-icons like", class: { "text-danger": t.liked }, on: { click: t.like } }, [t._v(t._s(t.liked ? "favorite" : "favorite_border"))])])]) : t._e()]) : t._e()], 1) }), [], !1, null, null, null).exports }, 3849: (t, e, i) => { "use strict"; i.r(e), i.d(e, { default: () => n }); i(8117), i(3771); const s = { created: function () { this.post && ("article" === this.post.type ? this.componentType = i(3771).Z : "share" === this.post.type && (this.componentType = i(7689).Z)) }, data: function () { return { componentType: i(8117).Z } }, name: "PostCard", props: { hasComment: { type: Boolean, default: !0, required: !1 }, post: { type: Object, default: void 0, required: !0 } } }; const n = (0, i(1900).Z)(s, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return null != t.post && null != t.post ? i(t.componentType, { tag: "component", staticClass: "mb-3", attrs: { post: t.post, "has-comment": t.hasComment } }) : t._e() }), [], !1, null, null, null).exports }, 7689: (t, e, i) => { "use strict"; i.d(e, { Z: () => d }); var s = i(8126), n = i(5740), o = i(3979), a = i(3914), r = i(4711), l = i(4670); s.Z.addLocale(a); const c = { data: function () { return { liked: !1, deleted: !1, bookmarked: !1, openComment: !1, showEmbed: !1, showReshare: !1, showLikes: !1, edit: !1, componentType: i(8117).Z, showMore: !1 } }, created: function () { this.post.share && ("article" === this.post.share.type && (this.componentType = i(3771).Z), this.liked = this.post.is_liked, this.bookmarked = this.post.is_bookmarked, this.showMore = null != this.post.text && this.post.text.length < 283) }, mounted: function () { this.$refs.textelem && (this.$refs.textelem.oncopy = function (t) { t.preventDefault() }); var t = this; new IntersectionObserver((function () { t.seen_content.includes(t.post.id) || (t.seen_content.push(t.post.id), t.seen_request.push(t.post.id)) }), { root: null, threshold: 1 }).observe(this.$el) }, methods: { doDelete: function () { this.deleted = !0, axios.delete("/posts/" + this.post.id) }, like: function () { this.liked ? this.liked = !1 : this.liked = !0; this.$axios({ method: "post", url: this.$APP_URL + "/like/" + this.post.id }).catch((function (t) { })) }, bookmark: function () { this.bookmarked ? this.bookmarked = !1 : this.bookmarked = !0; this.$axios({ method: "post", url: this.$APP_URL + "/bookmark/" + this.post.id }).catch((function (t) { })) } }, name: "ResharedPost", components: { CommentsList: n.Z, EmbedCodeModal: o.Z, ReshareModal: r.Z, PostMenu: l.Z }, props: { hasComment: { type: Boolean, default: !0, required: !1 }, showMenu: { type: Boolean, default: !0, required: !1 }, post: { type: Object, default: void 0, required: !0 } }, computed: { isImage: function () { return !this.post.media_type.startsWith("video") }, post_time: function () { return new s.Z("fa-FA").format(Date.parse(this.post.created_at), "fa_FA") }, updated_at: function () { return null !== this.post.updated_at ? new s.Z("fa-FA").format(Date.parse(this.post.updated_at), "fa_FA") : "" } } }; const d = (0, i(1900).Z)(c, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return void 0 === t.post || null == t.post || null == t.post.share || null == t.post.share || t.deleted ? t._e() : i("div", { staticClass: "post-box" }, [i("ReshareModal", { attrs: { post: t.post.share, show: t.showReshare }, on: { "update:show": function (e) { t.showReshare = e } } }), t._v(" "), i("EmbedCodeModal", { attrs: { post: t.post, show: t.showEmbed }, on: { "update:show": function (e) { t.showEmbed = e } } }), t._v(" "), i("likes-modal", { attrs: { item: t.post.id, show: t.showLikes }, on: { "update:show": function (e) { t.showLikes = e } } }), t._v(" "), i("new-post-modal", { attrs: { post: t.post, show: t.edit }, on: { "update:show": function (e) { t.edit = e } } }), t._v(" "), i("div", { staticClass: "post-header pt-0" }, [i("wire-link", { staticClass: "publisher", attrs: { href: "/" + t.post.page.slug } }, [i("lazy-image", { staticClass: "profile-sm mb-0", attrs: { "img-class": "profile-sm", src: t.post.page.profile } }), t._v(" "), i("div", [i("strong", [t._v(" " + t._s(t.post.page.name) + " "), 1 === t.post.page.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("span", { staticClass: "text-muted font-12" }, [t._v("\n\t\t\t\t\t" + t._s(t.post.page.short_bio) + "\n\t\t\t\t")]), t._v(" "), t.showMenu ? i("div", { staticClass: "post-time", class: { "pt-0": null != t.post.text && t.post.text.length > 0 } }, [t._v("\n\t\t\t\t\t" + t._s(t.post_time) + "\n\t\t\t\t\t"), i("span", { staticClass: "mx-1 font-10" }, [t._v("")]), t._v(" "), t.post.updated_at !== t.post.created_at ? i("span", [t._v(" ")]) : t._e(), t._v(" "), t.post.updated_at !== t.post.created_at ? i("span", { staticClass: "mx-1 font-10" }, [t._v("")]) : t._e(), t._v(" "), i("i", { staticClass: "material-icons-outlined text-light verical-middle" }, [t._v("\n\t\t\t\t\t\t" + t._s("public" === t.post.show ? "public" : "group") + "\n\t\t\t\t\t")])]) : t._e()])], 1), t._v(" "), t.showMenu ? i("div", { staticClass: "actions position-relative" }, [i("i", { staticClass: "material-icons bookmark-icon clickable text-muted hover-dark", on: { click: t.bookmark } }, [t._v(t._s(t.bookmarked ? "bookmark" : "bookmark_border"))]), t._v(" "), i("div", [i("post-menu", { attrs: { post: t.post }, on: { deleted: t.doDelete, edit: function (e) { t.edit = !0 }, embed: function (e) { t.showEmbed = !0 } } })], 1)]) : t._e()], 1), t._v(" "), null != t.post.text && t.post.text.length > 0 ? i("div", { staticClass: "post-body" }, [i("pre", { ref: "textelem", staticClass: "text", class: { open: t.showMore }, domProps: { innerHTML: t._s(t.post.text) } }), t._v(" "), null != t.post.text && t.post.text.length > 283 ? i("span", { staticClass: "text-action clickable", on: { click: function (e) { t.showMore = !t.showMore } } }, [t._v(t._s(t.showMore ? " " : " "))]) : t._e()]) : t._e(), t._v(" "), i("wire-link", { staticClass: "border clickable my-2 mx-3", attrs: { as: "div", href: "/posts/" + t.post.share.id } }, [i(t.componentType, { tag: "component", staticClass: "shadow-0", staticStyle: { "margin-bottom": "0 !important" }, attrs: { post: t.post.share, "show-menu": !1 } })], 1), t._v(" "), i("div", { staticClass: "post-footer" }, [(null != t.post.tags && t.post.tags.length > 0 || null !== t.post.category) && t.showMenu ? i("div", { staticClass: "tagandcate" }, [t.post.tags.length > 0 ? i("div", { staticClass: "tags" }, t._l(t.post.tags, (function (e) { return i("a", { key: e, staticClass: "tag-item", attrs: { href: "/tags/" + e } }, [t._v("\n\t\t\t\t\t" + t._s(e) + "\n\t\t\t\t")]) })), 0) : t._e(), t._v(" "), null !== t.post.category ? i("a", { staticClass: "category", attrs: { href: "/" + t.post.page.slug + "/categories/" + t.post.category.id } }, [i("i", { staticClass: "material-icons text-grey" }, [t._v("layers")]), i("span", { staticClass: "text-grey" }, [t._v(" " + t._s(t.post.category.name))])]) : t._e()]) : t._e(), t._v(" "), null !== t.post.medias && void 0 !== t.post.medias && t.post.medias.length > 0 ? i("div", { staticClass: "images" }, [t.isImage ? i("lazy-image", { staticClass: "m-0", attrs: { alt: "", src: t.post.medias } }) : i("video", { staticStyle: { "max-width": "100%" }, attrs: { src: t.post.medias, controls: "", controlslist: "nodownload" } })], 1) : t._e(), t._v(" "), t.showMenu && t.$store.state.user ? i("div", { staticClass: "actions" }, [i("div", [null != t.post.mutual_likes && t.post.mutual_likes.length > 0 ? i("div", { staticClass: "d-flex post-likes-text text-muted clickable", on: { click: function (e) { t.showLikes = !0 } } }, [i("span", { staticClass: "ml-1" }, [t._v("  ")]), t._v(" "), t.post.mutual_likes[0] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.post.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.post.mutual_likes[0].page.name))])]) : t._e(), t._v(" "), t.post.mutual_likes.length > 1 ? i("div", [i("span", { staticClass: "mr-1" }, [t._v("")]), t._v(" "), t.post.mutual_likes[1] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.post.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.post.mutual_likes[1].page.name))])]) : t._e()], 1) : t._e(), t._v(" "), t.post.mutual_likes.length > 2 ? i("span", { staticClass: "mx-1" }, [t._v("  ... ")]) : t._e()], 1) : t._e()]), t._v(" "), i("div", { staticClass: "buttons" }, [i("i", { staticClass: "material-icons-outlined", on: { click: function (e) { t.showReshare = !0 } } }, [t._v("sync")]), t._v(" "), t.hasComment ? i("i", { class: { "material-icons-outlined": !t.openComment, "material-icons": t.openComment }, on: { click: function (e) { t.openComment = !t.openComment } } }, [t._v("comment")]) : t._e(), t._v(" "), t.checkUser(t.post.page.user_id) ? t._e() : i("i", { staticClass: "material-icons like", class: { "text-danger": t.liked }, on: { click: t.like } }, [t._v(t._s(t.liked ? "favorite" : "favorite_border"))])])]) : t._e()]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.openComment && t.hasComment ? i("div", [i("CommentsList", { attrs: { post: t.post.id } })], 1) : t._e()])], 1) }), [], !1, null, null, null).exports }, 8117: (t, e, i) => { "use strict"; i.d(e, { Z: () => d }); var s = i(8126), n = i(5740), o = i(3979), a = i(3914), r = i(4711), l = i(4670); s.Z.addLocale(a); const c = { data: function () { return { liked: !1, bookmarked: !1, openComment: !1, showEmbed: !1, showReshare: !1, showLikes: !1, deleted: !1, edit: !1, showMore: !1 } }, created: function () { this.liked = this.post.is_liked, this.bookmarked = this.post.is_bookmarked, this.showMore = null != this.post.text && this.post.text.length < 283 }, mounted: function () { this.$refs.textelem && (this.$refs.textelem.oncopy = function (t) { t.preventDefault() }); var t = this; new IntersectionObserver((function () { t.seen_content.includes(t.post.id) || (t.seen_content.push(t.post.id), t.seen_request.push(t.post.id)) }), { root: null, threshold: 1 }).observe(this.$el) }, methods: { like: function () { this.liked ? this.liked = !1 : this.liked = !0; this.$axios({ method: "post", url: this.$APP_URL + "/like/" + this.post.id }).catch((function (t) { })) }, doDelete: function () { this.deleted = !0, axios.delete("/posts/" + this.post.id) }, bookmark: function () { this.bookmarked ? this.bookmarked = !1 : this.bookmarked = !0; this.$axios({ method: "post", url: this.$APP_URL + "/bookmark/" + this.post.id }).catch((function (t) { })) } }, name: "SimplePost", components: { CommentsList: n.Z, EmbedCodeModal: o.Z, ReshareModal: r.Z, PostMenu: l.Z }, props: { hasComment: { type: Boolean, default: !0, required: !1 }, showMenu: { type: Boolean, default: !0, required: !1 }, post: { type: Object, default: void 0, required: !0 } }, computed: { isImage: function () { return !this.post.media_type.startsWith("video") }, post_time: function () { return new s.Z("fa-FA").format(Date.parse(this.post.created_at), "fa_FA") }, updated_at: function () { return null !== this.post.updated_at ? new s.Z("fa-FA").format(Date.parse(this.post.updated_at), "fa_FA") : "" } } }; const d = (0, i(1900).Z)(c, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return void 0 === t.post || t.deleted ? t._e() : i("div", { staticClass: "post-box", class: { "reshared-post": !t.showMenu } }, [i("ReshareModal", { attrs: { post: t.post, show: t.showReshare }, on: { "update:show": function (e) { t.showReshare = e } } }), t._v(" "), i("EmbedCodeModal", { attrs: { post: t.post, show: t.showEmbed }, on: { "update:show": function (e) { t.showEmbed = e } } }), t._v(" "), i("new-post-modal", { attrs: { post: t.post, show: t.edit }, on: { "update:show": function (e) { t.edit = e } } }), t._v(" "), i("likes-modal", { attrs: { item: t.post.id, show: t.showLikes }, on: { "update:show": function (e) { t.showLikes = e } } }), t._v(" "), i("div", { staticClass: "post-header pt-0" }, [i("wire-link", { staticClass: "publisher", attrs: { href: "/" + t.post.page.slug } }, [i("lazy-image", { staticClass: "profile-sm mb-0", attrs: { "img-class": "profile-sm", src: t.post.page.profile } }), t._v(" "), i("div", [i("strong", { staticClass: "publisher--name" }, [t._v(" " + t._s(t.post.page.name) + " "), 1 === t.post.page.is_verified ? i("i", { staticClass: "verificationcheck" }, [t._v("check_circle")]) : t._e()]), t._v(" "), i("span", { staticClass: "publisher--shortbio" }, [t._v("\n\t\t\t\t\t" + t._s(t.post.page.short_bio) + "\n\t\t\t\t")]), t._v(" "), t.showMenu ? i("div", { staticClass: "post-time", class: { "pt-0": null != t.post.text && t.post.text.length > 0 } }, [t._v("\n\t\t\t\t\t" + t._s(t.post_time) + "\n\t\t\t\t\t"), i("span", { staticClass: "mx-1 font-10" }, [t._v("")]), t._v(" "), t.post.updated_at !== t.post.created_at ? i("span", [t._v(" ")]) : t._e(), t._v(" "), t.post.updated_at !== t.post.created_at ? i("span", { staticClass: "mx-1 font-10" }, [t._v("")]) : t._e(), t._v(" "), i("i", { staticClass: "material-icons-outlined text-light verical-middle" }, [t._v("\n\t\t\t\t\t\t" + t._s("public" === t.post.show ? "public" : "group") + "\n\t\t\t\t\t")])]) : t._e()])], 1), t._v(" "), t.showMenu ? i("div", { staticClass: "actions position-relative" }, [i("i", { staticClass: "material-icons bookmark-icon clickale text-muted clickable hover-dark", on: { click: t.bookmark } }, [t._v(t._s(t.bookmarked ? "bookmark" : "bookmark_border"))]), t._v(" "), i("div", [i("post-menu", { attrs: { post: t.post }, on: { deleted: t.doDelete, edit: function (e) { t.edit = !0 }, embed: function (e) { t.showEmbed = !0 } } })], 1)]) : t._e()], 1), t._v(" "), null != t.post.text && t.post.text.length > 0 ? i("div", { staticClass: "post-body" }, [i("pre", { ref: "textelem", staticClass: "text", class: { open: t.showMore }, domProps: { innerHTML: t._s(t.post.text) } }), t._v(" "), null != t.post.text && t.post.text.length > 283 ? i("span", { staticClass: "text-action clickable", on: { click: function (e) { t.showMore = !t.showMore } } }, [t._v(t._s(t.showMore ? " " : " "))]) : t._e()]) : t._e(), t._v(" "), i("div", { staticClass: "post-footer" }, [(null != t.post.tags && t.post.tags.length > 0 || null !== t.post.category) && t.showMenu ? i("div", { staticClass: "tagandcate" }, [i("div", { staticClass: "tags" }, t._l(t.post.tags, (function (e) { return i("wire-link", { key: e, staticClass: "tag-item", attrs: { href: "/tags/" + e } }, [t._v("\n\t\t\t\t\t" + t._s(e) + "\n\t\t\t\t")]) })), 1), t._v(" "), null !== t.post.category ? i("a", { staticClass: "category", attrs: { href: "/" + t.post.page.slug + "/categories/" + t.post.category.id } }, [i("i", { staticClass: "material-icons text-grey" }, [t._v("layers")]), t._v(" "), i("span", { staticClass: "text-grey" }, [t._v(" " + t._s(t.post.category.name))])]) : t._e()]) : t._e(), t._v(" "), null !== t.post.medias && void 0 !== t.post.medias && t.post.medias.length > 0 ? i("div", { staticClass: "images" }, [t.isImage ? i("lazy-image", { staticClass: "m-0", staticStyle: { "min-height": "218px" }, attrs: { alt: "", src: t.post.medias } }) : i("video", { staticStyle: { "max-width": "100%" }, attrs: { src: t.post.medias, controls: "", controlslist: "nodownload" } })], 1) : t._e(), t._v(" "), t.showMenu && t.$store.state.user ? i("div", { staticClass: "actions" }, [i("div", [null != t.post.mutual_likes && t.post.mutual_likes.length > 0 ? i("div", { staticClass: "d-flex post-likes-text text-muted clickable", on: { click: function (e) { t.showLikes = !0 } } }, [i("span", { staticClass: "ml-1" }, [t._v("  ")]), t._v(" "), t.post.mutual_likes[0] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.post.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.post.mutual_likes[0].page.name))])]) : t._e(), t._v(" "), t.post.mutual_likes.length > 1 ? i("div", [i("span", { staticClass: "mr-1" }, [t._v("")]), t._v(" "), t.post.mutual_likes[1] ? i("wire-link", { staticClass: "text-dark", attrs: { href: "/" + t.post.mutual_likes[0].page.slug } }, [i("strong", { staticClass: "text-light" }, [t._v(t._s(t.post.mutual_likes[1].page.name))])]) : t._e()], 1) : t._e(), t._v(" "), t.post.mutual_likes.length > 2 ? i("span", { staticClass: "mx-1" }, [t._v("  ... ")]) : t._e()], 1) : t._e()]), t._v(" "), i("div", { staticClass: "buttons" }, [t.hasComment ? i("i", { class: { "material-icons-outlined": !t.openComment, "material-icons": t.openComment }, on: { click: function (e) { t.openComment = !t.openComment } } }, [t._v("comment")]) : t._e(), t._v(" "), t.checkUser(t.post.page.user_id) ? t._e() : i("i", { staticClass: "material-icons like", class: { "text-danger": t.liked }, on: { click: t.like } }, [t._v(t._s(t.liked ? "favorite" : "favorite_border"))])])]) : t._e()]), t._v(" "), i("transition", { attrs: { name: "slide" } }, [t.openComment ? i("div", [i("CommentsList", { attrs: { post: t.post.id } })], 1) : t._e()])], 1) }), [], !1, null, null, null).exports }, 9536: (t, e, i) => { "use strict"; i.d(e, { Z: () => o }); var s = i(4543); const n = { watch: { src: function (t) { this.picture = t } }, created: function () { this.picture = this.src }, props: { canChange: { type: Boolean, default: !1, required: !1 }, src: { type: String, default: void 0, required: !0 }, size: { type: String, default: "profile-xlg", required: !1 } }, methods: { openFileSelect: function () { this.canChange && this.$refs.imageFile.click() }, imageSelect: function (t) { var e = t.target; if (e.files && e.files[0]) { var i = t.target.files[0], s = i.type, n = URL.createObjectURL(i); s.startsWith("image") ? (this.file = i, this.image = n, this.crop = !0) : this.toast("   !") } }, upload: function (t) { var e = this; this.loading = !0; var i = new FormData; i.append("profile", this.file), i.append("sizes", JSON.stringify(t)), i.append("json", !0), axios.post(this.$APP_URL + "/setprofile", i).then((function (t) { var i = t.data; if (i.result) e.$store.commit("userUpdate"), e.$store.state.ternoboWireApp.reload(), i.url && (e.picture = i.url), e.$emit("updated"); else { var s = i.errors; e.handleError(s) } })).then((function () { return e.loading = !1 })) } }, data: function () { return { crop: !1, image: "", file: null, loading: !1, picture: "" } }, components: { CropperModal: s.Z } }; const o = (0, i(1900).Z)(n, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "profile-box clickable", class: t.size, on: { click: t.openFileSelect } }, [t.canChange ? i("CropperModal", { attrs: { title: "  ", show: t.crop, "aspect-ratio": 1, image: t.image }, on: { "update:show": function (e) { t.crop = e }, cropped: t.upload } }) : t._e(), t._v(" "), t.canChange ? i("input", { ref: "imageFile", staticClass: "d-none", attrs: { type: "file" }, on: { change: t.imageSelect } }) : t._e(), t._v(" "), i("lazy-image", { class: t.size, attrs: { src: t.picture, "img-class": "rounded-circle" } }), t._v(" "), t.canChange ? i("i", { staticClass: "material-icons-outlined" }, [t._v("camera_alt")]) : t._e(), t._v(" "), t.loading ? i("div", { staticClass: "position-absolute d-flex align-items-center justify-content-center profile-xlg", staticStyle: { top: "-3px", left: "-3px", right: "-3px", bottom: "-3px", width: "calc(100%+3px)", height: "calc(100%+3px)", background: "rgba(0, 0, 0, 0.5)" } }, [i("loading-spinner")], 1) : t._e()], 1) }), [], !1, null, null, null).exports }, 2880: (t, e, i) => { "use strict"; i.d(e, { Z: () => o }); var s = i(7430); const n = { mounted: function () { if (null !== this.$store.state.user) { var t = this.page; "number" != typeof t && (t = parseInt(t)), this.page_id = t, this.$store.state.shared.followings.includes(t) && (this.followed = !0, this.text = " ", this.$emit("followed")) } }, data: function () { return { loading: !1, followed: !1, text: " ", page_id: -1 } }, props: { page: { type: Number, default: void 0, required: !0 } }, methods: { follow: function () { var t = this; if (this.loading = !0, this.followed) { e = { method: "post", url: this.$APP_URL + "/unfollow/" + this.page }; axios(e).then((function (e) { if (e.data.result) t.loading = !1, t.text = " ", t.followed = !1, t.$emit("unfollowed"), t.$store.commit("unfollow", t.$store.state.followings.indexOf(t.page_id)); else { var i = e.data.errors; Object.keys(i).forEach((function (e, s) { t.$bvToast.toast(i[e][0], { noCloseButton: !0, toaster: "b-toaster-bottom-left", bodyClass: ["bg-dark", "text-right", "text-white"], solid: !0 }) })) } t.loading = !1 })).catch((function (t) { this.loading = !1 })) } else { var e = { method: "post", url: this.$APP_URL + "/follow/" + this.page }; axios(e).then((function (e) { if (e.data.result) t.loading = !1, t.$store.commit("addFollower", t.page_id), t.text = " ", t.followed = !0, t.$emit("followed"); else { var i = e.data.errors; Object.keys(i).forEach((function (e, s) { t.$bvToast.toast(i[e][0], { noCloseButton: !0, toaster: "b-toaster-bottom-left", bodyClass: ["bg-dark", "text-right", "text-white"], solid: !0 }) })) } t.loading = !1 })).catch((function (e) { t.loading = !1 })) } } }, components: { LoadingButton: s.Z } }; const o = (0, i(1900).Z)(n, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return null !== t.$store.state.user ? i("LoadingButton", { staticClass: "btn follow-btn", class: { "btn-followed-connected": t.followed }, attrs: { loading: t.loading }, nativeOn: { click: function (e) { return t.follow(e) } } }, [t._v(t._s(t.text))]) : t._e() }), [], !1, null, null, null).exports }, 5029: (t, e, i) => { "use strict"; i.d(e, { Z: () => n }); const s = { props: { accept: { default: "image/jpeg, image/png, video/mp4, video/avi" } }, name: "FileInput", methods: { open: function () { this.$refs.fileInput.click() }, change: function (t) { this.$emit("change", t) } } }; const n = (0, i(1900).Z)(s, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", [i("input", { ref: "fileInput", staticClass: "d-none", attrs: { type: "file", accept: t.accept }, on: { change: t.change } }), t._v(" "), i("div", { on: { click: t.open } }, [t._t("default", [i("button", { staticClass: "btn btn-primary" }, [t._v(" ")])])], 2)]) }), [], !1, null, null, null).exports }, 2416: (t, e, i) => { "use strict"; i.d(e, { Z: () => n }); const s = { methods: { removeLastTag: function () { (null == this.input || this.input.length < 1) && (this.tags.pop(), this.$emit("input", this.tags)) }, removeTag: function (t) { this.tags.splice(t, 1), this.$emit("input", this.tags) }, addTag: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null; null != t ? -1 == this.tags.indexOf(t) && (this.tags.push(t), this.input = null, this.$emit("input", this.tags), this.suggestions = []) : null != this.input && -1 == this.tags.indexOf(this.input) && (this.tags.push(this.input), this.input = null, this.$emit("input", this.tags)) }, check: function () { (null == this.val || this.val.length < 1) && this.required || this.notValid ? this.invalid = !0 : this.invalid = !1 } }, created: function () { this.tags = this.value }, watch: { value: function () { this.tags = this.value }, input: function (t) { var e = this; null != t && t.length > 0 && axios.get(this.$APP_URL + "/gettags?term=" + t + "&q=" + t).then((function (t) { var i = t.data; i.results.length > 0 && (e.suggestions = i.results) })) } }, data: function () { return { tags: [], suggestions: [], input: null, invalid: !1 } }, props: { notValid: { type: Boolean, default: !1, required: !1 }, value: { type: Array, required: !1 }, required: { type: Boolean, default: !1, required: !1 }, type: { type: String, default: "text", required: !1 }, maxlength: { type: Number, default: 15e3, required: !1 }, inputClass: { type: String, default: "", required: !1 }, placeholder: { type: String, default: void 0, required: !1 } } }; const n = (0, i(1900).Z)(s, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "d-flex tag-input", class: { focus: null != t.tags && null != t.tags && t.tags.length > 0 } }, [i("div", { staticClass: "tags" }, t._l(t.tags, (function (e, s) { return i("div", { key: "newpost_tag_" + e + "_" + s, staticClass: "tag-item", on: { click: function (e) { return t.removeTag(s) } } }, [t._v("\n            " + t._s(e) + "\n        ")]) })), 0), t._v(" "), "checkbox" === t.type ? i("input", { directives: [{ name: "model", rawName: "v-model", value: t.input, expression: "input" }], staticClass: "input", class: [t.inputClass, { invalid: t.invalid }], attrs: { placeholder: " ", disabled: null != t.tags && null != t.tags && 3 == t.tags.length, maxlength: t.maxlength, type: "checkbox" }, domProps: { checked: Array.isArray(t.input) ? t._i(t.input, null) > -1 : t.input }, on: { keyup: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.addTag() }, blur: t.check, change: function (e) { var i = t.input, s = e.target, n = !!s.checked; if (Array.isArray(i)) { var o = t._i(i, null); s.checked ? o < 0 && (t.input = i.concat([null])) : o > -1 && (t.input = i.slice(0, o).concat(i.slice(o + 1))) } else t.input = n } } }) : "radio" === t.type ? i("input", { directives: [{ name: "model", rawName: "v-model", value: t.input, expression: "input" }], staticClass: "input", class: [t.inputClass, { invalid: t.invalid }], attrs: { placeholder: " ", disabled: null != t.tags && null != t.tags && 3 == t.tags.length, maxlength: t.maxlength, type: "radio" }, domProps: { checked: t._q(t.input, null) }, on: { keyup: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.addTag() }, blur: t.check, change: function (e) { t.input = null } } }) : i("input", { directives: [{ name: "model", rawName: "v-model", value: t.input, expression: "input" }], staticClass: "input", class: [t.inputClass, { invalid: t.invalid }], attrs: { placeholder: " ", disabled: null != t.tags && null != t.tags && 3 == t.tags.length, maxlength: t.maxlength, type: t.type }, domProps: { value: t.input }, on: { keyup: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.addTag() }, blur: t.check, input: function (e) { e.target.composing || (t.input = e.target.value) } } }), t._v(" "), t._m(0), t._v(" "), t.suggestions.length > 0 && null != this.input && this.input.length > 0 ? i("div", { staticClass: "tags-suggestion" }, [i("div", { staticClass: "tags flex-wrap" }, t._l(t.suggestions, (function (e, s) { return i("div", { key: "suggested_tag_" + e + "_" + s, staticClass: "tag-item", on: { click: function (i) { return t.addTag(e.text) } } }, [t._v("\n                " + t._s(e.text) + "\n            ")]) })), 0)]) : t._e()]) }), [function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("label", { staticClass: "d-flex align-items-center" }, [t._v("\n        \n        "), i("small", { staticClass: "max-text mr-1" }, [t._v(" 3 ")])]) }], !1, null, null, null).exports }, 8184: (t, e, i) => { "use strict"; i.d(e, { Z: () => r }); const s = {}; var n = i(1900); const o = (0, n.Z)(s, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { staticClass: "bottom-nav d-lg-none d-flex" }, [i("wire-link", { class: { active: "/notifications" === t.$store.state.url }, attrs: { href: "/notifications" } }, [i("i", { staticClass: "navheader-icon", class: { unread: t.$store.shared.notifications_count > 0 } }, [t._v(t._s("/notifications" === t.$store.state.url ? "notifications" : "notifications_none"))])]), t._v(" "), i("wire-link", { class: { active: "/connections" === t.$store.state.url }, attrs: { href: "/connections" } }, [i("i", { staticClass: "navheader-icon" }, [t._v("group")])]), t._v(" "), i("wire-link", { class: { active: "/feed" === t.$store.state.url }, attrs: { href: "/feed" } }, [i("i", { staticClass: "navheader-icon material-icons" }, [t._v("home")])]), t._v(" "), i("wire-link", { class: { active: "/bookmarks" === t.$store.state.url }, attrs: { href: "/bookmarks" } }, [i("i", { staticClass: "navheader-icon" }, [t._v("bookmarks")])]), t._v(" "), i("wire-link", { class: { active: t.$store.state.url === "/" + t.$store.state.user.username }, attrs: { href: "/" + t.$store.state.user.username } }, [i("i", { staticClass: "navheader-icon" }, [i("img", { staticClass: "rounded-circle", staticStyle: { width: "24px", height: "24px" }, attrs: { src: t.$store.state.user.profile } })])])], 1) }), [], !1, null, null, null).exports; const a = { name: "AppLayout", components: { AppHeader: i(3832).default, BottomNavigator: o } }; const r = (0, n.Z)(a, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("div", { attrs: { id: "app" } }, [i("AppHeader"), t._v(" "), i("div", { staticClass: "px-3", class: { "has-bnav": !t.$root.isDesktop } }, [i("transition", { attrs: { mode: "out-in", name: "fade" } }, [t._t("default")], 2)], 1), t._v(" "), t.$root.isDesktop ? t._e() : i("bottom-navigator")], 1) }), [], !1, null, null, null).exports }, 2867: (t, e, i) => { "use strict"; i.r(e), i.d(e, { default: () => l }); var s = i(8184), n = i(2294), o = i(8775), a = i(3849); const r = { methods: { loadMore: function () { var t = this; if (!this.loadingPage && null !== this.next_page_url) { var e = this.next_page_url; this.loadingPage = !0, this.$store.state.ternoboWireApp.getData(this.next_page_url, !1).then((function (e) { var i = e.data.posts; i && (t.postsArray = t.postsArray.concat(i.data), t.page = i.current_page, t.next_page_url = i.next_page_url) })).catch((function (i) { t.next_page_url = e, console.error(i) })).then((function () { t.loadingPage = !1 })) } } }, name: "Bookmarks", watch: { posts: function (t) { this.postsArray = this.posts.data } }, mounted: function () { this.postsArray = this.posts.data, this.page = this.posts.current_page, this.next_page_url = this.posts.next_page_url }, data: function () { return { postsArray: [], page: 1, next_page_url: null, loadingPage: !1 } }, props: { posts: { type: Object, default: void 0 } }, components: { AppFooter: n.default, NoContent: o.Z, PostCard: a.default }, layout: s.Z }; const l = (0, i(1900).Z)(r, (function () { var t = this, e = t.$createElement, i = t._self._c || e; return i("base-layout", [i("sidebar-right", [i("user-card")], 1), t._v(" "), i("div", { staticClass: "content-container" }, [t.postsArray.length < 1 ? i("div", [i("no-content", [t._v("        ")])], 1) : t._e(), t._v(" "), t.postsArray.length > 0 ? i("div", { directives: [{ name: "infinite-scroll", rawName: "v-infinite-scroll", value: t.loadMore, expression: "loadMore" }], staticClass: "posts", attrs: { "infinite-scroll-disabled": t.loadingPage, "infinite-scroll-distance": "5" } }, [t._l(t.postsArray, (function (t, e) { return i("PostCard", { key: "post_item_" + e, attrs: { post: t } }) })), t._v(" "), t.loadingPage ? i("div", { staticClass: "w-100 d-flex justify-content-center py-3" }, [i("loading-spinner", { staticClass: "image__spinner" })], 1) : t._e(), t._v(" "), null !== t.next_page_url || t.loadingPage ? t._e() : i("div", [i("no-content", [t._v("     ")])], 1)], 2) : t._e()]), t._v(" "), i("sidebar-left", [i("app-footer")], 1)], 1) }), [], !1, null, null, null).exports } }]);
//# sourceMappingURL=2867.js.map
