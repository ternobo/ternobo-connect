(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{F5jO:function(e,t,n){"use strict";n("Xur2")},UKby:function(e,t,n){"use strict";n.r(t);var c=n("Ql3O"),r=n("xBln"),o=n("mRTQ"),i=(n("XEc/"),{props:{email:{default:null},phone:{default:null}},created:function(){var e=this;axios.post("/two-factor-auth/info").then((function(t){var n=t.data;e.enabled=n.enabled,e.isSetuped=n.enabled,n.enabled&&(e.select_step=!1,e.setup_step=!1);var c="";"app"===n.type?c="اپلیکیشن تایید هویت":"phone"===n.type?c="تلفن همراه":"email"===n.type&&(c="ایمیل"),e.type={id:n.type,label:c},e.recoveryCodes=JSON.parse(n.recovery_codes)}))},computed:{theComponent:function(){if(null!=this.type){if("app"==this.type.id)return function(){return n.e(67).then(n.bind(null,"AQB6"))};if("email"==this.type.id)return function(){return n.e(66).then(n.bind(null,"0Tub"))};if("phone"==this.type.id)return function(){return n.e(68).then(n.bind(null,"ITJC"))}}return null},typeText:function(){return"app"===this.type.id?"اپلیکیشن تایید هویت":"phone"===this.type.id?"تلفن همراه":"email"===this.type.id?"ایمیل":void 0},noPhone:function(){return null==this.phone},noEmail:function(){return null==this.email},canNext:function(){return!(null==this.type||!this.enabled)&&("phone"==this.type.id?!this.noPhone:"email"!=this.type.id||!this.noEmail)},attributes:function(){if(null!=this.type){if("phone"==this.type.id)return{phone:this.phone};if("email"==this.type.id)return{email:this.email}}}},data:function(){return{enabled:!1,QrCode:null,recoveryCodes:[],type:null,isSetuped:!1,select_step:!0,setup_step:!1,resetLoading:!1}},methods:{action:function(){this.enabled=!this.enabled,this.enabled||(axios.post("/two-factor-auth/deactive"),this.cancel())},downloadCodes:function(){var e=this.recoveryCodes.join("\n"),t=document.createElement("a");t.href="data:text/csv;charset=utf-8,"+encodeURI(e),t.target="_blank",t.download="Ternobo-Recovery-Codes.csv",t.click()},cancel:function(){this.enabled=!1,this.isSetuped=!1,this.setup_step=!1,this.select_step=!0},resetCodes:function(){var e=this;this.resetLoading=!0,axios.post("/two-factor-auth/reset").then((function(t){e.recoveryCodes=JSON.parse(t.data.codes),e.resetLoading=!1})).catch((function(t){e.toast("خطا در برقراری ارتباط"),e.resetLoading=!1}))},changeType:function(){this.select_step=!0,this.isSetuped=!1},next:function(){null!=this.type?(this.isSetuped=!1,this.select_step=!1,this.setup_step=!0):this.toast("یک شیوه تایید هویت را انتخاب کنید")},onEnabled:function(e){this.recoveryCodes=e,this.setup_step=!1,this.enabled=!0,this.isSetuped=!0}},components:{LoadingButton:r.a,LoadingSpinner:o.a},mixins:[c.a],name:"TwoFAModal"}),s=n("KHd+"),a=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{"hide-footer":"",title:"تایید دو مرحله‌ای",size:"md",centered:!0},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("div",{staticClass:"d-flex flex-column py-3"},[!e.enabled||e.isSetuped?n("div",{staticClass:"d-flex align-items-center"},[n("strong",{staticClass:"ml-4"},[e._v(" این ویژگی برای شما "+e._s(e.enabled?"فعال":"غیرفعال")+" است. ")]),e._v(" "),n("span",{staticClass:"clickable text-action",on:{click:e.action}},[e._v("\n\t\t\t\t"+e._s(e.enabled?"غیرفعال کردن":"فعال کردن")+"\n\t\t\t")])]):e._e(),e._v(" "),e.select_step?n("div",[n("div",{staticClass:"d-flex mb-4 justify-content-between flex-wrap align-items-end"},[n("div",{staticClass:"d-flex flex-column"},[e.enabled?n("strong",{staticClass:"mb-2"},[e._v("یک روش تاییده انتخاب کنید")]):e._e(),e._v(" "),n("v-select",{staticClass:"datepicker-list ml-2",staticStyle:{"min-width":"280px"},attrs:{placeholder:"روش تاییدیه",dir:"rtl",disabled:!e.enabled,options:[{id:"app",label:"اپلیکیشن تایید هویت"},{id:"phone",label:"تلفن همراه"},{id:"email",label:"ایمیل"}]},scopedSlots:e._u([{key:"no-options",fn:function(){return[e._v("موردی یافت نشد")]},proxy:!0}],null,!1,1105869603),model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),n("div",{staticClass:"d-flex mt-sm-0 mt-3",staticStyle:{height:"min-content"}},[n("button",{staticClass:"btn text-muted button-transparent",attrs:{disabled:!e.enabled},on:{click:function(t){e.enabled=!1}}},[e._v("لغو")]),e._v(" "),n("button",{staticClass:"btn btn-dark",attrs:{disabled:!e.canNext},on:{click:e.next}},[e._v("ادامه")])])]),e._v(" "),e.noPhone&&null!=e.type&&"phone"==e.type.id?n("div",[n("strong",{staticClass:"text-danger"},[e._v(" برای استفاده از این ویژگی بایستی تلفن همراه خود را به اطلاعات حساب اضافه کنید ")]),e._v(" "),n("p",{staticClass:"mt-3"},[e._v("با افزودن شماره همراه خودتان یک لایه امنیتی جهت ورود به حساب کاربری شما اضافه می‌شود که هربار جهت ورود به حساب کاربری یک تایید برای شما ارسال می‌کنیم. البته شما می‌توانید تعیین کنید که از شماره همراه به چه منظور استفاده کنید.")])]):e.noEmail&&null!=e.type&&"email"==e.type.id?n("div",[n("strong",{staticClass:"text-danger"},[e._v(" برای استفاده از این ویژگی بایستی ایمیل خود را به اطلاعات حساب اضافه کنید ")]),e._v(" "),n("p",{staticClass:"mt-3"},[e._v("با افزودن ایمیل خودتان یک لایه امنیتی جهت ورود به حساب کاربری شما اضافه می‌شود که هربار جهت ورود به حساب کاربری یک تایید برای شما ارسال می‌کنیم. البته شما می‌توانید تعیین کنید که از ایمیل به چه منظور استفاده کنید.")])]):e._e()]):n("div",[e.setup_step?n(e.theComponent,e._b({tag:"component",on:{enabled:e.onEnabled,cancel:e.cancel}},"component",e.attributes,!1)):e.isSetuped?n("div",[n("div",{staticClass:"d-flex flex-column"},[n("div",{staticClass:"py-3 border-bottom"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"bg-body px-2 p-1 ml-3 font-14 rounded-pill"},[e._v("تایید هویت دو مرحله‌ای با استفاده از "+e._s(e.typeText))]),e._v(" "),n("span",{staticClass:"clickable text-action",on:{click:e.changeType}},[e._v("تغییر روش")])]),e._v(" "),"app"===e.type.id?n("span",{staticClass:"text-muted font-14 mt-3"},[e._v("حین ورود، از کد‌ یکبار مصرفی که "+e._s(e.typeText)+" به شما نشان می‌دهد استفاده کنید.")]):"phone"===e.type.id?n("div",{staticClass:"text-muted font-14 text-center mt-3"},[n("p",{staticClass:"text-right"},[e._v("در هنگام ورود، کد یکبار مصرفی به تلفن همراه شما ارسال می‌شود.")]),e._v(" "),n("strong",{staticClass:"text-dark"},[e._v(e._s(e.phone))])]):"email"===e.type.id?n("div",{staticClass:"text-muted font-14 text-center mt-3"},[n("p",{staticClass:"text-right"},[e._v("در هنگام ورود، کد یکبار مصرفی به ایمیل شما ارسال می‌شود.")]),e._v(" "),n("strong",{staticClass:"text-dark"},[e._v(e._s(e.email))])]):e._e()]),e._v(" "),n("div",{staticClass:"pt-3"},[n("h3",{staticClass:"mb-3 font-16"},[e._v("کد‌های بازیابی")]),e._v(" "),n("p",[e._v("اگر به هر دلیل نتوانستید به تلفن‌همراه خود برای دریافت پیامک یا اپلیکیشن تایید هویت دسترسی پیدا کنید می‌توانید برای ورد به حساب از کد‌های زیر استفاده کنید.")]),e._v(" "),n("div",{staticClass:"w-100 d-flex justify-content-between align-items-center mb-3"},[n("span",{staticClass:"font-12"},[e._v("برای کپی کردن کلیک کنید")]),e._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("i",{staticClass:"material-icons-outlined text-muted hover-dark clickable",on:{click:e.downloadCodes}},[e._v("get_app")]),e._v(" "),n("i",{staticClass:"material-icons-outlined text-muted hover-dark clickable",class:{rotateAnimation:e.resetLoading},on:{click:e.resetCodes}},[e._v("loop")])])]),e._v(" "),n("div",{staticClass:"row"},e._l(e.recoveryCodes,(function(t){return n("div",{key:"recovery_"+t,staticClass:"col-md-4 col-2 mb-3"},[n("div",{directives:[{name:"clipboard",rawName:"v-clipboard",value:JSON.stringify(t),expression:"JSON.stringify(recoveryCode)"}],staticClass:"bg-body p-1 rounded-pill text-center clickable",staticStyle:{"padding-top":"7px !important"}},[e._v("\n\t\t\t\t\t\t\t\t\t"+e._s(t)+"\n\t\t\t\t\t\t\t\t")])])})),0),e._v(" "),n("div",{staticClass:"w-100 text-center"},[n("strong",[e._v("حتما این اطلاعات را در جای امنی نگه دارید")])])])])]):e._e()],1),e._v(" "),n("strong",{staticClass:"text-superlight mt-3"},[e._v(" با فعال کردن این ویژگی تمامی دستگاه‌های متصل به این حساب به صورت خودکار خارج می‌شوند. با اولین ورود هر دستگاه، یک تایید جهت ورود از شما درخواست می‌شود. ")])])])}),[],!1,null,null,null);t.default=a.exports},"XEc/":function(e,t,n){"use strict";var c={name:"switches",props:{typeBold:{default:!1},value:{default:!1},disabled:{default:!1},label:{default:""},textEnabled:{default:""},textDisabled:{default:""},color:{default:"default"},theme:{default:"default"},emitOnMount:{default:!0}},mounted(){this.emitOnMount&&this.$emit("input",this.value)},methods:{trigger(e){this.$emit("input",e.target.checked)}},computed:{classObject(){const{color:e,value:t,theme:n,typeBold:c,disabled:r}=this;return{"vue-switcher":!0,"vue-switcher--unchecked":!t,"vue-switcher--disabled":r,"vue-switcher--bold":c,"vue-switcher--bold--unchecked":c&&!t,["vue-switcher-theme--"+n]:e,["vue-switcher-color--"+e]:e}},shouldShowLabel(){return""!==this.label||""!==this.textEnabled||""!==this.textDisabled}}},r=(n("F5jO"),n("KHd+")),o=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.classObject},[e.shouldShowLabel?n("span",{staticClass:"vue-switcher__label"},[e.label?n("span",{domProps:{textContent:e._s(e.label)}}):e._e(),e._v(" "),!e.label&&e.value?n("span",{domProps:{textContent:e._s(e.textEnabled)}}):e._e(),e._v(" "),e.label||e.value?e._e():n("span",{domProps:{textContent:e._s(e.textDisabled)}})]):e._e(),e._v(" "),n("input",{attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:e.value},on:{change:e.trigger}}),e._v(" "),n("div")])}),[],!1,null,null,null);t.a=o.exports},Xur2:function(e,t,n){var c=n("aPHj");"string"==typeof c&&(c=[[e.i,c,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(c,r);c.locals&&(e.exports=c.locals)},aPHj:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"/**\n * Default\n */\n/**\n * Bulma\n */\n/**\n * Bootstrap\n */\n.vue-switcher {\n  position: relative;\n  display: inline-block;\n}\n.vue-switcher__label {\n    display: block;\n    font-size: 10px;\n    margin-bottom: 5px;\n}\n.vue-switcher input {\n    opacity: 0;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 1;\n    cursor: pointer;\n}\n.vue-switcher div {\n    height: 15px;\n    width: 36px;\n    position: relative;\n    border-radius: 30px;\n    display: -webkit-flex;\n    display: -ms-flex;\n    display: flex;\n    align-items: center;\n    justify-content: flex-start;\n    cursor: pointer;\n    transition: linear .2s, background-color linear .2s;\n}\n.vue-switcher div:after {\n      content: '';\n      height: 20px;\n      width: 20px;\n      border-radius: 100px;\n      display: block;\n      transition: linear .15s, background-color linear .15s;\n      position: absolute;\n      left: 100%;\n      margin-left: -18px;\n      cursor: pointer;\n      top: -3px;\n      box-shadow: 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n}\n.vue-switcher--unchecked div {\n    justify-content: flex-end;\n}\n.vue-switcher--unchecked div:after {\n      left: 15px;\n}\n.vue-switcher--disabled div {\n    opacity: .3;\n}\n.vue-switcher--disabled input {\n    cursor: not-allowed;\n}\n.vue-switcher--bold div {\n    top: -8px;\n    height: 26px;\n    width: 51px;\n}\n.vue-switcher--bold div:after {\n      margin-left: -24px;\n      top: 3px;\n}\n.vue-switcher--bold--unchecked div:after {\n    left: 28px;\n}\n.vue-switcher--bold .vue-switcher__label span {\n    padding-bottom: 7px;\n    display: inline-block;\n}\n.vue-switcher-theme--default.vue-switcher-color--default div {\n    background-color: #b7b7b7;\n}\n.vue-switcher-theme--default.vue-switcher-color--default div:after {\n      background-color: #9d9d9d;\n}\n.vue-switcher-theme--default.vue-switcher-color--default.vue-switcher--unchecked div {\n    background-color: #aaa;\n}\n.vue-switcher-theme--default.vue-switcher-color--default.vue-switcher--unchecked div:after {\n      background-color: #c4c4c4;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue div {\n    background-color: #77b0c8;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue div:after {\n      background-color: #539bb9;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue.vue-switcher--unchecked div {\n    background-color: #c0dae5;\n}\n.vue-switcher-theme--default.vue-switcher-color--blue.vue-switcher--unchecked div:after {\n      background-color: #77b0c8;\n}\n.vue-switcher-theme--default.vue-switcher-color--red div {\n    background-color: #c87777;\n}\n.vue-switcher-theme--default.vue-switcher-color--red div:after {\n      background-color: #b95353;\n}\n.vue-switcher-theme--default.vue-switcher-color--red.vue-switcher--unchecked div {\n    background-color: #e5c0c0;\n}\n.vue-switcher-theme--default.vue-switcher-color--red.vue-switcher--unchecked div:after {\n      background-color: #c87777;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow div {\n    background-color: #c9c377;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow div:after {\n      background-color: #bab353;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow.vue-switcher--unchecked div {\n    background-color: #e6e3c0;\n}\n.vue-switcher-theme--default.vue-switcher-color--yellow.vue-switcher--unchecked div:after {\n      background-color: #c9c377;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange div {\n    background-color: #c89577;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange div:after {\n      background-color: #b97953;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange.vue-switcher--unchecked div {\n    background-color: #e5cec0;\n}\n.vue-switcher-theme--default.vue-switcher-color--orange.vue-switcher--unchecked div:after {\n      background-color: #c89577;\n}\n.vue-switcher-theme--default.vue-switcher-color--green div {\n    background-color: #77c88d;\n}\n.vue-switcher-theme--default.vue-switcher-color--green div:after {\n      background-color: #53b96e;\n}\n.vue-switcher-theme--default.vue-switcher-color--green.vue-switcher--unchecked div {\n    background-color: #c0e5ca;\n}\n.vue-switcher-theme--default.vue-switcher-color--green.vue-switcher--unchecked div:after {\n      background-color: #77c88d;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default div {\n    background-color: gainsboro;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default div:after {\n      background-color: #f5f5f5;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default.vue-switcher--unchecked div {\n    background-color: #e8e8e8;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--default.vue-switcher--unchecked div:after {\n      background-color: #f5f5f5;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary div {\n    background-color: #05ffda;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary div:after {\n      background-color: #00d1b2;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary.vue-switcher--unchecked div {\n    background-color: #6bffe9;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--primary.vue-switcher--unchecked div:after {\n      background-color: #05ffda;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue div {\n    background-color: #5e91e3;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue div:after {\n      background-color: #3273dc;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue.vue-switcher--unchecked div {\n    background-color: #b5ccf2;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--blue.vue-switcher--unchecked div:after {\n      background-color: #5e91e3;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red div {\n    background-color: #ff6b89;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red div:after {\n      background-color: #ff3860;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red.vue-switcher--unchecked div {\n    background-color: #ffd1da;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--red.vue-switcher--unchecked div:after {\n      background-color: #ff6b89;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow div {\n    background-color: #ffe78a;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow div:after {\n      background-color: #ffdd57;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow.vue-switcher--unchecked div {\n    background-color: #fffcf0;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--yellow.vue-switcher--unchecked div:after {\n      background-color: #ffe78a;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green div {\n    background-color: #3dde75;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green div:after {\n      background-color: #22c65b;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green.vue-switcher--unchecked div {\n    background-color: #94edb3;\n}\n.vue-switcher-theme--bulma.vue-switcher-color--green.vue-switcher--unchecked div:after {\n      background-color: #3dde75;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default div {\n    background-color: #e6e6e6;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default div:after {\n      background-color: #f0f0f0;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default.vue-switcher--unchecked div {\n    background-color: whitesmoke;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--default.vue-switcher--unchecked div:after {\n      background-color: #f0f0f0;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary div {\n    background-color: #4f93ce;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary div:after {\n      background-color: #337ab7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary.vue-switcher--unchecked div {\n    background-color: #9fc4e4;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--primary.vue-switcher--unchecked div:after {\n      background-color: #4f93ce;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success div {\n    background-color: #80c780;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success div:after {\n      background-color: #5cb85c;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success.vue-switcher--unchecked div {\n    background-color: #c7e6c7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--success.vue-switcher--unchecked div:after {\n      background-color: #80c780;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info div {\n    background-color: #85d0e7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info div:after {\n      background-color: #5bc0de;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info.vue-switcher--unchecked div {\n    background-color: #daf1f8;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--info.vue-switcher--unchecked div:after {\n      background-color: #85d0e7;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning div {\n    background-color: #f4c37d;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning div:after {\n      background-color: #f0ad4e;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning.vue-switcher--unchecked div {\n    background-color: #fceedb;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--warning.vue-switcher--unchecked div:after {\n      background-color: #f4c37d;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger div {\n    background-color: #d9534f;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger div:after {\n      background-color: #c9302c;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div {\n    background-color: #eba5a3;\n}\n.vue-switcher-theme--bootstrap.vue-switcher-color--danger.vue-switcher--unchecked div:after {\n      background-color: #d9534f;\n}\n",""])}}]);