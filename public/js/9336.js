(self.webpackChunkternobo=self.webpackChunkternobo||[]).push([[9336],{9242:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var i=s(3645),a=s.n(i)()((function(t){return t[1]}));a.push([t.id,".comment .pagedetail[data-v-34bf7fe6]{display:flex;flex-direction:column}",""]);const o=a},5903:(t,e,s)=>{"use strict";s.d(e,{Z:()=>_});var i=s(431),a=s(8126),o=s(9250),n=s(3914),l=s(4139),r=s(9170);a.Z.addLocale(n);const c={mounted:function(){this.liked=this.comment.is_liked},data:function(){return{deleted:!1,showReply:!1,replies:[],repliesLoading:!0,showReplies:!1,next_page_url:null,loadingMore:!1,liked:!1,showReport:!1,showNewComment:!1,showLikes:!1}},methods:{commentDelete:function(){var t=this.comments.indexOf(comment);t>-1&&(this.comments.splice(t,1),this.loadMore())},likeComment:function(){this.liked?this.liked=!1:this.liked=!0,axios.post(this.$APP_URL+"/comments/"+this.comment.id+"/like")},loadReplies:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.showReplies&&!this.showNewComment&&e?this.showNewComment=e:(this.showNewComment=e,this.showReplies=!this.showReplies),this.showReplies&&(this.repliesLoading=!0,axios.post(this.$APP_URL+"/comments/"+this.comment.id+"/replies").then((function(e){var s=e.data;s.result&&(t.next_page_url=s.data.next_page_url,t.replies=s.data.data),t.repliesLoading=!1})).catch((function(t){return console.log(t)})).then((function(){return t.repliesLoading=!1})))},deleteComment:function(){var t=this;this.deleted=!0,axios.delete("/posts/"+this.comment.post_id+"/comments/"+this.comment.id).then((function(e){t.$emit("deleted",t.comment)})).catch((function(t){return console.log(t)}))},loadMore:function(){var t=this;null===this.next_page_url||this.loadingMore||(this.loadingMore=!0,axios.get(this.next_page_url).then((function(e){var s=e.data;s.result&&(t.next_page_url=s.data.next_page_url,t.replies=t.replies.concat(s.data.data)),t.loadingMore=!1})).catch((function(t){return console.log(t)})).then((function(){return t.loadingMore=!1})))},submit:function(t){var e=this;void 0!==this.replyTo?this.$emit("replied",t):(this.replies.unshift(t),setTimeout((function(){var t=e.$el;e.$parent.$el.scrollTop+=t.getBoundingClientRect().top}),300))}},computed:{comment_time:function(){return new a.Z("fa-FA").format(Date.parse(this.comment.created_at),"twitter")}},components:{NewComment:i.Z,LoadingSpinner:o.Z,ReportModal:l.Z,LikesModal:r.default},props:{replyTo:{default:void 0,required:!1},comment:{type:Object,default:void 0,required:!0}},name:"Comment"};var d=s(3379),p=s.n(d),u=s(9242),m={insert:"head",singleton:!1};p()(u.Z,m);u.Z.locals;const _=(0,s(1900).Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-item"},[s("report-modal",{attrs:{show:t.showReport,type:"comment","comment-id":t.comment.id},on:{"update:show":function(e){t.showReport=e}}}),t._v(" "),s("likes-modal",{attrs:{item:t.comment.id,type:"comment",show:t.showLikes},on:{"update:show":function(e){t.showLikes=e}}}),t._v(" "),null!=t.replyTo&&t.comment.replyto.page?s("div",[s("span",{staticClass:"text-superlight"},[s("i",{staticClass:"material-icons"},[t._v("reply")]),t._v(" پاسخ به "+t._s(t.comment.replyto.page.name)+" ")])]):t._e(),t._v(" "),t.deleted?t._e():s("div",{staticClass:"comment"},[s("div",{staticClass:"comment-header"},[s("wire-link",{staticClass:"d-flex align-items-center",attrs:{href:"/"+t.comment.page.slug}},[s("img",{staticClass:"profile-sm",attrs:{src:t.comment.page.profile}}),t._v(" "),s("div",{staticClass:"pr-2 pagedetail"},[s("span",{staticClass:"name"},[s("strong",[t._v(" "+t._s(t.comment.page.name)+" "),1===t.comment.page.is_verified?s("i",{staticClass:"verificationcheck"},[t._v("check_circle")]):t._e()])]),t._v(" "),t.comment.page.short_bio?s("small",{staticClass:"text-muted"},[t._v("\n\t\t\t\t\t\t"+t._s(t.comment.page.short_bio)+"\n\t\t\t\t\t")]):t._e()])]),t._v(" "),s("div",{staticClass:"d-flex align-items-center"},[s("span",{staticClass:"font-10 text-muted"},[t._v(t._s(t.comment_time))]),t._v(" "),s("div",[s("b-dropdown",{attrs:{size:"lg",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("i",{staticClass:"material-icons openmenu clickale text-muted hover-dark"},[t._v("more_vert")])]},proxy:!0}],null,!1,3552891933)},[t._v(" "),t.checkUser(t.comment.page.user_id)?t._e():s("b-dropdown-item",[s("div",{staticClass:"d-flex align-items-center",on:{click:function(e){t.showReport=!0}}},[s("i",{staticClass:"material-icons ml-2 text-dark"},[t._v("link")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" گزارش تخلف ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" این دیدگاه در تضاد با قوانین ترنوبو است ")])])])]),t._v(" "),t.checkUser(t.comment.page.user_id)?s("b-dropdown-item",{on:{click:t.deleteComment}},[s("div",{staticClass:"d-flex hover-danger align-items-center"},[s("i",{staticClass:"material-icons-outlined ml-2"},[t._v("delete_sweep")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" حذف ")])])])])]):t._e()],1)],1)])],1),t._v(" "),s("div",{staticClass:"comment-body"},[s("div",{staticStyle:{"unicode-bidi":"plaintext",width:"100% !important",display:"block","text-align":"justify"},domProps:{innerHTML:t._s(t.comment.text)}})])]),t._v(" "),s("div",{staticClass:"w-100 d-flex align-content-center justify-content-between pt-2"},[s("div",[null!=t.comment.mutual_likes&&t.comment.mutual_likes.length>0?s("div",{staticClass:"d-flex post-likes-text text-muted clickable",on:{click:function(e){t.showLikes=!0}}},[s("span",{staticClass:"ml-1"},[t._v("پسندیده شده توسط")]),t._v(" "),t.comment.mutual_likes[0]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.comment.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.comment.mutual_likes[0].page.name))])]):t._e(),t._v(" "),t.comment.mutual_likes.length>1?s("div",[s("span",{staticClass:"mr-1"},[t._v("و")]),t._v(" "),t.comment.mutual_likes[1]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.comment.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.comment.mutual_likes[1].page.name))])]):t._e()],1):t._e(),t._v(" "),t.comment.mutual_likes.length>2?s("span",{staticClass:"mx-1"},[t._v(" و ... ")]):t._e()],1):t._e()]),t._v(" "),s("div",{staticClass:"actions"},[t.comment.replies_count>0&&null==t.replyTo?s("small",{staticClass:"clickable ml-2",on:{click:function(e){return t.loadReplies(!1)}}},[s("strong",{class:{"text-muted":!t.showReplies,"text-dark":t.showReplies}},[t._v(" "+t._s(t.comment.replies_count)+" پاسخ ")])]):t._e(),t._v(" "),s("i",{staticClass:"hover-dark clickable",class:{"material-icons-outlined":!t.showReplies||!t.showNewComment,"material-icons":t.showReplies&&t.showNewComment},on:{click:t.loadReplies}},[t._v(" insert_comment ")]),t._v(" "),t.checkUser(t.comment.page.user_id)?t._e():s("i",{staticClass:"hover-dark clickable material-icons",class:{"text-danger":t.liked},on:{click:t.likeComment}},[t._v("\n\t\t\t\t"+t._s(t.liked?"favorite":"favorite_border")+"\n\t\t\t")])])]),t._v(" "),s("transition",{attrs:{name:"slide"}},[t.showReplies?s("div",{staticClass:"comment-replies"},[t.showNewComment?s("new-comment",{attrs:{post:t.comment.post_id,"reply-to":t.comment.id},on:{submit:t.submit}}):t._e(),t._v(" "),void 0===t.replyTo?s("div",{staticClass:"border-right pr-3",staticStyle:{"border-color":"#212121 !important"}},[t._l(t.replies,(function(e){return s("comment",{key:e.id,attrs:{"reply-to":t.comment.id,comment:e},on:{replied:t.submit,deleted:t.commentDelete}})})),t._v(" "),t.repliesLoading?s("div",{staticClass:"w-100 d-flex p-2 justify-content-center align-items-center"},[s("loading-spinner")],1):t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"w-100 d-flex align-items-center justify-content-center p-2"},[null!==t.next_page_url?s("loading-button",{staticClass:"btn btn-outline-dark",attrs:{loading:t.loadingMore},nativeOn:{click:function(e){return t.loadMore(e)}}},[t._v("بارگیری بیشتر")]):t._e()],1)],1):t._e()])],1)}),[],!1,null,"34bf7fe6",null).exports},5740:(t,e,s)=>{"use strict";s.d(e,{Z:()=>l});var i=s(9250),a=s(5903),o=s(431);const n={methods:{submit:function(t){this.comments.unshift(t)},commentDelete:function(t){var e=this.comments.indexOf(t);e>-1&&(this.comments.splice(e,1),this.loadMore())},loadMore:function(){var t=this;null===this.next_page_url||this.commentsLoading||(this.commentsLoading=!0,axios.get(this.next_page_url).then((function(e){var s=e.data;s.result&&(t.next_page_url=s.data.next_page_url,t.comments=t.comments.concat(s.data.data)),t.commentsLoading=!1})).catch((function(t){return console.log(t)})).then((function(){return t.commentsLoading=!1})))}},props:{noScroll:{type:Boolean,default:!1,required:!1},post:{type:Number,default:void 0,required:!0}},mounted:function(){var t=this;axios.get(this.$APP_URL+"/posts/"+this.post+"/comments").then((function(e){var s=e.data;s.result&&(t.next_page_url=s.data.next_page_url,t.comments=s.data.data),t.commentsLoading=!1})).catch((function(t){return console.log(t)}))},data:function(){return{commentsLoading:!0,comments:void 0,next_page_url:null}},name:"CommentsList",components:{LoadingSpinner:i.Z,Comment:a.Z,NewComment:o.Z}};const l=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"comments",attrs:{"infinite-scroll-disabled":t.commentsLoading,"infinite-scroll-distance":5}},[s("new-comment",{attrs:{post:t.post},on:{submit:t.submit}}),t._v(" "),t._l(t.comments,(function(e){return s("comment",{key:"comment_"+e.id,attrs:{comment:e},on:{deleted:t.commentDelete}})})),t._v(" "),t.commentsLoading?s("div",{staticClass:"d-flex w-100 justify-content-center align-items-center py-3"},[s("LoadingSpinner")],1):t._e()],2)}),[],!1,null,null,null).exports},431:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var i=s(5410);const a={watch:{text:function(t){t.length>0?this.showSubmit=!0:this.showSubmit=!1}},props:{post:{type:Number,default:void 0,required:!0},replyTo:{default:void 0,required:!1}},data:function(){return{loading:!1,showSubmit:!1,text:""}},methods:{submit:function(){var t=this;if(this.text.length>0){this.loading=!0;var e={text:this.text};void 0!==this.replyTo&&(e.reply_to=this.replyTo),axios.post(this.$APP_URL+"/posts/"+this.post+"/comments",e).then((function(e){e.data.result?(t.text="",t.$emit("submit",e.data.comment)):t.handleError(e.data.errors)})).catch((function(t){return console.log(t)})).then((function(){return t.loading=!1}))}}},name:"NewComment",components:{MaterialTextArea:i.Z}};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!=t.$store.state.user?s("div",{staticClass:"sendcomment clearfix"},[s("div",{staticClass:"input-group-btn mb-0"},[s("img",{staticClass:"profile-sm ml-3",attrs:{src:t.$store.state.user.profile}}),t._v(" "),s("MaterialTextArea",{staticClass:"w-100",attrs:{"input-class":"form-control autoresize",placeholder:"نظر شما چیست؟",name:"text",maxlength:"2500"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),s("transition",{attrs:{name:"slide"}},[t.showSubmit?s("div",{staticClass:"justify-content-end mt-0"},[s("loading-button",{staticClass:"btn btn-primary",attrs:{loading:t.loading},nativeOn:{click:function(e){return t.submit(e)}}},[t._v("ارسال")])],1):t._e()])],1):t._e()}),[],!1,null,null,null).exports},4670:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var i=s(9949);const a={methods:{onCancel:function(){this.$emit("cancel"),this.$emit("update:show",!1)},onOk:function(){this.$emit("confirm"),this.$emit("update:show",!1)}},props:{title:{type:String,default:"تایید عملیات",required:!1},direction:{type:String,default:"rtl",required:!1},cancelClass:{type:String,default:null,required:!1},okClass:{type:String,default:null,required:!1},okText:{type:String,default:"تایید",required:!1},cancelText:{type:String,default:"لغو",required:!1}},mixins:[i.Z],name:"ConfirmModal"};var o=s(1900);const n=(0,o.Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{"hide-footer":"",title:t.title,size:"confirm",centered:!0},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("div",{staticClass:"confirm-container"},[s("p",{staticClass:"text"},[t._t("default")],2),t._v(" "),s("div",{staticClass:"actions"},[s("button",{staticClass:"btn btn-cancel",class:t.cancelClass,on:{click:t.onCancel}},[t._v(t._s(t.cancelText))]),t._v(" "),s("button",{staticClass:"btn btn-ok",class:t.okClass,on:{click:t.onOk}},[t._v(t._s(t.okText))])])])])}),[],!1,null,null,null).exports;var l=s(4139);const r={methods:{runAction:function(t){this.showMenu=!1,this.$emit(t)},unfollow:function(){var t=this;this.showMenu=!1;var e={method:"post",url:this.$APP_URL+"/unfollow/"+this.post.page_id};axios(e).then((function(e){if(e.data.result)t.$emit("need-reload");else{var s=e.data.errors;t.handelError(s)}}))}},data:function(){return{showMenu:!1,showConfirm:!1}},components:{ConfirmModal:n},computed:{following:function(){return null!=this.$store.state.user&&this.$store.state.shared.followings.includes(this.post.page_id)}},props:{post:{type:Object,default:void 0,required:!0}},mixins:[i.Z],name:"MobileMenu"};const c={methods:{unfollow:function(){var t=this,e={method:"post",url:this.$APP_URL+"/unfollow/"+this.post.page_id};axios(e).then((function(e){if(e.data.result)t.$emit("need-reload");else{var s=e.data.errors;t.handelError(s)}}))}},data:function(){return{showConfirm:!1,showReport:!1}},components:{ConfirmModal:n,PostMobileMenu:(0,o.Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("confirm-modal",{attrs:{title:"دنبال نکردن",show:t.showConfirm},on:{confirm:t.unfollow,"update:show":function(e){t.showConfirm=e}}},[t._v(" آیا دنبال نکردن "+t._s(t.post.page.name)+" تایید می‌کنید. ")]),t._v(" "),s("i",{staticClass:"material-icons openmenu clickable text-muted hover-dark",on:{click:function(e){t.showMenu=!0}}},[t._v("more_vert")]),t._v(" "),s("b-modal",{attrs:{"hide-footer":"","hide-header":"","modal-class":"slide-up","body-class":"p-0",size:"md",centered:!0},model:{value:t.showMenu,callback:function(e){t.showMenu=e},expression:"showMenu"}},[s("ul",{staticClass:"post-menu"},[s("li",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.$APP_URL+"/posts/"+t.post.id,expression:"$APP_URL + '/posts/' + post.id"}],on:{click:function(e){t.showMenu=!1}}},[s("i",{staticClass:"material-icons text-dark"},[t._v("link")]),t._v(" "),s("strong",[t._v("رونوشت پیوند این محتوا")])]),t._v(" "),t.checkUser(t.post.page.user_id)&&"article"!=t.post.type?s("li",{on:{click:function(e){return t.runAction("edit")}}},[s("i",{staticClass:"material-icons-outlined text-dark"},[t._v("edit")]),t._v(" "),s("strong",[t._v("ویرایش")])]):t._e(),t._v(" "),s("li",{staticClass:"d-flex align-items-center",on:{click:function(e){return t.runAction("embed")}}},[s("i",{staticClass:"material-icons item-icon text-dark"},[t._v("code")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" دریافت کد امبد ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" کد امبد را کپی کرده و در وب‌سایت خودتان قرار دهید. ")])])]),t._v(" "),t.checkUser(t.post.page.user_id)?t._e():s("li",{staticClass:"d-flex align-items-center",on:{click:function(e){return t.runAction("report")}}},[s("i",{staticClass:"material-icons-outlined item-icon text-dark"},[t._v("report")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" گزارش تخلف ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" این دیدگاه در تضاد با قوانین ترنوبو است ")])])]),t._v(" "),!t.checkUser(t.post.page.user_id)&&t.following?s("li",{staticClass:"d-flex align-items-center",on:{click:function(e){t.showConfirm=!0}}},[s("i",{staticClass:"material-icons item-icon text-dark"},[t._v("not_interested")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" دنبال نکردن "+t._s(t.post.page.name)+" ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" دیگر محتوای "+t._s(t.post.page.name)+" را تماشا نکنید. ")])])]):t._e(),t._v(" "),t.checkUser(t.post.page.user_id)?s("li",{staticClass:"d-flex align-items-center",on:{click:function(e){return t.runAction("deleted")}}},[s("div",{staticClass:"d-flex align-items-center"},[s("i",{staticClass:"material-icons-outlined item-icon text-dark"},[t._v("delete_sweep")]),t._v(" "),s("div",[s("strong",[t._v("حذف کردن")])])])]):t._e()])])],1)}),[],!1,null,null,null).exports,ReportModal:l.Z},computed:{following:function(){return null!=this.$store.state.user&&this.$store.state.shared.followings.includes(this.post.page_id)}},props:{post:{type:Object,default:void 0,required:!0}}};const d=(0,o.Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("report-modal",{attrs:{show:t.showReport,"post-id":t.post.id},on:{"update:show":function(e){t.showReport=e}}}),t._v(" "),t.$root.isDesktop?s("div",[s("confirm-modal",{attrs:{title:"دنبال نکردن",show:t.showConfirm},on:{confirm:t.unfollow,"update:show":function(e){t.showConfirm=e}}},[t._v(" آیا دنبال نکردن "+t._s(t.post.page.name)+" تایید می‌کنید. ")]),t._v(" "),s("b-dropdown",{attrs:{size:"lg",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[s("i",{staticClass:"material-icons openmenu clickale text-muted hover-dark"},[t._v("more_vert")])]},proxy:!0}],null,!1,3552891933)},[t._v(" "),s("b-dropdown-item",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.$APP_URL+"/posts/"+t.post.id,expression:"$APP_URL + '/posts/' + post.id"}]},[s("i",{staticClass:"material-icons text-dark"},[t._v("link")]),t._v(" "),s("strong",[t._v("رونوشت پیوند این محتوا")])]),t._v(" "),t.checkUser(t.post.page.user_id)&&"article"!=t.post.type?s("b-dropdown-item",{on:{click:function(e){return t.$emit("edit")}}},[s("div",{staticClass:"d-flex align-items-center"},[s("i",{staticClass:"material-icons-outlined ml-2 text-dark"},[t._v("edit")]),t._v(" "),s("strong",[t._v(" ویرایش ")])])]):t._e(),t._v(" "),s("b-dropdown-item",{nativeOn:{click:function(e){return t.$emit("embed")}}},[s("div",{staticClass:"d-flex align-items-center"},[s("i",{staticClass:"material-icons ml-2 text-dark"},[t._v("code")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" دریافت کد امبد ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" کد امبد را کپی کرده و در وب‌سایت خودتان قرار دهید. ")])])])]),t._v(" "),t.checkUser(t.post.page.user_id)?t._e():s("b-dropdown-item",{on:{click:function(e){t.showReport=!0}}},[s("div",{staticClass:"d-flex align-items-center"},[s("i",{staticClass:"material-icons-outlined ml-2 text-dark"},[t._v("report")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" گزارش تخلف ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" این دیدگاه در تضاد با قوانین ترنوبو است ")])])])]),t._v(" "),!t.checkUser(t.post.page.user_id)&&t.following?s("b-dropdown-item",{on:{click:function(e){t.showConfirm=!0}}},[s("div",{staticClass:"d-flex align-items-center"},[s("i",{staticClass:"material-icons ml-2 text-dark"},[t._v("not_interested")]),t._v(" "),s("div",[s("div",[s("strong",[t._v(" دنبال نکردن "+t._s(t.post.page.name)+" ")])]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v(" دیگر محتوای "+t._s(t.post.page.name)+" را تماشا نکنید. ")])])])]):t._e(),t._v(" "),t.checkUser(t.post.page.user_id)?s("b-dropdown-item",{staticClass:"hover-danger",on:{click:function(e){return t.$emit("deleted")}}},[s("div",{staticClass:"d-flex align-items-center"},[s("i",{staticClass:"material-icons-outlined ml-2 text-dark"},[t._v("delete_sweep")]),t._v(" "),s("div",[s("strong",[t._v("حذف کردن")])])])]):t._e()],1)],1):s("div",[s("post-mobile-menu",{attrs:{post:this.post},on:{embed:function(e){return t.$emit("embed")},edit:function(e){return t.$emit("edit")},report:function(e){t.showReport=!0},deleted:function(e){return t.$emit("deleted")}}})],1)],1)}),[],!1,null,null,null).exports},3979:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var i=s(9949);const a={methods:{copy:function(){this.$refs.textarea.select(),document.execCommand("copy"),this.toast("کپی شد")}},watch:{showModal:function(t){var e=this;t&&axios.post(this.$APP_URL+"/posts/"+this.post.id+"/embed").then((function(t){t.data.result&&(e.code=t.data.code)})).catch((function(t){e.toast("خطا در برقراری ارتباط")}))}},computed:{optimizedCode:function(){if(void 0!==this.code)return this.code.replaceAll("\n","")}},props:{post:{type:Object,default:{},required:!0}},data:function(){return{code:void 0}},mixins:[i.Z],name:"EmbedCodeModal"};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{"hide-footer":"",title:"قوانین و مقررات ترنوبو",size:"md"},scopedSlots:t._u([{key:"modal-header",fn:function(){return[s("h5",{staticClass:"mb-0"},[s("i",{staticClass:"material-icons ml-1"},[t._v("code")]),t._v("\n            دریافت کد امبد\n        ")]),t._v(" "),s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.showModal=!1}}},[t._v("×")])]},proxy:!0}]),model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t._v(" "),void 0===t.code?s("div",{staticClass:"d-flex justify-content-center align-items-center p-5"},[s("loading-spinner")],1):s("div",{staticClass:"d-flex flex-column"},[s("div",[s("div",{staticClass:"input-group"},[s("textarea",{ref:"textarea",staticClass:"form-control bg-white",staticStyle:{resize:"none",direction:"ltr","min-height":"300px"},attrs:{readonly:""},domProps:{value:t.optimizedCode}}),t._v(" "),s("button",{staticClass:"btn btn-grey-10",on:{click:t.copy}},[s("i",{staticClass:"material-icons-outlined"},[t._v("file_copy")])])]),t._v(" "),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"text-light font-18"},[t._v("\n                    کد امبد را کپی کنید و در وب‌سایت خود قرار دهید.\n                ")])]),t._v(" "),s("div",{staticClass:"mt-3"},[s("p",{staticClass:"font-20 text-dark"},[s("i",{staticClass:"material-icons-outlined ml-1"},[t._v("remove_red_eye")]),t._v("\n                    پیش نمایش\n                ")])])]),t._v(" "),s("div",{staticClass:"border-top pt-2",staticStyle:{height:"700px"},domProps:{innerHTML:t._s(t.code)}})])])}),[],!1,null,null,null).exports},9170:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>r});var i=s(9949),a=s(2880),o=s(1378),n=s(9250);const l={watch:{likesPaginate:function(t){this.likes=t.data,this.next_page_url=t.next_page_url}},props:{item:{default:0,required:!0},type:{default:"post",required:!1}},data:function(){return{error:!1,loading:!0,likesPaginate:null,likes:[],next_page_url:null,loadingMore:!1,typeBasedData:{}}},methods:{loadMore:function(){var t=this;if(!this.loadingMore&&null!==this.next_page_url){var e={method:"POST",url:this.next_page_url,data:this.typeBasedData};this.loadingMore=!0,axios(e).then((function(e){var s=e.data.likes;s&&(t.likes=t.likes.concat(s.data),t.next_page_url=s.next_page_url)})).catch((function(s){t.next_page_url=e.url})).then((function(){t.loadingMore=!1}))}},onShown:function(){var t=this;this.likes=!0,this.loading=!0,this.error=!1,"comment"==this.type?this.typeBasedData={comment_id:this.item}:this.typeBasedData={post_id:this.item},axios.post("/likes/get",this.typeBasedData).then((function(e){t.likesPaginate=e.data.likes})).catch((function(e){t.error=!0})).then((function(){return t.loading=!1}))}},components:{LazyImage:o.Z,FollowButton:a.Z,LoadingSpinner:n.Z},mixins:[i.Z],name:"LikesModal"};const r=(0,s(1900).Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{"hide-footer":"",title:"پسند‌ها",size:"md",centered:!0},on:{show:t.onShown},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t.loading||t.error?s("div",{staticClass:"d-flex align-items-center justify-content-center loading",staticStyle:{"min-height":"200px"}},[t.loading?s("loading-spinner"):t._e(),t._v(" "),t.error?s("div",{staticClass:"d-flex flex-column justify-center align-items-center w-100 err"},[s("i",{staticClass:"hover-dark text-muted material-icons-outlined",on:{click:t.onShown}},[t._v("refresh")]),t._v(" "),s("br"),t._v(" "),s("span",{staticClass:"text-muted"},[t._v("خطا در برقراری ارتباط")])]):t._e()],1):t._e(),t._v(" "),t.loading||t.error?t._e():s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"likes-list",attrs:{"infinite-scroll-distance":10}},[t._l(t.likes,(function(e){return s("div",{key:"like_"+e.id,staticClass:"like-item"},[s("wire-link",{staticClass:"userinfo",attrs:{href:"/"+e.page.slug}},[s("lazy-image",{staticClass:"mb-0",class:{"profile-sm":t.$root.isDesktop,"profile-md":!t.$root.isDesktop},attrs:{imgClass:{"profile-sm":t.$root.isDesktop,"profile-md":!t.$root.isDesktop},src:e.page.profile}}),t._v(" "),s("div",{staticClass:"page-name d-flex flex-column"},[s("strong",[t._v(" "+t._s(e.page.name)+" "),1===e.page.is_verified?s("i",{staticClass:"verificationcheck"},[t._v("check_circle")]):t._e()]),t._v(" "),s("span",{staticClass:"shortbio"},[t._v(" "+t._s(e.page.short_bio)+" ")])])],1),t._v(" "),s("follow-button",{attrs:{page:e.page.id}})],1)})),t._v(" "),null!=this.next_page_url?s("infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:t.loadMore}}):t._e()],2)])}),[],!1,null,null,null).exports},4139:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var i=s(9949);const a={props:{type:{type:String,default:"post",required:!1},postId:{type:Number,default:void 0,required:!1},commentId:{type:Number,default:void 0,required:!1}},mixins:[i.Z],methods:{setReason:function(t){this.reason=t},submit:function(){var t=this;this.loading=!0;var e={};"post"==this.type?e.post_id=this.postId:"comment"==this.type&&(e.comment_id=this.commentId),axios.post("/reportpost",e).then((function(e){t.toast("درخواست شما با موفقیت ثبت شد","check","text-success"),t.$emit("update:show",!1)})).catch((function(e){return t.toast("خطا در برقراری ارتباط")})).then((function(){return t.loading=!1}))}},data:function(){return{reportFor:null,loading:!1,description:null,moreInfo:!1,reason:null}}};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{"hide-footer":"",size:"md",title:"چرا می‌‌خواهید این محتوا را گزارش دهید؟",centered:!0},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[null==t.reportFor?s("div",{staticClass:"reportreseaons"},[s("div",{staticClass:"report-item",on:{click:function(e){t.reportFor="notrelated",t.reason="نامرتبط با ترنوبو"}}},[s("span",{staticClass:"text"},[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" مناسب ترنوبو نیست")]),t._v(" "),s("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_left")])]),t._v(" "),s("div",{staticClass:"report-item",on:{click:function(e){t.reportFor="fakeorspam"}}},[s("span",{staticClass:"text"},[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" جعلی، هرز یا کلاهبراری است‌")]),t._v(" "),s("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_left")])]),t._v(" "),s("div",{staticClass:"report-item",on:{click:function(e){t.reportFor="other-reasons"}}},[s("span",{staticClass:"text"},[t._v("برای گزارش "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" دلایل دیگری دارم")]),t._v(" "),s("i",{staticClass:"material-icons"},[t._v("keyboard_arrow_left")])])]):t._e(),t._v(" "),t.moreInfo?t._e():s("div",["fakeorspam"===t.reportFor?s("div",{staticClass:"fakeorspam reportfor"},[s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"fakeaccount"}},[s("span",[t._v("فکر می‌کنم این حساب کاربری غیرواقعی است")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : گزارش حساب ساختگی یا جعل شده")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌کنم این حساب کاربری غیرواقعی است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌کنم این حساب کاربری غیرواقعی است"},domProps:{checked:t._q(t.reason,"فکر می‌کنم این حساب کاربری غیرواقعی است")},on:{change:function(e){t.reason="فکر می‌کنم این حساب کاربری غیرواقعی است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"wronginformation"}},[s("span",[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" دارای اطلاعات نادرست است")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : اطلاعات ارائه شده در "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" نادرست بوده و تحت عنوان اطلاعت درست و واقعی ارائه شده است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌‌کنم این محتوا دارای اطلاعات نادرست است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌‌کنم این محتوا دارای اطلاعات نادرست است"},domProps:{checked:t._q(t.reason,"فکر می‌‌کنم این محتوا دارای اطلاعات نادرست است")},on:{change:function(e){t.reason="فکر می‌‌کنم این محتوا دارای اطلاعات نادرست است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"spamcotent"}},[s("span",[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" هرز است")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" دارای ارزش خاصی نمی‌باشد و صرفا جهت جذب بازدید ارائه شده است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می این محتوا هرز است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می این محتوا هرز است"},domProps:{checked:t._q(t.reason,"فکر می این محتوا هرز است")},on:{change:function(e){t.reason="فکر می این محتوا هرز است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"phisingorvirus"}},[s("span",[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" جهت کلاهبرداری، فیشینگ یا انتقال ویروس و باج افزار ارائه شده‌")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" به جهت دریافت اطلاعات شخصی، پول یا ارائه لینک‌های مشکوک و آلوده قرار گرفته است.")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌‌کنم این محتوا جهت کلاهبرداری، فیشینگ یا انتقال ویروس و باج افزار ارائه شده"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌‌کنم این محتوا جهت کلاهبرداری، فیشینگ یا انتقال ویروس و باج افزار ارائه شده"},domProps:{checked:t._q(t.reason,"فکر می‌‌کنم این محتوا جهت کلاهبرداری، فیشینگ یا انتقال ویروس و باج افزار ارائه شده")},on:{change:function(e){t.reason="فکر می‌‌کنم این محتوا جهت کلاهبرداری، فیشینگ یا انتقال ویروس و باج افزار ارائه شده"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])])]):t._e(),t._v(" "),"other-reasons"===t.reportFor?s("div",{staticClass:"other-reasons reportfor"},[s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"hatewordsreport"}},[s("span",[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" توهین آمیز است")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" به صوتر هدفمند به اشخصا حقیقی، قومیت یا مذهبی خاص توهین کرده است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌کنم این محتوا توهین آمیز است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌کنم این محتوا توهین آمیز است"},domProps:{checked:t._q(t.reason,"فکر می‌کنم این محتوا توهین آمیز است")},on:{change:function(e){t.reason="فکر می‌کنم این محتوا توهین آمیز است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"sexualreport"}},[s("span",[t._v("فکر می‌کنم شامل محتوای جنسی است")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : شامل محتوای برهنگی، صحنه‌ها و زبان جنسی، فحشا یا قاچاق جنسی است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌‌کنم شامل محتوای جنسی است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌‌کنم شامل محتوای جنسی است"},domProps:{checked:t._q(t.reason,"فکر می‌‌کنم شامل محتوای جنسی است")},on:{change:function(e){t.reason="فکر می‌‌کنم شامل محتوای جنسی است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"terorismreport"}},[s("span",[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" اشاعه دهنده خشونت و تروریسم است")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : شامل شکنجه، تجاوز یا سوء استفاده، عمل تروریستی یا عضوگیری برای گروه‌های تروریستی است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌کنم  این محتوا اشاعه دهنده خشونت و تروریسم است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌کنم  این محتوا اشاعه دهنده خشونت و تروریسم است"},domProps:{checked:t._q(t.reason,"فکر می‌کنم  این محتوا اشاعه دهنده خشونت و تروریسم است")},on:{change:function(e){t.reason="فکر می‌کنم  این محتوا اشاعه دهنده خشونت و تروریسم است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"threatandhatereport"}},[s("span",[t._v("فکر می‌کنم "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" آزار دهنده و تهدید آمیز است‌")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : شامل حمله به شخص/اشخاص یا تهدید و قلدری است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="فکر می‌‌کنم این محتوا آزار دهنده و تهدید آمیز است"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"فکر می‌‌کنم این محتوا آزار دهنده و تهدید آمیز است"},domProps:{checked:t._q(t.reason,"فکر می‌‌کنم این محتوا آزار دهنده و تهدید آمیز است")},on:{change:function(e){t.reason="فکر می‌‌کنم این محتوا آزار دهنده و تهدید آمیز است"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"suicidereport"}},[s("span",[t._v("من نگران هستم این فرد بخواهد خودکشی کند‌")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : این شخص تهدید می‌کند که به خودش آسیب می‌رساند")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="من نگران هستم این فرد بخواهد خودکشی کند"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"من نگران هستم این فرد بخواهد خودکشی کند"},domProps:{checked:t._q(t.reason,"من نگران هستم این فرد بخواهد خودکشی کند")},on:{change:function(e){t.reason="من نگران هستم این فرد بخواهد خودکشی کند"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])]),t._v(" "),s("div",{staticClass:"report-reason"},[s("label",{attrs:{for:"copyrightreport"}},[s("span",[s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" حقوق شخصی مرا نقض می‌کند‌‌")]),t._v(" "),s("small",{staticClass:"text-muted"},[t._v("مثال : اقتراء، نقص حقوق چاپ یا علائم تجاری است")])]),t._v(" "),s("div",{staticClass:"radio clickable",on:{click:function(e){t.reason="این محتوا حقوق شخصی مرا نقض می‌کند"}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"radio__input",attrs:{type:"radio",name:"reason",value:"این محتوا حقوق شخصی مرا نقض می‌کند"},domProps:{checked:t._q(t.reason,"این محتوا حقوق شخصی مرا نقض می‌کند")},on:{change:function(e){t.reason="این محتوا حقوق شخصی مرا نقض می‌کند"}}}),t._v(" "),s("label",{staticClass:"radio__label"})])])]):t._e(),t._v(" "),"notrelated"===t.reportFor?s("div",{staticClass:"notrelated reportfor px-3"},[s("label",[t._v("از گزارش "),s("span",{staticClass:"reportTitle"},[t._v("این محتوا")]),t._v(" به عنوان محتوای نامناسب و نامرتبط اطمینان دارید؟")]),t._v(" "),s("input",{staticStyle:{display:"none"},attrs:{type:"radio",name:"report",checked:"",value:"نامرتبط با ترنوبو"}})]):t._e()]),t._v(" "),t.moreInfo?s("div",[s("div",{staticClass:"moreinfo px-2"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control h-100",attrs:{placeholder:"توضیحات خود را اینجا بنویسید",name:"moreinfo"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"moreinfo-footer text-left py-2"},[s("button",{staticClass:"btn button-transparent",attrs:{type:"button"},on:{click:function(e){t.moreInfo=!1,t.description=null}}},[t._v("لغو")]),t._v(" "),s("button",{staticClass:"btn btn-dark",attrs:{id:"moreinfo-close"},on:{click:function(e){t.moreInfo=!1}}},[t._v("افزودن")])])]):null!=t.reportFor?s("div",{staticClass:"d-flex pt-3 justify-content-between"},[s("div",{staticClass:"align-self-start"},[s("button",{staticClass:"btn btn-outline-primary rounded-pill",on:{click:function(e){t.moreInfo=!0}}},[t._v("ارائه توضیحات")])]),t._v(" "),s("div",{staticClass:"d-flex"},[s("button",{staticClass:"btn button-transparent",on:{click:function(e){t.reportFor=null}}},[t._v("برگشت")]),t._v(" "),s("loading-button",{staticClass:"btn btn-primary",attrs:{loading:t.loading,disabled:null==t.reason},nativeOn:{click:function(e){return t.submit(e)}}},[t._v("ثبت")])],1)]):t._e()])}),[],!1,null,null,null).exports},4711:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});var i=s(9949),a=s(516),o=s(5029),n=s(2416);const l={props:{post:{type:Object,default:void 0,required:!0}},methods:{newCategory:function(t){this.categories.push({name:t,id:t}),axios.post("/categories",{name:t})},cropImage:function(){var t=this;this.isCroppingDone=!0,this.isCropping=!1;var e=this.$refs.cropper.getResult(),s=e.canvas,i=e.coordinates;s.toBlob((function(e){t.$refs.cropResult.src=URL.createObjectURL(e),t.cropCordinates=i}))},rotateImage:function(){var t=this,e=document.createElement("img");e.crossOrigin="anonymous",e.src=this.image,e.onload=function(){var s=document.createElement("canvas"),i=s.getContext("2d");e.width>e.height?(s.width=e.height,s.height=e.width,i.translate(e.height,e.width/e.height)):(s.height=e.width,s.width=e.height,i.translate(e.height,e.width/e.height)),i.rotate(Math.PI/2),i.drawImage(e,0,0),t.image=s.toDataURL()}},removeMedia:function(){this.isCroppingDone=!1,this.$refs.cropResult&&(this.$refs.cropResult.src=""),this.file=!1,this.image=void 0,this.video=void 0},imageSelect:function(t){var e=t.target;if(e.files&&e.files[0]){var s=t.target.files[0],i=s.type,a=URL.createObjectURL(s);i.startsWith("image")?(this.file=s,this.video=void 0,this.image=a,this.isCropping=!0):i.startsWith("video")&&(this.isCropping=!1,this.file=s,this.image=void 0,this.video=a)}},submitPost:function(){var t=this;this.loading=!0;var e=new FormData;e.append("text",this.text),this.category&&e.append("category",this.category.value),e.append("type",this.showType.value),e.append("tags",JSON.stringify(this.tags)),void 0!==this.file&&(e.append("media",this.file),void 0!==this.cropCordinates&&e.append("sizes",JSON.stringify(this.cropCordinates))),axios.post(this.$APP_URL+"/share/"+this.post.id,e).then((function(e){var s=e.data;if(s.result)t.$store.state.ternoboWireApp.reload({only:["posts"]}),t.$emit("update:show",!1);else{var i=s.errors;t.handleError(i)}})).catch((function(t){})).then((function(){return t.loading=!1}))}},watch:{text:function(t){this.txtlen=t.length/2500*100+"%",this.leftCharacter=2500-t.length}},mounted:function(){null!==this.$store.state.user&&("article"===this.post.type&&(this.componentType=s(3771).Z),this.showType=this.showTypesItems[0])},data:function(){return{showTypesItems:[{name:"همه",value:"public",icon:"public"},{name:"فقط دوستان",value:"private",icon:"group"}],showType:void 0,category:void 0,text:void 0,categories:null!=this.$store.state.shared.currentPage?this.$store.state.shared.currentPage.categories:[],tags:[],txtlen:"0%",isCropping:!1,isCroppingDone:!1,image:void 0,video:void 0,file:void 0,cropCordinates:void 0,loading:!1,leftCharacter:2500,componentType:s(8117).Z}},components:{Cropper:a.fl,FileInput:o.Z,TagInput:n.Z},mixins:[i.Z],name:"ReshareModal"};const r=(0,s(1900).Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!=t.$store.state.user?s("b-modal",{attrs:{"no-close-on-backdrop":t.isCropping,"hide-footer":"","body-class":"px-3 pb-2",size:"md",title:"بازنشر محتوا",centered:!0},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[s("div",{staticClass:"w-100",attrs:{action:"/posts","data-ajax":"",method:"POST","data-reload":"1",enctype:"multipart/form-data"}},[s("div",{staticClass:"new-post position-relative"},[s("div",{staticClass:"selections"},[s("div",{staticClass:"userinfo col-lg-4 p-0"},[s("lazy-image",{staticClass:"profile-sm",attrs:{src:t.$store.state.user.profile,"img-class":"profile-sm",loading:"lazy"}}),t._v(" "),s("strong",[t._v(t._s(t.$store.state.user.name))])],1),t._v(" "),s("div",{staticClass:"categoryandtype"},[s("div",{staticClass:"mx-1 col-lg-5 p-0"},[s("tselect",{attrs:{items:t.showTypesItems,showNewItem:!1,direction:"rtl"},model:{value:t.showType,callback:function(e){t.showType=e},expression:"showType"}})],1),t._v(" "),s("div",{staticClass:"ml-1 p-0 col-lg-7"},[s("tselect",{attrs:{items:t.categories,"value-option":"name",showNewItem:!0,direction:"rtl"},on:{"new-item":t.newCategory},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},[s("i",{staticClass:"material-icons-outlined"},[t._v("layers")]),t._v(" دسته‌بندی ")])],1)])]),t._v(" "),s("div",{staticClass:"text px-0"},[s("div",{staticClass:"textarea"},[s("textarea-autosize",{staticClass:"w-100 autoresize autodirection",attrs:{"min-height":201,rows:"8",placeholder:"اگر در خویش میل نوشتن سراغ کردی باید سه چیز در تو باشد. شناختی، هنری و سحری (جبران خلیل جبران)",maxlength:"2500"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}),t._v(" "),s("div",{staticClass:"character-counter"},[s("span",{staticClass:"counter tex-dark"},[t._v(t._s(t.leftCharacter))]),t._v(" "),s("div",{staticClass:"progress ml-1 mb-0",staticStyle:{width:"100px",height:"5px"}},[s("div",{staticClass:"progress-bar",style:{width:t.txtlen},attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100"}})])])],1)]),t._v(" "),s("div",{staticClass:"mediatag"},[s("div",{staticClass:"tags pr-0 pb-3"},[s("tag-input",{staticClass:"w-100",model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}})],1)]),t._v(" "),s("div",{staticClass:"media pl-2"},[s("input",{attrs:{type:"hidden",name:"sizes",value:"",id:"postimage-options"}})]),t._v(" "),s("div",{staticClass:"border my-2"},[s(t.componentType,{tag:"component",staticClass:"shadow-0",attrs:{post:t.post,"show-menu":!1}})],1),t._v(" "),s("div",{staticClass:"submit position-relative"},[s("loading-button",{staticClass:"btn btn-primary",staticStyle:{"margin-bottom":"-8px"},attrs:{loading:t.loading},nativeOn:{click:function(e){return t.submitPost(e)}}},[t._v(" ارسال ")])],1)])])]):t._e()}),[],!1,null,null,null).exports},3771:(t,e,s)=>{"use strict";s.d(e,{Z:()=>c});var i=s(8126),a=s(3979),o=s(3914),n=s(4711),l=s(4670);i.Z.addLocale(o);const r={data:function(){return{liked:!1,bookmarked:!1,showEmbed:!1,showReshare:!1,showLikes:!1,deleted:!1}},created:function(){this.liked=this.post.is_liked,this.bookmarked=this.post.is_bookmarked},mounted:function(){var t=this;new IntersectionObserver((function(){t.seen_content.includes(t.post.id)||(t.seen_content.push(t.post.id),t.seen_request.push(t.post.id))}),{root:null,threshold:1}).observe(this.$el)},components:{EmbedCodeModal:a.Z,ReshareModal:n.Z,PostMenu:l.Z},methods:{doDelete:function(){this.deleted=!0,axios.delete("/posts/"+this.post.id)},like:function(){this.liked?this.liked=!1:this.liked=!0;this.$axios({method:"post",url:this.$APP_URL+"/like/"+this.post.id}).catch((function(t){}))},bookmark:function(){this.bookmarked?this.bookmarked=!1:this.bookmarked=!0;this.$axios({method:"post",url:this.$APP_URL+"/bookmark/"+this.post.id}).catch((function(t){}))}},name:"ArticleCard",props:{showMenu:{type:Boolean,default:!0,required:!1},post:{type:Object,default:void 0,required:!0}},computed:{post_time:function(){return new i.Z("fa-FA").format(Date.parse(this.post.created_at),"fa_FA")},postSlug:function(){var t=this.post.id;null!==this.post.slug&&this.post.slug.length>0&&(t=this.post.slug);var e=this.post.page.slug;return this.$APP_URL+"/"+e+"/"+t},updated_at:function(){return null!==this.post.updated_at?new i.Z("fa-FA").format(Date.parse(this.post.updated_at),"fa_FA"):""}}};const c=(0,s(1900).Z)(r,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return void 0===t.post||t.deleted?t._e():s("div",{staticClass:"post-box",class:{"reshared-post":!t.showMenu}},[s("EmbedCodeModal",{attrs:{post:t.post,show:t.showEmbed},on:{"update:show":function(e){t.showEmbed=e}}}),t._v(" "),s("ReshareModal",{attrs:{post:t.post,show:t.showReshare},on:{"update:show":function(e){t.showReshare=e}}}),t._v(" "),s("likes-modal",{attrs:{item:t.post.id,show:t.showLikes},on:{"update:show":function(e){t.showLikes=e}}}),t._v(" "),s("div",{staticClass:"post-header pt-0"},[s("wire-link",{staticClass:"publisher",attrs:{href:"/"+t.post.page.slug}},[s("lazy-image",{staticClass:"profile-sm mb-0",attrs:{"img-class":"profile-sm",src:t.post.page.profile}}),t._v(" "),s("div",[s("strong",[t._v(" "+t._s(t.post.page.name)+" "),1===t.post.page.is_verified?s("i",{staticClass:"verificationcheck"},[t._v("check_circle")]):t._e()]),t._v(" "),s("span",{staticClass:"text-muted font-12"},[t._v("\n\t\t\t\t\t"+t._s(t.post.page.short_bio)+"\n\t\t\t\t")]),t._v(" "),t.showMenu?s("div",{staticClass:"post-time",class:{"pt-0":null!=t.post.text&&t.post.text.length>0}},[t._v("\n\t\t\t\t\t"+t._s(t.post_time)+"\n\t\t\t\t\t"),s("span",{staticClass:"mx-1 font-10"},[t._v("●")]),t._v(" "),t.post.updated_at!==t.post.created_at?s("span",[t._v("بروز شده")]):t._e(),t._v(" "),t.post.updated_at!==t.post.created_at?s("span",{staticClass:"mx-1 font-10"},[t._v("●")]):t._e(),t._v(" "),s("i",{staticClass:"material-icons-outlined text-light verical-middle"},[t._v("\n\t\t\t\t\t\t"+t._s("public"===t.post.show?"public":"group")+"\n\t\t\t\t\t")])]):t._e()])],1),t._v(" "),t.showMenu?s("div",{staticClass:"actions position-relative"},[s("i",{staticClass:"material-icons bookmark-icon clickale text-muted clickable hover-dark",on:{click:t.bookmark}},[t._v(t._s(t.bookmarked?"bookmark":"bookmark_border"))]),t._v(" "),s("div",[s("post-menu",{attrs:{post:t.post},on:{embed:function(e){t.showEmbed=!0},deleted:t.doDelete}})],1)]):t._e()],1),t._v(" "),s("wire-link",{staticClass:"post-body pb-2",attrs:{href:t.postSlug}},[null!==t.post.medias&&void 0!==t.post.medias&&t.post.medias.length>0?s("div",{staticClass:"images articleimg"},[s("lazy-image",{staticClass:"m-0",staticStyle:{"min-height":"218px"},attrs:{alt:"",src:t.post.medias}})],1):t._e(),t._v(" "),s("h4",{staticClass:"article-title",staticStyle:{"margin-right":"-12px !important"}},[t._v(t._s(t.post.title))])]),t._v(" "),t.showMenu?s("div",{staticClass:"post-footer"},[(null!=t.post.tags&&t.post.tags.length>0||null!==t.post.category)&&t.showMenu?s("div",{staticClass:"tagandcate"},[s("div",{staticClass:"tags"},t._l(t.post.tags,(function(e,i){return s("wire-link",{key:e+"_POST_TAG_"+t.post.id+"_"+i,staticClass:"tag-item",attrs:{href:"/tags/"+e}},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])})),1),t._v(" "),null!==t.post.category?s("wire-link",{staticClass:"category",attrs:{href:"/"+t.post.page.slug+"/categories/"+t.post.category.id}},[s("i",{staticClass:"material-icons text-grey"},[t._v("layers")]),s("span",{staticClass:"text-grey"},[t._v(" "+t._s(t.post.category.name))])]):t._e()],1):t._e(),t._v(" "),t.showMenu&&t.$store.state.user?s("div",{staticClass:"actions"},[s("div",[null!=t.post.mutual_likes&&t.post.mutual_likes.length>0?s("div",{staticClass:"d-flex post-likes-text text-muted clickable",on:{click:function(e){t.showLikes=!0}}},[s("span",{staticClass:"ml-1"},[t._v("پسندیده شده توسط")]),t._v(" "),t.post.mutual_likes[0]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.post.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.post.mutual_likes[0].page.name))])]):t._e(),t._v(" "),t.post.mutual_likes.length>1?s("div",[s("span",{staticClass:"mr-1"},[t._v("و")]),t._v(" "),t.post.mutual_likes[1]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.post.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.post.mutual_likes[1].page.name))])]):t._e()],1):t._e(),t._v(" "),t.post.mutual_likes.length>2?s("span",{staticClass:"mx-1"},[t._v(" و ... ")]):t._e()],1):t._e()]),t._v(" "),s("div",{staticClass:"buttons"},[s("i",{staticClass:"material-icons-outlined",on:{click:function(e){t.showReshare=!0}}},[t._v("sync")]),t._v(" "),t.checkUser(t.post.page.user_id)?t._e():s("i",{staticClass:"material-icons like",class:{"text-danger":t.liked},on:{click:t.like}},[t._v(t._s(t.liked?"favorite":"favorite_border"))])])]):t._e()]):t._e()],1)}),[],!1,null,null,null).exports},3849:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>a});s(8117),s(3771);const i={created:function(){this.post&&("article"===this.post.type?this.componentType=s(3771).Z:"share"===this.post.type&&(this.componentType=s(7689).Z))},data:function(){return{componentType:s(8117).Z}},name:"PostCard",props:{hasComment:{type:Boolean,default:!0,required:!1},post:{type:Object,default:void 0,required:!0}}};const a=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return null!=t.post&&null!=t.post?s(t.componentType,{tag:"component",staticClass:"mb-3",attrs:{post:t.post,"has-comment":t.hasComment}}):t._e()}),[],!1,null,null,null).exports},7689:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var i=s(8126),a=s(5740),o=s(3979),n=s(3914),l=s(4711),r=s(4670);i.Z.addLocale(n);const c={data:function(){return{liked:!1,deleted:!1,bookmarked:!1,openComment:!1,showEmbed:!1,showReshare:!1,showLikes:!1,edit:!1,componentType:s(8117).Z,showMore:!1}},created:function(){this.post.share&&("article"===this.post.share.type&&(this.componentType=s(3771).Z),this.liked=this.post.is_liked,this.bookmarked=this.post.is_bookmarked,this.showMore=null!=this.post.text&&this.post.text.length<283)},mounted:function(){this.$refs.textelem&&(this.$refs.textelem.oncopy=function(t){t.preventDefault()});var t=this;new IntersectionObserver((function(){t.seen_content.includes(t.post.id)||(t.seen_content.push(t.post.id),t.seen_request.push(t.post.id))}),{root:null,threshold:1}).observe(this.$el)},methods:{doDelete:function(){this.deleted=!0,axios.delete("/posts/"+this.post.id)},like:function(){this.liked?this.liked=!1:this.liked=!0;this.$axios({method:"post",url:this.$APP_URL+"/like/"+this.post.id}).catch((function(t){}))},bookmark:function(){this.bookmarked?this.bookmarked=!1:this.bookmarked=!0;this.$axios({method:"post",url:this.$APP_URL+"/bookmark/"+this.post.id}).catch((function(t){}))}},name:"ResharedPost",components:{CommentsList:a.Z,EmbedCodeModal:o.Z,ReshareModal:l.Z,PostMenu:r.Z},props:{hasComment:{type:Boolean,default:!0,required:!1},showMenu:{type:Boolean,default:!0,required:!1},post:{type:Object,default:void 0,required:!0}},computed:{isImage:function(){return!this.post.media_type.startsWith("video")},post_time:function(){return new i.Z("fa-FA").format(Date.parse(this.post.created_at),"fa_FA")},updated_at:function(){return null!==this.post.updated_at?new i.Z("fa-FA").format(Date.parse(this.post.updated_at),"fa_FA"):""}}};const d=(0,s(1900).Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return void 0===t.post||null==t.post||null==t.post.share||null==t.post.share||t.deleted?t._e():s("div",{staticClass:"post-box"},[s("ReshareModal",{attrs:{post:t.post.share,show:t.showReshare},on:{"update:show":function(e){t.showReshare=e}}}),t._v(" "),s("EmbedCodeModal",{attrs:{post:t.post,show:t.showEmbed},on:{"update:show":function(e){t.showEmbed=e}}}),t._v(" "),s("likes-modal",{attrs:{item:t.post.id,show:t.showLikes},on:{"update:show":function(e){t.showLikes=e}}}),t._v(" "),s("new-post-modal",{attrs:{post:t.post,show:t.edit},on:{"update:show":function(e){t.edit=e}}}),t._v(" "),s("div",{staticClass:"post-header pt-0"},[s("wire-link",{staticClass:"publisher",attrs:{href:"/"+t.post.page.slug}},[s("lazy-image",{staticClass:"profile-sm mb-0",attrs:{"img-class":"profile-sm",src:t.post.page.profile}}),t._v(" "),s("div",[s("strong",[t._v(" "+t._s(t.post.page.name)+" "),1===t.post.page.is_verified?s("i",{staticClass:"verificationcheck"},[t._v("check_circle")]):t._e()]),t._v(" "),s("span",{staticClass:"text-muted font-12"},[t._v("\n\t\t\t\t\t"+t._s(t.post.page.short_bio)+"\n\t\t\t\t")]),t._v(" "),t.showMenu?s("div",{staticClass:"post-time",class:{"pt-0":null!=t.post.text&&t.post.text.length>0}},[t._v("\n\t\t\t\t\t"+t._s(t.post_time)+"\n\t\t\t\t\t"),s("span",{staticClass:"mx-1 font-10"},[t._v("●")]),t._v(" "),t.post.updated_at!==t.post.created_at?s("span",[t._v("بروز شده")]):t._e(),t._v(" "),t.post.updated_at!==t.post.created_at?s("span",{staticClass:"mx-1 font-10"},[t._v("●")]):t._e(),t._v(" "),s("i",{staticClass:"material-icons-outlined text-light verical-middle"},[t._v("\n\t\t\t\t\t\t"+t._s("public"===t.post.show?"public":"group")+"\n\t\t\t\t\t")])]):t._e()])],1),t._v(" "),t.showMenu?s("div",{staticClass:"actions position-relative"},[s("i",{staticClass:"material-icons bookmark-icon clickable text-muted hover-dark",on:{click:t.bookmark}},[t._v(t._s(t.bookmarked?"bookmark":"bookmark_border"))]),t._v(" "),s("div",[s("post-menu",{attrs:{post:t.post},on:{deleted:t.doDelete,edit:function(e){t.edit=!0},embed:function(e){t.showEmbed=!0}}})],1)]):t._e()],1),t._v(" "),null!=t.post.text&&t.post.text.length>0?s("div",{staticClass:"post-body"},[s("pre",{ref:"textelem",staticClass:"text",class:{open:t.showMore},domProps:{innerHTML:t._s(t.post.text)}}),t._v(" "),null!=t.post.text&&t.post.text.length>283?s("span",{staticClass:"text-action clickable",on:{click:function(e){t.showMore=!t.showMore}}},[t._v(t._s(t.showMore?"نمایش کمتر":"نمایش بیشتر"))]):t._e()]):t._e(),t._v(" "),s("wire-link",{staticClass:"border clickable my-2 mx-3",attrs:{as:"div",href:"/posts/"+t.post.share.id}},[s(t.componentType,{tag:"component",staticClass:"shadow-0",staticStyle:{"margin-bottom":"0 !important"},attrs:{post:t.post.share,"show-menu":!1}})],1),t._v(" "),s("div",{staticClass:"post-footer"},[(null!=t.post.tags&&t.post.tags.length>0||null!==t.post.category)&&t.showMenu?s("div",{staticClass:"tagandcate"},[t.post.tags.length>0?s("div",{staticClass:"tags"},t._l(t.post.tags,(function(e){return s("a",{key:e,staticClass:"tag-item",attrs:{href:"/tags/"+e}},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])})),0):t._e(),t._v(" "),null!==t.post.category?s("a",{staticClass:"category",attrs:{href:"/"+t.post.page.slug+"/categories/"+t.post.category.id}},[s("i",{staticClass:"material-icons text-grey"},[t._v("layers")]),s("span",{staticClass:"text-grey"},[t._v(" "+t._s(t.post.category.name))])]):t._e()]):t._e(),t._v(" "),null!==t.post.medias&&void 0!==t.post.medias&&t.post.medias.length>0?s("div",{staticClass:"images"},[t.isImage?s("lazy-image",{staticClass:"m-0",attrs:{alt:"",src:t.post.medias}}):s("video",{staticStyle:{"max-width":"100%"},attrs:{src:t.post.medias,controls:"",controlslist:"nodownload"}})],1):t._e(),t._v(" "),t.showMenu&&t.$store.state.user?s("div",{staticClass:"actions"},[s("div",[null!=t.post.mutual_likes&&t.post.mutual_likes.length>0?s("div",{staticClass:"d-flex post-likes-text text-muted clickable",on:{click:function(e){t.showLikes=!0}}},[s("span",{staticClass:"ml-1"},[t._v("پسندیده شده توسط")]),t._v(" "),t.post.mutual_likes[0]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.post.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.post.mutual_likes[0].page.name))])]):t._e(),t._v(" "),t.post.mutual_likes.length>1?s("div",[s("span",{staticClass:"mr-1"},[t._v("و")]),t._v(" "),t.post.mutual_likes[1]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.post.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.post.mutual_likes[1].page.name))])]):t._e()],1):t._e(),t._v(" "),t.post.mutual_likes.length>2?s("span",{staticClass:"mx-1"},[t._v(" و ... ")]):t._e()],1):t._e()]),t._v(" "),s("div",{staticClass:"buttons"},[s("i",{staticClass:"material-icons-outlined",on:{click:function(e){t.showReshare=!0}}},[t._v("sync")]),t._v(" "),t.hasComment?s("i",{class:{"material-icons-outlined":!t.openComment,"material-icons":t.openComment},on:{click:function(e){t.openComment=!t.openComment}}},[t._v("comment")]):t._e(),t._v(" "),t.checkUser(t.post.page.user_id)?t._e():s("i",{staticClass:"material-icons like",class:{"text-danger":t.liked},on:{click:t.like}},[t._v(t._s(t.liked?"favorite":"favorite_border"))])])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"slide"}},[t.openComment&&t.hasComment?s("div",[s("CommentsList",{attrs:{post:t.post.id}})],1):t._e()])],1)}),[],!1,null,null,null).exports},8117:(t,e,s)=>{"use strict";s.d(e,{Z:()=>d});var i=s(8126),a=s(5740),o=s(3979),n=s(3914),l=s(4711),r=s(4670);i.Z.addLocale(n);const c={data:function(){return{liked:!1,bookmarked:!1,openComment:!1,showEmbed:!1,showReshare:!1,showLikes:!1,deleted:!1,edit:!1,showMore:!1}},created:function(){this.liked=this.post.is_liked,this.bookmarked=this.post.is_bookmarked,this.showMore=null!=this.post.text&&this.post.text.length<283},mounted:function(){this.$refs.textelem&&(this.$refs.textelem.oncopy=function(t){t.preventDefault()});var t=this;new IntersectionObserver((function(){t.seen_content.includes(t.post.id)||(t.seen_content.push(t.post.id),t.seen_request.push(t.post.id))}),{root:null,threshold:1}).observe(this.$el)},methods:{like:function(){this.liked?this.liked=!1:this.liked=!0;this.$axios({method:"post",url:this.$APP_URL+"/like/"+this.post.id}).catch((function(t){}))},doDelete:function(){this.deleted=!0,axios.delete("/posts/"+this.post.id)},bookmark:function(){this.bookmarked?this.bookmarked=!1:this.bookmarked=!0;this.$axios({method:"post",url:this.$APP_URL+"/bookmark/"+this.post.id}).catch((function(t){}))}},name:"SimplePost",components:{CommentsList:a.Z,EmbedCodeModal:o.Z,ReshareModal:l.Z,PostMenu:r.Z},props:{hasComment:{type:Boolean,default:!0,required:!1},showMenu:{type:Boolean,default:!0,required:!1},post:{type:Object,default:void 0,required:!0}},computed:{isImage:function(){return!this.post.media_type.startsWith("video")},post_time:function(){return new i.Z("fa-FA").format(Date.parse(this.post.created_at),"fa_FA")},updated_at:function(){return null!==this.post.updated_at?new i.Z("fa-FA").format(Date.parse(this.post.updated_at),"fa_FA"):""}}};const d=(0,s(1900).Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return void 0===t.post||t.deleted?t._e():s("div",{staticClass:"post-box",class:{"reshared-post":!t.showMenu}},[s("ReshareModal",{attrs:{post:t.post,show:t.showReshare},on:{"update:show":function(e){t.showReshare=e}}}),t._v(" "),s("EmbedCodeModal",{attrs:{post:t.post,show:t.showEmbed},on:{"update:show":function(e){t.showEmbed=e}}}),t._v(" "),s("new-post-modal",{attrs:{post:t.post,show:t.edit},on:{"update:show":function(e){t.edit=e}}}),t._v(" "),s("likes-modal",{attrs:{item:t.post.id,show:t.showLikes},on:{"update:show":function(e){t.showLikes=e}}}),t._v(" "),s("div",{staticClass:"post-header pt-0"},[s("wire-link",{staticClass:"publisher",attrs:{href:"/"+t.post.page.slug}},[s("lazy-image",{staticClass:"profile-sm mb-0",attrs:{"img-class":"profile-sm",src:t.post.page.profile}}),t._v(" "),s("div",[s("strong",{staticClass:"publisher--name"},[t._v(" "+t._s(t.post.page.name)+" "),1===t.post.page.is_verified?s("i",{staticClass:"verificationcheck"},[t._v("check_circle")]):t._e()]),t._v(" "),s("span",{staticClass:"publisher--shortbio"},[t._v("\n\t\t\t\t\t"+t._s(t.post.page.short_bio)+"\n\t\t\t\t")]),t._v(" "),t.showMenu?s("div",{staticClass:"post-time",class:{"pt-0":null!=t.post.text&&t.post.text.length>0}},[t._v("\n\t\t\t\t\t"+t._s(t.post_time)+"\n\t\t\t\t\t"),s("span",{staticClass:"mx-1 font-10"},[t._v("●")]),t._v(" "),t.post.updated_at!==t.post.created_at?s("span",[t._v("بروز شده")]):t._e(),t._v(" "),t.post.updated_at!==t.post.created_at?s("span",{staticClass:"mx-1 font-10"},[t._v("●")]):t._e(),t._v(" "),s("i",{staticClass:"material-icons-outlined text-light verical-middle"},[t._v("\n\t\t\t\t\t\t"+t._s("public"===t.post.show?"public":"group")+"\n\t\t\t\t\t")])]):t._e()])],1),t._v(" "),t.showMenu?s("div",{staticClass:"actions position-relative"},[s("i",{staticClass:"material-icons bookmark-icon clickale text-muted clickable hover-dark",on:{click:t.bookmark}},[t._v(t._s(t.bookmarked?"bookmark":"bookmark_border"))]),t._v(" "),s("div",[s("post-menu",{attrs:{post:t.post},on:{deleted:t.doDelete,edit:function(e){t.edit=!0},embed:function(e){t.showEmbed=!0}}})],1)]):t._e()],1),t._v(" "),null!=t.post.text&&t.post.text.length>0?s("div",{staticClass:"post-body"},[s("pre",{ref:"textelem",staticClass:"text",class:{open:t.showMore},domProps:{innerHTML:t._s(t.post.text)}}),t._v(" "),null!=t.post.text&&t.post.text.length>283?s("span",{staticClass:"text-action clickable",on:{click:function(e){t.showMore=!t.showMore}}},[t._v(t._s(t.showMore?"نمایش کمتر":"نمایش بیشتر"))]):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"post-footer"},[(null!=t.post.tags&&t.post.tags.length>0||null!==t.post.category)&&t.showMenu?s("div",{staticClass:"tagandcate"},[s("div",{staticClass:"tags"},t._l(t.post.tags,(function(e){return s("wire-link",{key:e,staticClass:"tag-item",attrs:{href:"/tags/"+e}},[t._v("\n\t\t\t\t\t"+t._s(e)+"\n\t\t\t\t")])})),1),t._v(" "),null!==t.post.category?s("a",{staticClass:"category",attrs:{href:"/"+t.post.page.slug+"/categories/"+t.post.category.id}},[s("i",{staticClass:"material-icons text-grey"},[t._v("layers")]),t._v(" "),s("span",{staticClass:"text-grey"},[t._v(" "+t._s(t.post.category.name))])]):t._e()]):t._e(),t._v(" "),null!==t.post.medias&&void 0!==t.post.medias&&t.post.medias.length>0?s("div",{staticClass:"images"},[t.isImage?s("lazy-image",{staticClass:"m-0",staticStyle:{"min-height":"218px"},attrs:{alt:"",src:t.post.medias}}):s("video",{staticStyle:{"max-width":"100%"},attrs:{src:t.post.medias,controls:"",controlslist:"nodownload"}})],1):t._e(),t._v(" "),t.showMenu&&t.$store.state.user?s("div",{staticClass:"actions"},[s("div",[null!=t.post.mutual_likes&&t.post.mutual_likes.length>0?s("div",{staticClass:"d-flex post-likes-text text-muted clickable",on:{click:function(e){t.showLikes=!0}}},[s("span",{staticClass:"ml-1"},[t._v("پسندیده شده توسط")]),t._v(" "),t.post.mutual_likes[0]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.post.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.post.mutual_likes[0].page.name))])]):t._e(),t._v(" "),t.post.mutual_likes.length>1?s("div",[s("span",{staticClass:"mr-1"},[t._v("و")]),t._v(" "),t.post.mutual_likes[1]?s("wire-link",{staticClass:"text-dark",attrs:{href:"/"+t.post.mutual_likes[0].page.slug}},[s("strong",{staticClass:"text-light"},[t._v(t._s(t.post.mutual_likes[1].page.name))])]):t._e()],1):t._e(),t._v(" "),t.post.mutual_likes.length>2?s("span",{staticClass:"mx-1"},[t._v(" و ... ")]):t._e()],1):t._e()]),t._v(" "),s("div",{staticClass:"buttons"},[t.hasComment?s("i",{class:{"material-icons-outlined":!t.openComment,"material-icons":t.openComment},on:{click:function(e){t.openComment=!t.openComment}}},[t._v("comment")]):t._e(),t._v(" "),t.checkUser(t.post.page.user_id)?t._e():s("i",{staticClass:"material-icons like",class:{"text-danger":t.liked},on:{click:t.like}},[t._v(t._s(t.liked?"favorite":"favorite_border"))])])]):t._e()]),t._v(" "),s("transition",{attrs:{name:"slide"}},[t.openComment?s("div",[s("CommentsList",{attrs:{post:t.post.id}})],1):t._e()])],1)}),[],!1,null,null,null).exports},2416:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});const i={methods:{removeLastTag:function(){(null==this.input||this.input.length<1)&&(this.tags.pop(),this.$emit("input",this.tags))},removeTag:function(t){this.tags.splice(t,1),this.$emit("input",this.tags)},addTag:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=t?-1==this.tags.indexOf(t)&&(this.tags.push(t),this.input=null,this.$emit("input",this.tags),this.suggestions=[]):null!=this.input&&-1==this.tags.indexOf(this.input)&&(this.tags.push(this.input),this.input=null,this.$emit("input",this.tags))},check:function(){(null==this.val||this.val.length<1)&&this.required||this.notValid?this.invalid=!0:this.invalid=!1}},created:function(){this.tags=this.value},watch:{value:function(){this.tags=this.value},input:function(t){var e=this;null!=t&&t.length>0&&axios.get(this.$APP_URL+"/gettags?term="+t+"&q="+t).then((function(t){var s=t.data;s.results.length>0&&(e.suggestions=s.results)}))}},data:function(){return{tags:[],suggestions:[],input:null,invalid:!1}},props:{notValid:{type:Boolean,default:!1,required:!1},value:{type:Array,required:!1},required:{type:Boolean,default:!1,required:!1},type:{type:String,default:"text",required:!1},maxlength:{type:Number,default:15e3,required:!1},inputClass:{type:String,default:"",required:!1},placeholder:{type:String,default:void 0,required:!1}}};const a=(0,s(1900).Z)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex tag-input",class:{focus:null!=t.tags&&null!=t.tags&&t.tags.length>0}},[s("div",{staticClass:"tags"},t._l(t.tags,(function(e,i){return s("div",{key:"newpost_tag_"+e+"_"+i,staticClass:"tag-item",on:{click:function(e){return t.removeTag(i)}}},[t._v("\n            "+t._s(e)+"\n        ")])})),0),t._v(" "),"checkbox"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"input",class:[t.inputClass,{invalid:t.invalid}],attrs:{placeholder:" ",disabled:null!=t.tags&&null!=t.tags&&3==t.tags.length,maxlength:t.maxlength,type:"checkbox"},domProps:{checked:Array.isArray(t.input)?t._i(t.input,null)>-1:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag()},blur:t.check,change:function(e){var s=t.input,i=e.target,a=!!i.checked;if(Array.isArray(s)){var o=t._i(s,null);i.checked?o<0&&(t.input=s.concat([null])):o>-1&&(t.input=s.slice(0,o).concat(s.slice(o+1)))}else t.input=a}}}):"radio"===t.type?s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"input",class:[t.inputClass,{invalid:t.invalid}],attrs:{placeholder:" ",disabled:null!=t.tags&&null!=t.tags&&3==t.tags.length,maxlength:t.maxlength,type:"radio"},domProps:{checked:t._q(t.input,null)},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag()},blur:t.check,change:function(e){t.input=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],staticClass:"input",class:[t.inputClass,{invalid:t.invalid}],attrs:{placeholder:" ",disabled:null!=t.tags&&null!=t.tags&&3==t.tags.length,maxlength:t.maxlength,type:t.type},domProps:{value:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTag()},blur:t.check,input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),t._m(0),t._v(" "),t.suggestions.length>0&&null!=this.input&&this.input.length>0?s("div",{staticClass:"tags-suggestion"},[s("div",{staticClass:"tags flex-wrap"},t._l(t.suggestions,(function(e,i){return s("div",{key:"suggested_tag_"+e+"_"+i,staticClass:"tag-item",on:{click:function(s){return t.addTag(e.text)}}},[t._v("\n                "+t._s(e.text)+"\n            ")])})),0)]):t._e()])}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"d-flex align-items-center"},[t._v("\n        برچسب‌ها\n        "),s("small",{staticClass:"max-text mr-1"},[t._v("حداکثر 3 برچسب")])])}],!1,null,null,null).exports}}]);