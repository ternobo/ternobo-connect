(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{iGCP:function(t,e,n){"use strict";n.r(e);var a=n("Ql3O"),i=n("xBln"),o=n("mRTQ"),s=n("nzbj"),l={methods:{sendVcode:function(t){var e=this;this.loading=!0;var n=new FormData;n.append("phone",this.phone);var a={method:"post",url:this.$APP_URL+"/auth/verification",data:n};axios(a).then((function(t){if(t.data.result)e.verification_step=!0;else{var n=t.data.errors;e.handleError(n)}e.loading=!1})).catch((function(t){e.loading=!1}))},verifyCode:function(){var t=this;this.nextLoading=!0;var e=new FormData;e.append("code",this.code);var n={method:"post",url:this.$APP_URL+"/auth/verify-phone",data:e};axios(n).then((function(e){e.data.result?(t.$emit("update:show",!1),t.$emit("updated",t.phone),t.invalidCode=!1):t.invalidCode=!0,t.nextLoading=!1})).catch((function(e){t.nextLoading=!1})).then((function(){return t.completedCode=!0}))}},props:{value:{default:null}},mounted:function(){this.phone=this.value},data:function(){return{loading:!1,code:null,verification_step:!1,phone:null,nextLoading:!1,invalidCode:!1,completedCode:!1}},components:{LoadingButton:i.a,LoadingSpinner:o.a,OtpInput:s.a},mixins:[a.a],name:"PhoneNumberModal"},d=n("KHd+"),c=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-modal",{attrs:{"hide-footer":"",title:"ثبت / ویرایش تلفن همراه","body-class":"modal-signup",size:"md",centered:!0},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("div",{staticClass:"d-flex ephone-input-group py-0 justify-content-between align-items-center"},[n("LoadingButton",{staticClass:"btn btn-dark signup-save-btn",attrs:{loading:t.loading,disabled:t.verification_step},nativeOn:{click:function(e){return t.sendVcode()}}},[t._v("ثبت")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control mx-1 text-left",attrs:{type:"tel",readonly:t.verification_step,placeholder:"09126667152"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})],1),t._v(" "),n("transition",{attrs:{name:"slide"}},[t.verification_step?n("div",{staticClass:"text"},[n("label",{staticClass:"ml-1 mt-2 text-left clickable",on:{click:function(e){t.verification_step=!1}}},[t._v("شماره همراه اشتباه است؟")]),t._v(" "),n("div",{staticClass:"input-group d-flex align-items-center flex-column justify-content-center mt-4"},[n("label",{staticClass:"w-100"},[t._v("کد تایید خود ‌را وارد کنید")]),t._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("otp-input",{staticClass:"material--sm mx-1 text-center",attrs:{"input-class":"w-100",numInputs:6},on:{completed:t.verifyCode},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}}),t._v(" "),n("i",{staticClass:"material-icons-outlined mr-3",class:{"text-muted":!t.invalidCode&&!t.completedCode,"text-danger":t.invalidCode,"text-success":!t.invalidCode}},[t._v("verified_user")])],1),t._v(" "),n("LoadingButton",{staticClass:"btn btn-dark mt-4",attrs:{loading:t.nextLoading},nativeOn:{click:function(e){return t.verifyCode(e)}}},[t._v("تایید")])],1)]):t._e()])],1)}),[],!1,null,null,null);e.default=c.exports}}]);