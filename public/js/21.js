(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{OJKn:function(t,e,o){"use strict";o.r(e);var n=o("xBln"),s={created:function(){this.$page.followings.includes(this.page)&&(this.followed=!0,this.text="دنبال شده")},data:function(){return{loading:!1,followed:!1,text:"دنبال کردن"}},props:{page:{type:Number,default:void 0,required:!0}},methods:{follow:function(){var t=this;if(this.loading=!0,this.followed){e={method:"post",url:this.$APP_URL+"/unfollow/"+this.page};axios(e).then((function(e){if(e.data.result)t.loading=!1,t.$page.followings.remove(t.page),t.text="دنبال کردن",t.followed=!1,t.emit("unfollowed");else{var o=e.data.errors;Object.keys(o).forEach((function(e,n){t.$bvToast.toast(o[e][0],{noCloseButton:!0,toaster:"b-toaster-bottom-left",bodyClass:["bg-dark","text-right","text-white"],solid:!0})}))}t.loading=!1})).catch((function(e){t.loading=!1}))}else{var e={method:"post",url:this.$APP_URL+"/follow/"+this.page};axios(e).then((function(e){if(e.data.result)t.loading=!1,t.$page.followings.push(t.page),t.text="دنبال شده",t.followed=!0,t.emit("followed");else{var o=e.data.errors;Object.keys(o).forEach((function(e,n){t.$bvToast.toast(o[e][0],{noCloseButton:!0,toaster:"b-toaster-bottom-left",bodyClass:["bg-dark","text-right","text-white"],solid:!0})}))}t.loading=!1})).catch((function(e){t.loading=!1}))}}},components:{LoadingButton:n.a}},a=o("KHd+"),l=Object(a.a)(s,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("LoadingButton",{staticClass:"follow-btn",class:{"btn-followed-connected":t.followed},attrs:{loading:t.loading},nativeOn:{click:function(e){return t.follow(e)}}},[t._v(t._s(t.text))])}),[],!1,null,null,null).exports,i=o("iwIU"),c={props:{page:{type:Object,default:void 0,required:!0}},components:{FollowButton:l,ConnectionButton:i.a},name:"PeopleSuggestion"},r=Object(a.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"people-sugestion d-flex justify-content-between align-items-center"},[o("inertia-link",{staticClass:"d-flex h-100 align-items-center w-100",attrs:{href:t.page.slug}},[o("lazy-image",{staticClass:"profileimage my-0 ml-2",attrs:{alt:"",src:t.page.profile}}),t._v(" "),o("div",{staticClass:"d-flex ml-2 align-items-start flex-column justify-content-center w-100"},[o("span",{staticClass:"person-name"},[t._v(t._s(t.page.name))]),t._v(" "),o("small",{staticClass:"text-muted person-short-bio"})])],1),t._v(" "),o("div",{staticClass:"d-flex flex-column actions",staticStyle:{"margin-left":"4px",width:"80px"}},[o("connection-button",{attrs:{user:t.page.user_id}}),t._v(" "),o("follow-button",{attrs:{page:t.page.id}})],1)],1)}),[],!1,null,null,null);e.default=r.exports},iwIU:function(t,e,o){"use strict";var n={created:function(){this.$page.connectedPeople.includes(this.user)&&(this.connected=!0,this.text="متصل شده")},data:function(){return{loading:!1,connected:!1,text:"متصل شدن"}},props:{user:{default:void 0,required:!0}},methods:{connect:function(){var t=this;if(this.loading=!0,this.connected){e={method:"post",url:this.$APP_URL+"/disconnect/"+this.page};axios(e).then((function(e){if(e.data.result)t.loading=!1,t.$page.connectedPeople.remove(t.user),t.text="متصل شدن",t.connected=!1,t.emit("disconnected");else{var o=e.data.errors;Object.keys(o).forEach((function(e,n){t.$bvToast.toast(o[e][0],{noCloseButton:!0,toaster:"b-toaster-bottom-left",bodyClass:["bg-dark","text-right","text-white"],solid:!0})}))}t.loading=!1})).catch((function(e){t.loading=!1}))}else{var e={method:"post",url:this.$APP_URL+"/connect/"+this.user};axios(e).then((function(e){if(e.data.result)t.loading=!1,t.$page.connectedPeople.push(t.user),t.text="متصل شده",t.connected=!0,t.emit("connected");else{var o=e.data.errors;Object.keys(o).forEach((function(e,n){t.$bvToast.toast(o[e][0],{noCloseButton:!0,toaster:"b-toaster-bottom-left",bodyClass:["bg-dark","text-right","text-white"],solid:!0})}))}t.loading=!1})).catch((function(e){t.loading=!1}))}}},components:{LoadingButton:o("xBln").a}},s=o("KHd+"),a=Object(s.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("LoadingButton",{staticClass:"connect-btn",class:{"btn-followed-connected":t.connected},attrs:{loading:t.loading},nativeOn:{click:function(e){return t.connect(e)}}},[t._v(t._s(t.text))])}),[],!1,null,null,null);e.a=a.exports}}]);
//# sourceMappingURL=21.js.map