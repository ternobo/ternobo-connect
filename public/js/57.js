(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{wA3d:function(t,e,a){"use strict";a.r(e);var n=a("Ql3O"),s=a("xBln"),i=a("mRTQ"),l={methods:{save:function(){var t=this;this.saveLoading=!0,axios.post("/auth/set-username",{username:this.username}).then((function(e){e.data.result?(t.$emit("updated",e.data.username),t.$emit("update:show",!1)):t.handleError(e.data.errors)})).catch((function(e){t.error("خطا در بر فراری ارتباط")})).then((function(){return t.saveLoading=!1}))},checkValidation:function(){var t=this;this.loading=!0,axios.post("/auth/check-username",{username:this.username}).then((function(e){t.valid=e.data.valid})).catch((function(e){t.error("خطا در بر فراری ارتباط")})).then((function(){return t.loading=!1}))}},props:{value:{type:String,default:null,required:!0}},mounted:function(){var t=this;this.username=this.value,axios.post("/auth/suggest-username").then((function(e){t.suggestions=e.data.list}))},data:function(){return{loading:!1,saveLoading:!1,valid:!0,username:null,suggestions:[]}},components:{LoadingButton:s.a,LoadingSpinner:i.a},mixins:[n.a],name:"UsernameModal"},o=a("KHd+"),r=Object(o.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{"hide-footer":"","body-class":"modal-signup",title:"ویرایش نام کاربری",size:"md",centered:!0},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("div",[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("loading-button",{staticClass:"btn btn-primary signup-save-btn",attrs:{disabled:t.loading||!t.valid,loading:t.saveLoading},nativeOn:{click:function(e){return t.save(e)}}},[t._v("ثبت")]),t._v(" "),a("div",{staticClass:"d-flex align-items-center"},[a("i",{staticClass:"material-icons ml-2",class:{"text-danger":!t.valid,"text-success":t.valid}},[t._v(t._s(t.valid?"check_circle_outline":"highlight_off"))]),t._v(" "),a("material-text-field",{staticClass:"material--sm",attrs:{"no-space":!0,placeholder:"نام کاربری",required:!0,maxlength:30},on:{blur:t.checkValidation},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}},[t.loading?a("loading-spinner",{staticClass:"position-absolute",staticStyle:{left:"0",height:"10px",width:"10px","border-width":"2px"}}):t._e()],1)],1)],1),t._v(" "),a("div",{staticClass:"d-flex justify-content-end pt-3"},[a("span",{staticClass:"text-muted font-16 ml-4"},[t._v("پیشنهادات ما")]),t._v(" "),a("ul",{staticClass:"text-left p-0",attrs:{dir:"ltr"}},t._l(t.suggestions,(function(e){return a("li",{key:"username_suggestion_"+e,staticClass:"clickable",on:{click:function(a){t.username=e}}},[t._v("- "+t._s(e))])})),0)])])])}),[],!1,null,null,null);e.default=r.exports}}]);
//# sourceMappingURL=57.js.map